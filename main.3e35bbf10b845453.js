"use strict";(self.webpackChunktodo_app=self.webpackChunktodo_app||[]).push([[179],{2011:(dt,Ae,k)=>{k.d(Ae,{Dh:()=>de,GT:()=>pe,cc:()=>Se,hO:()=>We,on:()=>$,pX:()=>X,xv:()=>le});var h=k(5e3),Z=k(127),O=k(5813);dt=k.hmd(dt);const ae=["ngOnDestroy"],X=(Ee,it,Qe,Ie={})=>new Proxy(Ee,{get:(ye,ve)=>Qe.runOutsideAngular(()=>{var He;if(Ee[ve])return(null===(He=null==Ie?void 0:Ie.spy)||void 0===He?void 0:He.get)&&Ie.spy.get(ve,Ee[ve]),Ee[ve];if(ae.indexOf(ve)>-1)return()=>{};const $e=it.toPromise().then(re=>{const Ke=re&&re[ve];return"function"==typeof Ke?Ke.bind(re):Ke&&Ke.then?Ke.then(J=>Qe.run(()=>J)):Qe.run(()=>Ke)});return new Proxy(()=>{},{get:(re,Ke)=>$e[Ke],apply:(re,Ke,J)=>$e.then(oe=>{var ne;const be=oe&&oe(...J);return(null===(ne=null==Ie?void 0:Ie.spy)||void 0===ne?void 0:ne.apply)&&Ie.spy.apply(ve,J,be),be})})})}),pe=(Ee,it)=>{it.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Ie=>{Object.defineProperty(Ee.prototype,Ie,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Ie))})})};class ie{constructor(it){return it}}const de=new h.OlP("angularfire2.app.options"),le=new h.OlP("angularfire2.app.name");function $(Ee,it,Qe){const ye="object"==typeof Qe&&Qe||{};ye.name=ye.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const He=Z.Z.apps.filter($e=>$e&&$e.name===ye.name)[0]||it.runOutsideAngular(()=>Z.Z.initializeApp(Ee,ye));try{JSON.stringify(Ee)!==JSON.stringify(He.options)&&H("error",`${He.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch($e){}return new ie(He)}const H=(Ee,...it)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[Ee](...it)},Q={provide:ie,useFactory:$,deps:[de,h.R0b,[new h.FiY,le]]};let We=(()=>{class Ee{constructor(Qe){Z.Z.registerVersion("angularfire",O.q4.full,"core"),Z.Z.registerVersion("angularfire",O.q4.full,"app-compat"),Z.Z.registerVersion("angular",h.q4F.full,Qe.toString())}static initializeApp(Qe,Ie){return{ngModule:Ee,providers:[{provide:de,useValue:Qe},{provide:le,useValue:Ie}]}}}return Ee.\u0275fac=function(Qe){return new(Qe||Ee)(h.LFG(h.Lbi))},Ee.\u0275mod=h.oAB({type:Ee}),Ee.\u0275inj=h.cJS({providers:[Q]}),Ee})();function Se(Ee,it,Qe,Ie,ye){const[,ve,He]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===Ee)||[];if(ve)return function Ne(Ee,it){try{return Ee.toString()===it.toString()}catch(Qe){return Ee===it}}(ye,He)||(he("error",`${it} was already initialized on the ${Qe} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:ye,was:He})),ve;{const $e=Ie();return globalThis.\u0275AngularfireInstanceCache.push([Ee,$e,ye]),$e}}const Le=!!dt.hot,he=(Ee,...it)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[Ee](...it)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(dt,Ae,k)=>{k.d(Ae,{q4:()=>Rl,iC:()=>Fl,HU:()=>Su,vb:()=>id,JM:()=>to});var h=k(5e3),Z=k(5867),O=k(5861),ae=k(9681),X=k(2090),pe=k(4859),ie=k(1877);const de="@firebase/installations",H="w:0.5.8",Q="FIS_v2",Ee=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function it(C){return C instanceof X.ZR&&C.code.includes("request-failed")}function Qe({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ie(C){return{token:C.token,requestStatus:2,expiresIn:J(C.expiresIn),creationTime:Date.now()}}function ye(C,I){return ve.apply(this,arguments)}function ve(){return(ve=(0,O.Z)(function*(C,I){const L=(yield I.json()).error;return Ee.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function He({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function $e(C,{refreshToken:I}){const R=He(C);return R.append("Authorization",function oe(C){return`${Q} ${C}`}(I)),R}function re(C){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,O.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function J(C){return Number(C.replace("s","000"))}function ne(C,I){return be.apply(this,arguments)}function be(){return(be=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:R}){const L=Qe(C),W=He(C),ee=I.getImmediate({optional:!0});if(ee){const It=yield ee.getHeartbeatsHeader();It&&W.append("x-firebase-client",It)}const xe={method:"POST",headers:W,body:JSON.stringify({fid:R,authVersion:Q,appId:C.appId,sdkVersion:H})},nt=yield re(()=>fetch(L,xe));if(nt.ok){const It=yield nt.json();return{fid:It.fid||R,registrationStatus:2,refreshToken:It.refreshToken,authToken:Ie(It.authToken)}}throw yield ye("Create Installation",nt)})).apply(this,arguments)}function ge(C){return new Promise(I=>{setTimeout(I,C)})}const St=/^[cdef][\w-]{21}$/;function an(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function qe(C){return function Fe(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return St.test(R)?R:""}catch(C){return""}}function Wt(C){return`${C.appName}!${C.appId}`}const Xn=new Map;function Cn(C,I){const R=Wt(C);Jt(R,I),function Kt(C,I){const R=function ii(){return!lr&&"BroadcastChannel"in self&&(lr=new BroadcastChannel("[Firebase] FID Change"),lr.onmessage=C=>{Jt(C.data.key,C.data.fid)}),lr}();R&&R.postMessage({key:C,fid:I}),function Os(){0===Xn.size&&lr&&(lr.close(),lr=null)}()}(R,I)}function Jt(C,I){const R=Xn.get(C);if(R)for(const L of R)L(I)}let lr=null;const Fr="firebase-installations-store";let cs=null;function ds(){return cs||(cs=(0,X.X3)("firebase-installations-database",1,(C,I)=>{0===I&&C.createObjectStore(Fr)})),cs}function ht(C,I){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,O.Z)(function*(C,I){const R=Wt(C),W=(yield ds()).transaction(Fr,"readwrite"),ee=W.objectStore(Fr),Me=yield ee.get(R);return yield ee.put(I,R),yield W.complete,(!Me||Me.fid!==I.fid)&&Cn(C,I.fid),I})).apply(this,arguments)}function er(C){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,O.Z)(function*(C){const I=Wt(C),L=(yield ds()).transaction(Fr,"readwrite");yield L.objectStore(Fr).delete(I),yield L.complete})).apply(this,arguments)}function si(C,I){return co.apply(this,arguments)}function co(){return(co=(0,O.Z)(function*(C,I){const R=Wt(C),W=(yield ds()).transaction(Fr,"readwrite"),ee=W.objectStore(Fr),Me=yield ee.get(R),xe=I(Me);return void 0===xe?yield ee.delete(R):yield ee.put(xe,R),yield W.complete,xe&&(!Me||Me.fid!==xe.fid)&&Cn(C,xe.fid),xe})).apply(this,arguments)}function _n(C){return tr.apply(this,arguments)}function tr(){return(tr=(0,O.Z)(function*(C){let I;const R=yield si(C.appConfig,L=>{const W=ks(L),ee=Ea(C,W);return I=ee.registrationPromise,ee.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function ks(C){return Gt(C||{fid:an(),registrationStatus:0})}function Ea(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Ee.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Zt(C,I){return lt.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:bt(C)}:{installationEntry:I}}function lt(){return(lt=(0,O.Z)(function*(C,I){try{const R=yield ne(C,I);return ht(C.appConfig,R)}catch(R){throw it(R)&&409===R.customData.serverCode?yield er(C.appConfig):yield ht(C.appConfig,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function bt(C){return cr.apply(this,arguments)}function cr(){return(cr=(0,O.Z)(function*(C){let I=yield Ki(C.appConfig);for(;1===I.registrationStatus;)yield ge(100),I=yield Ki(C.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield _n(C);return L||R}return I})).apply(this,arguments)}function Ki(C){return si(C,I=>{if(!I)throw Ee.create("installation-not-found");return Gt(I)})}function Gt(C){return function ho(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function wr(C,I){return dr.apply(this,arguments)}function dr(){return(dr=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:I},R){const L=ft(C,R),W=$e(C,R),ee=I.getImmediate({optional:!0});if(ee){const It=yield ee.getHeartbeatsHeader();It&&W.append("x-firebase-client",It)}const xe={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:H,appId:C.appId}})},nt=yield re(()=>fetch(L,xe));if(nt.ok)return Ie(yield nt.json());throw yield ye("Generate Auth Token",nt)})).apply(this,arguments)}function ft(C,{fid:I}){return`${Qe(C)}/${I}/authTokens:generate`}function Er(C){return jt.apply(this,arguments)}function jt(){return(jt=(0,O.Z)(function*(C,I=!1){let R;const L=yield si(C.appConfig,ee=>{if(!Bt(ee))throw Ee.create("not-registered");const Me=ee.authToken;if(!I&&j(Me))return ee;if(1===Me.requestStatus)return R=Xe(C,I),ee;{if(!navigator.onLine)throw Ee.create("app-offline");const xe=q(ee);return R=pt(C,xe),xe}});return R?yield R:L.authToken})).apply(this,arguments)}function Xe(C,I){return Te.apply(this,arguments)}function Te(){return(Te=(0,O.Z)(function*(C,I){let R=yield tt(C.appConfig);for(;1===R.authToken.requestStatus;)yield ge(100),R=yield tt(C.appConfig);const L=R.authToken;return 0===L.requestStatus?Er(C,I):L})).apply(this,arguments)}function tt(C){return si(C,I=>{if(!Bt(I))throw Ee.create("not-registered");return function ce(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function pt(C,I){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,O.Z)(function*(C,I){try{const R=yield wr(C,I),L=Object.assign(Object.assign({},I),{authToken:R});return yield ht(C.appConfig,L),R}catch(R){if(!it(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield ht(C.appConfig,L)}else yield er(C.appConfig);throw R}})).apply(this,arguments)}function Bt(C){return void 0!==C&&2===C.registrationStatus}function j(C){return 2===C.requestStatus&&!function V(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function q(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function Be(){return(Be=(0,O.Z)(function*(C){const I=C,{installationEntry:R,registrationPromise:L}=yield _n(I);return L?L.catch(console.error):Er(I).catch(console.error),R.fid})).apply(this,arguments)}function Xt(){return(Xt=(0,O.Z)(function*(C,I=!1){const R=C;return yield br(R),(yield Er(R,I)).token})).apply(this,arguments)}function br(C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,O.Z)(function*(C){const{registrationPromise:I}=yield _n(C);I&&(yield I)})).apply(this,arguments)}function Gn(C){return Ee.create("missing-app-config-values",{valueName:C})}const Da="installations",Oe=C=>{const I=C.getProvider("app").getImmediate(),R=function hs(C){if(!C||!C.options)throw Gn("App Configuration");if(!C.name)throw Gn("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!C.options[R])throw Gn(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,ae._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Lt=C=>{const I=C.getProvider("app").getImmediate(),R=(0,ae._getProvider)(I,Da).getImmediate();return{getId:()=>function Y(C){return Be.apply(this,arguments)}(R),getToken:W=>function vt(C){return Xt.apply(this,arguments)}(R,W)}};(function pn(){(0,ae._registerComponent)(new pe.wA(Da,Oe,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("installations-internal",Lt,"PRIVATE"))})(),(0,ae.registerVersion)(de,"0.5.8"),(0,ae.registerVersion)(de,"0.5.8","esm2017");const hr="@firebase/remote-config",xn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class kh{constructor(I,R,L,W){this.client=I,this.storage=R,this.storageCache=L,this.logger=W}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,W=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${W}.`),W}fetch(I){var R=this;return(0,O.Z)(function*(){const[L,W]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(W&&R.isCachedDataFresh(I.cacheMaxAgeMillis,L))return W;I.eTag=W&&W.eTag;const ee=yield R.client.fetch(I),Me=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&Me.push(R.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(Me),ee})()}}function Lc(C=navigator){return C.languages&&C.languages[0]||C.language}class au{constructor(I,R,L,W,ee,Me){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=L,this.projectId=W,this.apiKey=ee,this.appId=Me}fetch(I){var R=this;return(0,O.Z)(function*(){const[L,W]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},nt={sdk_version:R.sdkVersion,app_instance_id:L,app_instance_id_token:W,app_id:R.appId,language_code:Lc()},It={method:"POST",headers:xe,body:JSON.stringify(nt)},Pt=fetch(Me,It),Mt=new Promise((mi,ji)=>{I.signal.addEventListener(()=>{const So=new Error("The operation was aborted.");So.name="AbortError",ji(So)})});let jn;try{yield Promise.race([Pt,Mt]),jn=yield Pt}catch(mi){let ji="fetch-client-network";throw"AbortError"===mi.name&&(ji="fetch-timeout"),xn.create(ji,{originalErrorMessage:mi.message})}let An=jn.status;const oa=jn.headers.get("ETag")||void 0;let Ao,Br;if(200===jn.status){let mi;try{mi=yield jn.json()}catch(ji){throw xn.create("fetch-client-parse",{originalErrorMessage:ji.message})}Ao=mi.entries,Br=mi.state}if("INSTANCE_STATE_UNSPECIFIED"===Br?An=500:"NO_CHANGE"===Br?An=304:("NO_TEMPLATE"===Br||"EMPTY_CONFIG"===Br)&&(Ao={}),304!==An&&200!==An)throw xn.create("fetch-status",{httpStatus:An});return{status:An,eTag:oa,config:Ao}})()}}class Hp{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,O.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:L}){var W=this;return(0,O.Z)(function*(){yield function Vn(C,I){return new Promise((R,L)=>{const W=Math.max(I-Date.now(),0),ee=setTimeout(R,W);C.addEventListener(()=>{clearTimeout(ee),L(xn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const ee=yield W.client.fetch(I);return yield W.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function Vc(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ee))throw ee;const Me={throttleEndTimeMillis:Date.now()+(0,X.$s)(L),backoffCount:L+1};return yield W.storage.setThrottleMetadata(Me),W.attemptFetch(I,Me)}})()}}class uu{constructor(I,R,L,W,ee){this.app=I,this._client=R,this._storageCache=L,this._storage=W,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function al(C,I){const R=C.target.error||void 0;return xn.create(I,{originalErrorMessage:R&&R.message})}const Bs="app_namespace_store";class Wp{constructor(I,R,L,W=function zp(){return new Promise((C,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=L=>{I(al(L,"storage-open"))},R.onsuccess=L=>{C(L.target.result)},R.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Bs,{keyPath:"compositeKey"})}}catch(R){I(xn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=I,this.appName=R,this.namespace=L,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,O.Z)(function*(){const L=yield R.openDbPromise;return new Promise((W,ee)=>{const xe=L.transaction([Bs],"readonly").objectStore(Bs),nt=R.createCompositeKey(I);try{const It=xe.get(nt);It.onerror=Pt=>{ee(al(Pt,"storage-get"))},It.onsuccess=Pt=>{const Mt=Pt.target.result;W(Mt?Mt.value:void 0)}}catch(It){ee(xn.create("storage-get",{originalErrorMessage:It&&It.message}))}})})()}set(I,R){var L=this;return(0,O.Z)(function*(){const W=yield L.openDbPromise;return new Promise((ee,Me)=>{const nt=W.transaction([Bs],"readwrite").objectStore(Bs),It=L.createCompositeKey(I);try{const Pt=nt.put({compositeKey:It,value:R});Pt.onerror=Mt=>{Me(al(Mt,"storage-set"))},Pt.onsuccess=()=>{ee()}}catch(Pt){Me(xn.create("storage-set",{originalErrorMessage:Pt&&Pt.message}))}})})()}delete(I){var R=this;return(0,O.Z)(function*(){const L=yield R.openDbPromise;return new Promise((W,ee)=>{const xe=L.transaction([Bs],"readwrite").objectStore(Bs),nt=R.createCompositeKey(I);try{const It=xe.delete(nt);It.onerror=Pt=>{ee(al(Pt,"storage-delete"))},It.onsuccess=()=>{W()}}catch(It){ee(xn.create("storage-delete",{originalErrorMessage:It&&It.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Uc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const R=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),W=I.storage.getActiveConfig(),ee=yield R;ee&&(I.lastFetchStatus=ee);const Me=yield L;Me&&(I.lastSuccessfulFetchTimestampMillis=Me);const xe=yield W;xe&&(I.activeConfig=xe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function po(){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,O.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}!function zo(){(0,ae._registerComponent)(new pe.wA("remote-config",function C(I,{instanceIdentifier:R}){const L=I.getProvider("app").getImmediate(),W=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw xn.create("registration-window");if(!(0,X.hl)())throw xn.create("indexed-db-unavailable");const{projectId:ee,apiKey:Me,appId:xe}=L.options;if(!ee)throw xn.create("registration-project-id");if(!Me)throw xn.create("registration-api-key");if(!xe)throw xn.create("registration-app-id");const nt=new Wp(xe,L.name,R=R||"firebase"),It=new Uc(nt),Pt=new ie.Yd(hr);Pt.logLevel=ie.in.ERROR;const Mt=new au(W,ae.SDK_VERSION,R,ee,Me,xe),jn=new Hp(Mt,nt),An=new kh(jn,nt,It,Pt),oa=new uu(L,An,It,nt,Pt);return function ai(C){const I=(0,X.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(oa),oa},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(hr,"0.3.7"),(0,ae.registerVersion)(hr,"0.3.7","esm2017")}();const ul="/firebase-messaging-sw.js",Us="/firebase-cloud-messaging-push-scope",qr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",go="google.c.a.c_id",Ia="google.c.a.c_l",jc="google.c.a.ts",Kp="google.c.a.e";var js=(()=>{return(C=js||(js={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",js;var C})();function li(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cu(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),W=new Uint8Array(L.length);for(let ee=0;ee<L.length;++ee)W[ee]=L.charCodeAt(ee);return W}const du="fcm_token_details_db",fr="fcm_token_object_Store";function Fh(C){return hu.apply(this,arguments)}function hu(){return hu=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(du))return null;let I=null;return(yield(0,X.X3)(du,5,function(){var L=(0,O.Z)(function*(W,ee,Me,xe){var nt;if(ee<2||!W.objectStoreNames.contains(fr))return;const It=xe.objectStore(fr),Pt=yield It.index("fcmSenderId").get(C);if(yield It.clear(),Pt)if(2===ee){const Mt=Pt;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;I={token:Mt.fcmToken,createTime:null!==(nt=Mt.createTime)&&void 0!==nt?nt:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:li(Mt.vapidKey)}}}else if(3===ee){const Mt=Pt;I={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:li(Mt.auth),p256dh:li(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:li(Mt.vapidKey)}}}else if(4===ee){const Mt=Pt;I={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:li(Mt.auth),p256dh:li(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:li(Mt.vapidKey)}}}});return function(W,ee,Me,xe){return L.apply(this,arguments)}}())).close(),yield(0,X.Lj)(du),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),$c(I)?I:null}),hu.apply(this,arguments)}function $c(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const ys="firebase-messaging-store";let Ta=null;function ll(){return Ta||(Ta=(0,X.X3)("firebase-messaging-database",1,(C,I)=>{0===I&&C.createObjectStore(ys)})),Ta}function mn(C){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,O.Z)(function*(C){const I=yo(C),L=yield(yield ll()).transaction(ys).objectStore(ys).get(I);if(L)return L;{const W=yield Fh(C.appConfig.senderId);if(W)return yield $s(C,W),W}})).apply(this,arguments)}function $s(C,I){return cn.apply(this,arguments)}function cn(){return(cn=(0,O.Z)(function*(C,I){const R=yo(C),W=(yield ll()).transaction(ys,"readwrite");return yield W.objectStore(ys).put(I,R),yield W.complete,I})).apply(this,arguments)}function Hc(C){return mo.apply(this,arguments)}function mo(){return(mo=(0,O.Z)(function*(C){const I=yo(C),L=(yield ll()).transaction(ys,"readwrite");yield L.objectStore(ys).delete(I),yield L.complete})).apply(this,arguments)}function yo({appConfig:C}){return C.appId}const Rn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Aa(C,I){return ki.apply(this,arguments)}function ki(){return(ki=(0,O.Z)(function*(C,I){const R=yield Gs(C),L=gt(I),W={method:"POST",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(zr(C.appConfig),W)).json()}catch(Me){throw Rn.create("token-subscribe-failed",{errorInfo:Me})}if(ee.error)throw Rn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw Rn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Tr(C,I){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,O.Z)(function*(C,I){const R=yield Gs(C),L=gt(I.subscriptionOptions),W={method:"PATCH",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(`${zr(C.appConfig)}/${I.token}`,W)).json()}catch(Me){throw Rn.create("token-update-failed",{errorInfo:Me})}if(ee.error)throw Rn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw Rn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function _s(C,I){return gu.apply(this,arguments)}function gu(){return(gu=(0,O.Z)(function*(C,I){const L={method:"DELETE",headers:yield Gs(C)};try{const ee=yield(yield fetch(`${zr(C.appConfig)}/${I}`,L)).json();if(ee.error)throw Rn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(W){throw Rn.create("token-unsubscribe-failed",{errorInfo:W})}})).apply(this,arguments)}function zr({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Gs(C){return qs.apply(this,arguments)}function qs(){return(qs=(0,O.Z)(function*({appConfig:C,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function gt({p256dh:C,auth:I,endpoint:R,vapidKey:L}){const W={web:{endpoint:R,auth:I,p256dh:C}};return L!==qr&&(W.web.applicationPubKey=L),W}const mu=6048e5;function Sa(C){return yu.apply(this,arguments)}function yu(){return(yu=(0,O.Z)(function*(C){const I=yield hl(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:li(I.getKey("auth")),p256dh:li(I.getKey("p256dh"))},L=yield mn(C.firebaseDependencies);if(L){if(Zo(L.subscriptionOptions,R))return Date.now()>=L.createTime+mu?cl(C,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield _s(C.firebaseDependencies,L.token)}catch(W){console.warn(W)}return De(C.firebaseDependencies,R)}return De(C.firebaseDependencies,R)})).apply(this,arguments)}function _u(C){return vu.apply(this,arguments)}function vu(){return(vu=(0,O.Z)(function*(C){const I=yield mn(C.firebaseDependencies);I&&(yield _s(C.firebaseDependencies,I.token),yield Hc(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function cl(C,I){return dl.apply(this,arguments)}function dl(){return(dl=(0,O.Z)(function*(C,I){try{const R=yield Tr(C.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield $s(C.firebaseDependencies,L),R}catch(R){throw yield _u(C),R}})).apply(this,arguments)}function De(C,I){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,O.Z)(function*(C,I){const L={token:yield Aa(C,I),createTime:Date.now(),subscriptionOptions:I};return yield $s(C,L),L.token})).apply(this,arguments)}function hl(C,I){return vn.apply(this,arguments)}function vn(){return(vn=(0,O.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cu(I)})})).apply(this,arguments)}function Zo(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function Yo(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Wr(C,I){if(!I.notification)return;C.notification={};const R=I.notification.title;R&&(C.notification.title=R);const L=I.notification.body;L&&(C.notification.body=L);const W=I.notification.image;W&&(C.notification.image=W)}(I,C),function fl(C,I){!I.data||(C.data=I.data)}(I,C),function pl(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const R=I.fcmOptions.link;R&&(C.fcmOptions.link=R);const L=I.fcmOptions.analytics_label;L&&(C.fcmOptions.analyticsLabel=L)}(I,C),I}function Gc(C){return"object"==typeof C&&!!C&&go in C}function gl(C,I){const R=[];for(let L=0;L<C.length;L++)R.push(C.charAt(L)),L<I.length&&R.push(I.charAt(L));return R.join("")}function zs(C){return Rn.create("missing-app-config-values",{valueName:C})}gl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pr{constructor(I,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function wu(C){if(!C||!C.options)throw zs("App Configuration Object");if(!C.name)throw zs("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const L of I)if(!R[L])throw zs(L);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:W,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function ci(C){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(ul,{scope:Us}),C.swRegistration.update().catch(()=>{})}catch(I){throw Rn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Ws(C,I){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,O.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield ci(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Rn.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function ml(C,I){return bu.apply(this,arguments)}function bu(){return(bu=(0,O.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=qr)})).apply(this,arguments)}function yl(){return(yl=(0,O.Z)(function*(C,I){if(!navigator)throw Rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Rn.create("permission-blocked");return yield ml(C,null==I?void 0:I.vapidKey),yield Ws(C,null==I?void 0:I.serviceWorkerRegistration),Sa(C)})).apply(this,arguments)}function Ma(C,I,R){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,O.Z)(function*(C,I,R){const L=_l(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[go],message_name:R[Ia],message_time:R[jc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _l(C){switch(C){case js.NOTIFICATION_CLICKED:return"notification_open";case js.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qc(){return(qc=(0,O.Z)(function*(C,I){const R=I.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===js.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Yo(R)):C.onMessageHandler.next(Yo(R)));const L=R.data;Gc(L)&&"1"===L[Kp]&&(yield Ma(C,R.messageType,L))})).apply(this,arguments)}const wl="@firebase/messaging",zc=C=>{const I=new pr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function vl(C,I){return qc.apply(this,arguments)}(I,R)),I},vo=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:L=>function Du(C,I){return yl.apply(this,arguments)}(I,L)}};function Kc(){return wo.apply(this,arguments)}function wo(){return(wo=(0,O.Z)(function*(){try{yield(0,X.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Wc(){(0,ae._registerComponent)(new pe.wA("messaging",zc,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("messaging-internal",vo,"PRIVATE")),(0,ae.registerVersion)(wl,"0.9.12"),(0,ae.registerVersion)(wl,"0.9.12","esm2017")}();const bl="analytics",My="firebase_id",xa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cu="https://www.googletagmanager.com/gtag/js",Bn=new ie.Yd("@firebase/analytics");function Yc(C){return Promise.all(C.map(I=>I.catch(R=>R)))}function Zp(C,I){const R=document.createElement("script");R.src=`${Cu}?l=${C}&id=${I}`,R.async=!0,document.head.appendChild(R)}function Jo(C,I,R,L,W,ee){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,O.Z)(function*(C,I,R,L,W,ee){const Me=L[W];try{if(Me)yield I[Me];else{const nt=(yield Yc(R)).find(It=>It.measurementId===W);nt&&(yield I[nt.appId])}}catch(xe){Bn.error(xe)}C("config",W,ee)})).apply(this,arguments)}function Cl(C,I,R,L,W){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,O.Z)(function*(C,I,R,L,W){try{let ee=[];if(W&&W.send_to){let Me=W.send_to;Array.isArray(Me)||(Me=[Me]);const xe=yield Yc(R);for(const nt of Me){const It=xe.find(Mt=>Mt.measurementId===nt),Pt=It&&I[It.appId];if(!Pt){ee=[];break}ee.push(Pt)}}0===ee.length&&(ee=Object.values(I)),yield Promise.all(ee),C("event",L,W||{})}catch(ee){Bn.error(ee)}})).apply(this,arguments)}function Yp(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(Cu))return I;return null}const On=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Lr=new class Kr{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Xo(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Xc(C){return gn.apply(this,arguments)}function gn(){return(gn=(0,O.Z)(function*(C){var I;const{appId:R,apiKey:L}=C,W={method:"GET",headers:Xo(L)},ee=xa.replace("{app-id}",R),Me=yield fetch(ee,W);if(200!==Me.status&&304!==Me.status){let xe="";try{const nt=yield Me.json();(null===(I=nt.error)||void 0===I?void 0:I.message)&&(xe=nt.error.message)}catch(nt){}throw On.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:xe})}return Me.json()})).apply(this,arguments)}function Vh(C){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,O.Z)(function*(C,I=Lr,R){const{appId:L,apiKey:W,measurementId:ee}=C.options;if(!L)throw On.create("no-app-id");if(!W){if(ee)return{measurementId:ee,appId:L};throw On.create("no-api-key")}const Me=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},xe=new Il;return setTimeout((0,O.Z)(function*(){xe.abort()}),void 0!==R?R:6e4),Iu({appId:L,apiKey:W,measurementId:ee},Me,xe,I)})).apply(this,arguments)}function Iu(C,I,R){return di.apply(this,arguments)}function di(){return(di=(0,O.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:R},L,W=Lr){const{appId:ee,measurementId:Me}=C;try{yield Rt(L,I)}catch(xe){if(Me)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${xe.message}]`),{appId:ee,measurementId:Me};throw xe}try{const xe=yield Xc(C);return W.deleteThrottleMetadata(ee),xe}catch(xe){if(!ed(xe)){if(W.deleteThrottleMetadata(ee),Me)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${xe.message}]`),{appId:ee,measurementId:Me};throw xe}const nt=503===Number(xe.customData.httpStatus)?(0,X.$s)(R,W.intervalMillis,30):(0,X.$s)(R,W.intervalMillis),It={throttleEndTimeMillis:Date.now()+nt,backoffCount:R+1};return W.setThrottleMetadata(ee,It),Bn.debug(`Calling attemptFetch again in ${nt} millis`),Iu(C,It,L,W)}})).apply(this,arguments)}function Rt(C,I){return new Promise((R,L)=>{const W=Math.max(I-Date.now(),0),ee=setTimeout(R,W);C.addEventListener(()=>{clearTimeout(ee),L(On.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function ed(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Il{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Tl(){return bo.apply(this,arguments)}function bo(){return(bo=(0,O.Z)(function*(){if(!(0,X.hl)())return Bn.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(C){return Bn.warn(On.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function Es(){return(Es=(0,O.Z)(function*(C,I,R,L,W,ee,Me){var xe;const nt=Vh(C);nt.then(An=>{R[An.measurementId]=An.appId,C.options.measurementId&&An.measurementId!==C.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${An.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(An=>Bn.error(An)),I.push(nt);const It=Tl().then(An=>{if(An)return L.getId()}),[Pt,Mt]=yield Promise.all([nt,It]);Yp()||Zp(ee,Pt.measurementId),W("js",new Date);const jn=null!==(xe=null==Me?void 0:Me.config)&&void 0!==xe?xe:{};return jn.origin="firebase",jn.update=!0,null!=Mt&&(jn[My]=Mt),W("config",Pt.measurementId,jn),Pt.measurementId})).apply(this,arguments)}class ea{constructor(I){this.app=I}_delete(){return delete hi[this.app.options.appId],Promise.resolve()}}let hi={},Ys=[];const fi={};let Qs,Qi,Yi="dataLayer",Sl=!1;function Li(C,I,R){!function Do(){const C=[];if((0,X.ru)()&&C.push("This is a browser extension environment."),(0,X.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((L,W)=>`(${W+1}) ${L}`).join(" "),R=On.create("invalid-analytics-context",{errorInfo:I});Bn.warn(R.message)}}();const L=C.options.appId;if(!L)throw On.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw On.create("no-api-key");Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hi[L])throw On.create("already-exists",{id:L});if(!Sl){!function ws(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(Yi);const{wrappedGtag:ee,gtagCore:Me}=function Lh(C,I,R,L,W){let ee=function(...Me){window[L].push(arguments)};return window[W]&&"function"==typeof window[W]&&(ee=window[W]),window[W]=function Jc(C,I,R,L){function ee(){return(ee=(0,O.Z)(function*(Me,xe,nt){try{"event"===Me?yield Cl(C,I,R,xe,nt):"config"===Me?yield Jo(C,I,R,L,xe,nt):C("set",xe)}catch(It){Bn.error(It)}})).apply(this,arguments)}return function W(Me,xe,nt){return ee.apply(this,arguments)}}(ee,C,I,R),{gtagCore:ee,wrappedGtag:window[W]}}(hi,Ys,fi,Yi,"gtag");Qi=ee,Qs=Me,Sl=!0}return hi[L]=function Un(C,I,R,L,W,ee,Me){return Es.apply(this,arguments)}(C,Ys,fi,I,Qs,Yi,R),new ea(C)}function na(){return(na=(0,O.Z)(function*(C,I,R,L,W){if(W&&W.global)C("event",R,L);else{const ee=yield I;C("event",R,Object.assign(Object.assign({},L),{send_to:ee}))}})).apply(this,arguments)}function wn(){return Js.apply(this,arguments)}function Js(){return(Js=(0,O.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}const Xs="@firebase/analytics";!function eg(){(0,ae._registerComponent)(new pe.wA(bl,(I,{options:R})=>Li(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ae._registerComponent)(new pe.wA("analytics-internal",function C(I){try{const R=I.getProvider(bl).getImmediate();return{logEvent:(L,W,ee)=>function Xp(C,I,R,L){C=(0,X.m9)(C),function ta(C,I,R,L,W){return na.apply(this,arguments)}(Qi,hi[C.app.options.appId],I,R,L).catch(W=>Bn.error(W))}(R,L,W,ee)}}catch(R){throw On.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ae.registerVersion)(Xs,"0.7.8"),(0,ae.registerVersion)(Xs,"0.7.8","esm2017")}();var eo=k(4408),Tu=k(7565);const Ml=new class bn extends Tu.v{}(class bs extends eo.o{constructor(I,R){super(I,R),this.scheduler=I,this.work=R}schedule(I,R=0){return R>0?super.schedule(I,R):(this.delay=R,this.state=I,this.scheduler.flush(this),this)}execute(I,R){return R>0||this.closed?super.execute(I,R):this._execute(I,R)}requestAsyncId(I,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,R,L):I.flush(this)}});var tg=k(4986),xl=k(8505),Mr=k(9468),pi=k(5363);const Rl=new h.GfV("7.3.0"),Ds="__angularfire_symbol__analyticsIsSupportedValue",Ui="__angularfire_symbol__analyticsIsSupported",es="__angularfire_symbol__remoteConfigIsSupportedValue",Ra="__angularfire_symbol__remoteConfigIsSupported",Nl="__angularfire_symbol__messagingIsSupportedValue",Ol="__angularfire_symbol__messagingIsSupported";function to(C,I,R){if(I){if(1===I.length)return I[0];const ee=I.filter(Me=>Me.app===R);if(1===ee.length)return ee[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ui]||(globalThis[Ui]=wn().then(C=>globalThis[Ds]=C).catch(()=>globalThis[Ds]=!1)),globalThis[Ol]||(globalThis[Ol]=Kc().then(C=>globalThis[Nl]=C).catch(()=>globalThis[Nl]=!1)),globalThis[Ra]||(globalThis[Ra]=po().then(C=>globalThis[es]=C).catch(()=>globalThis[es]=!1));const id=(C,I)=>{const R=I?[I]:(0,Z.C6)(),L=[];return R.forEach(W=>{W.container.getProvider(C).instances.forEach(Me=>{L.includes(Me)||L.push(Me)})}),L};function Io(){}class Au{constructor(I,R=Ml){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,L){const W=this.zone;return this.delegate.schedule(function(Me){W.runGuarded(()=>{I.apply(this,[Me])})},R,L)}}class ts{constructor(I){this.zone=I,this.task=null}call(I,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Io,{},Io,Io)),R.pipe((0,xl.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Su=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Au(Zone.current)),this.insideAngular=R.run(()=>new Au(Zone.current,tg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(h.LFG(h.R0b))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ns(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Fl(C){return ns(),function To(C){return function(R){return(R=R.lift(new ts(C.ngZone))).pipe((0,Mr.R)(C.outsideAngular),(0,pi.Q)(C.insideAngular))}}(ns())(C)}},2090:(dt,Ae,k)=>{k.d(Ae,{$s:()=>ho,BH:()=>Se,G6:()=>re,L:()=>le,LL:()=>Fe,Lj:()=>Ht,Mn:()=>He,Sg:()=>Ne,UG:()=>Ee,US:()=>ie,X3:()=>pt,ZB:()=>Q,ZR:()=>ge,b$:()=>Ie,d:()=>ye,eu:()=>J,hl:()=>Ke,jU:()=>it,m9:()=>ft,ne:()=>ht,pd:()=>cs,r3:()=>Jt,ru:()=>Qe,tV:()=>$,uI:()=>he,vZ:()=>Os,w1:()=>ve,xO:()=>Wi,xb:()=>lr,z$:()=>Le,zI:()=>oe,zd:()=>Fr});var h=k(5861);const X=function(j){const V=[];let q=0;for(let ce=0;ce<j.length;ce++){let Y=j.charCodeAt(ce);Y<128?V[q++]=Y:Y<2048?(V[q++]=Y>>6|192,V[q++]=63&Y|128):55296==(64512&Y)&&ce+1<j.length&&56320==(64512&j.charCodeAt(ce+1))?(Y=65536+((1023&Y)<<10)+(1023&j.charCodeAt(++ce)),V[q++]=Y>>18|240,V[q++]=Y>>12&63|128,V[q++]=Y>>6&63|128,V[q++]=63&Y|128):(V[q++]=Y>>12|224,V[q++]=Y>>6&63|128,V[q++]=63&Y|128)}return V},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,V){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let Y=0;Y<j.length;Y+=3){const Be=j[Y],vt=Y+1<j.length,Xt=vt?j[Y+1]:0,br=Y+2<j.length,Yt=br?j[Y+2]:0;let fn=(15&Xt)<<2|Yt>>6,nr=63&Yt;br||(nr=64,vt||(fn=64)),ce.push(q[Be>>2],q[(3&Be)<<4|Xt>>4],q[fn],q[nr])}return ce.join("")},encodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(j):this.encodeByteArray(X(j),V)},decodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(j):function(j){const V=[];let q=0,ce=0;for(;q<j.length;){const Y=j[q++];if(Y<128)V[ce++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Be=j[q++];V[ce++]=String.fromCharCode((31&Y)<<6|63&Be)}else if(Y>239&&Y<365){const br=((7&Y)<<18|(63&j[q++])<<12|(63&j[q++])<<6|63&j[q++])-65536;V[ce++]=String.fromCharCode(55296+(br>>10)),V[ce++]=String.fromCharCode(56320+(1023&br))}else{const Be=j[q++],vt=j[q++];V[ce++]=String.fromCharCode((15&Y)<<12|(63&Be)<<6|63&vt)}}return V.join("")}(this.decodeStringToByteArray(j,V))},decodeStringToByteArray(j,V){this.init_();const q=V?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let Y=0;Y<j.length;){const Be=q[j.charAt(Y++)],Xt=Y<j.length?q[j.charAt(Y)]:0;++Y;const Yt=Y<j.length?q[j.charAt(Y)]:64;++Y;const kt=Y<j.length?q[j.charAt(Y)]:64;if(++Y,null==Be||null==Xt||null==Yt||null==kt)throw Error();ce.push(Be<<2|Xt>>4),64!==Yt&&(ce.push(Xt<<4&240|Yt>>2),64!==kt&&ce.push(Yt<<6&192|kt))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},le=function(j){return function(j){const V=X(j);return ie.encodeByteArray(V,!0)}(j).replace(/\./g,"")},$=function(j){try{return ie.decodeString(j,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Q(j,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return V}for(const q in V)!V.hasOwnProperty(q)||!We(q)||(j[q]=Q(j[q],V[q]));return j}function We(j){return"__proto__"!==j}class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,q)=>{this.resolve=V,this.reject=q})}wrapCallback(V){return(q,ce)=>{q?this.reject(q):this.resolve(ce),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(q):V(q,ce))}}}function Ne(j,V){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ce=V||"demo-project",Y=j.iat||0,Be=j.sub||j.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${ce}`,aud:ce,iat:Y,exp:Y+3600,auth_time:Y,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},j);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(vt)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function it(){return"object"==typeof self&&self.self===self}function Qe(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ye(){return Le().indexOf("Electron/")>=0}function ve(){const j=Le();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function He(){return Le().indexOf("MSAppHost/")>=0}function re(){return!Ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){return"object"==typeof indexedDB}function J(){return new Promise((j,V)=>{try{let q=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(ce);Y.onsuccess=()=>{Y.result.close(),q||self.indexedDB.deleteDatabase(ce),j(!0)},Y.onupgradeneeded=()=>{q=!1},Y.onerror=()=>{var Be;V((null===(Be=Y.error)||void 0===Be?void 0:Be.message)||"")}}catch(q){V(q)}})}function oe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ge extends Error{constructor(V,q,ce){super(q),this.code=V,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}}class Fe{constructor(V,q,ce){this.service=V,this.serviceName=q,this.errors=ce}create(V,...q){const ce=q[0]||{},Y=`${this.service}/${V}`,Be=this.errors[V],vt=Be?function St(j,V){return j.replace(Qt,(q,ce)=>{const Y=V[ce];return null!=Y?String(Y):`<${ce}?>`})}(Be,ce):"Error";return new ge(Y,`${this.serviceName}: ${vt} (${Y}).`,ce)}}const Qt=/\{\$([^}]+)}/g;function Jt(j,V){return Object.prototype.hasOwnProperty.call(j,V)}function lr(j){for(const V in j)if(Object.prototype.hasOwnProperty.call(j,V))return!1;return!0}function Os(j,V){if(j===V)return!0;const q=Object.keys(j),ce=Object.keys(V);for(const Y of q){if(!ce.includes(Y))return!1;const Be=j[Y],vt=V[Y];if(Pr(Be)&&Pr(vt)){if(!Os(Be,vt))return!1}else if(Be!==vt)return!1}for(const Y of ce)if(!q.includes(Y))return!1;return!0}function Pr(j){return null!==j&&"object"==typeof j}function Wi(j){const V=[];for(const[q,ce]of Object.entries(j))Array.isArray(ce)?ce.forEach(Y=>{V.push(encodeURIComponent(q)+"="+encodeURIComponent(Y))}):V.push(encodeURIComponent(q)+"="+encodeURIComponent(ce));return V.length?"&"+V.join("&"):""}function Fr(j){const V={};return j.replace(/^\?/,"").split("&").forEach(ce=>{if(ce){const[Y,Be]=ce.split("=");V[decodeURIComponent(Y)]=decodeURIComponent(Be)}}),V}function cs(j){const V=j.indexOf("?");if(!V)return"";const q=j.indexOf("#",V);return j.substring(V,q>0?q:void 0)}function ht(j,V){const q=new Hr(j,V);return q.subscribe.bind(q)}class Hr{constructor(V,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{V(this)}).catch(ce=>{this.error(ce)})}next(V){this.forEachObserver(q=>{q.next(V)})}error(V){this.forEachObserver(q=>{q.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,q,ce){let Y;if(void 0===V&&void 0===q&&void 0===ce)throw new Error("Missing Observer.");Y=function Hn(j,V){if("object"!=typeof j||null===j)return!1;for(const q of V)if(q in j&&"function"==typeof j[q])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:q,complete:ce},void 0===Y.next&&(Y.next=si),void 0===Y.error&&(Y.error=si),void 0===Y.complete&&(Y.complete=si);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch(vt){}}),this.observers.push(Y),Be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,V)}sendOne(V,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{q(this.observers[V])}catch(ce){"undefined"!=typeof console&&console.error&&console.error(ce)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function si(){}function ho(j,V=1e3,q=2){const ce=V*Math.pow(q,j),Y=Math.round(.5*ce*(Math.random()-.5)*2);return Math.min(144e5,ce+Y)}function ft(j){return j&&j._delegate?j._delegate:j}function Er(j,V){return new Promise((q,ce)=>{j.onsuccess=Y=>{q(Y.target.result)},j.onerror=Y=>{var Be;ce(`${V}: ${null===(Be=Y.target.error)||void 0===Be?void 0:Be.message}`)}})}class jt{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,q="readonly"){return new Xe(this._db.transaction.call(this._db,V,q))}createObjectStore(V,q){return new Te(this._db.createObjectStore(V,q))}close(){this._db.close()}}class Xe{constructor(V){this._transaction=V,this.complete=new Promise((q,ce)=>{this._transaction.oncomplete=function(){q()},this._transaction.onerror=()=>{ce(this._transaction.error)},this._transaction.onabort=()=>{ce(this._transaction.error)}})}objectStore(V){return new Te(this._transaction.objectStore(V))}}class Te{constructor(V){this._store=V}index(V){return new tt(this._store.index(V))}createIndex(V,q,ce){return new tt(this._store.createIndex(V,q,ce))}get(V){return Er(this._store.get(V),"Error reading from IndexedDB")}put(V,q){return Er(this._store.put(V,q),"Error writing to IndexedDB")}delete(V){return Er(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return Er(this._store.clear(),"Error clearing IndexedDB object store")}}class tt{constructor(V){this._index=V}get(V){return Er(this._index.get(V),"Error reading from IndexedDB")}}function pt(j,V,q){return new Promise((ce,Y)=>{try{const Be=indexedDB.open(j,V);Be.onsuccess=vt=>{ce(new jt(vt.target.result))},Be.onerror=vt=>{var Xt;Y(`Error opening indexedDB: ${null===(Xt=vt.target.error)||void 0===Xt?void 0:Xt.message}`)},Be.onupgradeneeded=vt=>{q(new jt(Be.result),vt.oldVersion,vt.newVersion,new Xe(Be.transaction))}}catch(Be){Y(`Error opening indexedDB: ${Be.message}`)}})}function Ht(j){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,h.Z)(function*(j){return new Promise((V,q)=>{try{const ce=indexedDB.deleteDatabase(j);ce.onsuccess=()=>{V()},ce.onerror=Y=>{var Be;q(`Error deleting indexedDB database "${j}": ${null===(Be=Y.target.error)||void 0===Be?void 0:Be.message}`)}}catch(ce){q(`Error deleting indexedDB database "${j}": ${ce.message}`)}})})).apply(this,arguments)}},1947:(dt,Ae,k)=>{var h=k(5e3);let Z=null;function O(){return Z}const ie=new h.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function le(){return(0,h.LFG)(H)}()},providedIn:"platform"}),n})();const $=new h.OlP("Location Initialized");let H=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function We(){return new H((0,h.LFG)(ie))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ee(n){const e=(0,h.LFG)(ie).location;return new Qe((0,h.LFG)(de),e&&e.origin||"")}()},providedIn:"root"}),n})();const it=new h.OlP("appBaseHref");let Qe=(()=>{class n extends he{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Le(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+Le(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+Le(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(de),h.LFG(it,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends he{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Se(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+Le(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+Le(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(de),h.LFG(it,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),ye=(()=>{class n{constructor(t,r){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ne($e(i)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Le(r))}normalize(t){return n.stripTrailingSlash(function He(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,$e(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Le,n.joinWithSlash=Se,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(h.LFG(he),h.LFG(de))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ve(){return new ye((0,h.LFG)(he),(0,h.LFG)(de))}()},providedIn:"root"}),n})();function $e(n){return n.replace(/\/index.html$/,"")}let fs=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ls{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ls(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,c),ps(p,i)}});for(let i=0,u=r.length;i<u;i++){const p=r.get(i).context;p.index=i,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{ps(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ps(n,e){n.context.$implicit=e.item}let ai=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ln,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){iu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){iu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ln{constructor(){this.$implicit=null,this.ngIf=null}}function iu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}class Vc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Hp{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const ms=new Hp,Gp=new Vc;let uu=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return ms;if((0,h.F4k)(t))return Gp;throw function Vn(n,e){return new h.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1}),n})(),Dr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const js="browser";function Cr(n){return n===js}function fr(n){return"server"===n}let fu=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new pu((0,h.LFG)(ie),window)}),n})();class pu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ta(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ys(this.window.history)||ys(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ys(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class $s extends class Ko extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){Z||(Z=n)}(new $s)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Hc(){return cn=cn||document.querySelector("base"),cn?cn.getAttribute("href"):null}();return null==t?null:function yo(n){mo=mo||document.createElement("a"),mo.setAttribute("href",n);const e=mo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){cn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function qo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let mo,cn=null;const Ir=new h.OlP("TRANSITION_ID"),Aa=[{provide:h.ip1,useFactory:function Rn(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[Ir,ie,h.zs3],multi:!0}];class ki{static init(){(0,h.VLi)(new ki)}addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const p=function(y){c=c||y,u--,0==u&&r(c)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Tr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Hs=new h.OlP("EventManagerPlugins");let _s=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Hs),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class gu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let zr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Gs=(()=>{class n extends zr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(qs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(qs))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function qs(n){O().remove(n)}const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mu=/%COMP%/g;function De(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?De(n,i,t):(i=i.replace(mu,n),t.push(i))}return t}function Ut(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let vn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Zo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new fl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new pl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=De(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(_s),h.LFG(Gs),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Zo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(gt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=gt[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=gt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ut(r)):this.eventManager.addEventListener(e,t,Ut(r))}}class fl extends Zo{constructor(e,t,r,i){super(e),this.component=r;const u=De(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function cl(n){return"_ngcontent-%COMP%".replace(mu,n)}(i+"-"+r.id),this.hostAttr=function dl(n){return"_nghost-%COMP%".replace(mu,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class pl extends Zo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=De(i.id,i.styles,[]);for(let c=0;c<u.length;c++){const p=document.createElement("style");p.textContent=u[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Gc=(()=>{class n extends gu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const gl=["alt","control","meta","shift"],zs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ci={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Eu=(()=>{class n extends gu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="";if(gl.forEach(y=>{const b=r.indexOf(y);b>-1&&(r.splice(b,1),c+=y+".")}),c+=u,0!=r.length||0===u.length)return null;const p={};return p.domEventName=i,p.fullKey=c,p}static getEventFullKey(t){let r="",i=function Ws(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&pr.hasOwnProperty(e)&&(e=pr[e]))}return zs[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),gl.forEach(u=>{u!=i&&ci[u](t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const yl=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:js},{provide:h.g9A,useValue:function Pi(){$s.makeCurrent(),ki.init()},multi:!0},{provide:ie,useFactory:function bu(){return(0,h.RDi)(document),document},deps:[]}]),Ma=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function ml(){return new h.qLn},deps:[]},{provide:Hs,useClass:Gc,multi:!0,deps:[ie,h.R0b,h.Lbi]},{provide:Hs,useClass:Eu,multi:!0,deps:[ie]},{provide:vn,useClass:vn,deps:[_s,Gs,h.AFp]},{provide:h.FYo,useExisting:vn},{provide:zr,useExisting:Gs},{provide:Gs,useClass:Gs,deps:[ie]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:_s,useClass:_s,deps:[Hs,h.R0b]},{provide:class mn{},useClass:Tr,deps:[]}];let Qo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Ir,useExisting:h.AFp},Aa]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:Ma,imports:[Dr,h.hGG]}),n})();"undefined"!=typeof window&&window;var Nn=k(8996),On=k(7669);function yt(...n){const e=(0,On.yG)(n);return(0,Nn.D)(n,e)}var ir=k(7579);class Kr extends ir.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Lr=k(8306);const{isArray:Xo}=Array,{getPrototypeOf:Xc,prototype:gn,keys:Vh}=Object;function Fi(n){if(1===n.length){const e=n[0];if(Xo(e))return{args:e,keys:null};if(function Iu(n){return n&&"object"==typeof n&&Xc(n)===gn}(e)){const t=Vh(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var di=k(4671),Rt=k(4004);const{isArray:ed}=Array;function Tl(n){return(0,Rt.U)(e=>function Il(n,e){return ed(e)?n(...e):n(e)}(n,e))}function bo(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Un=k(5403),Es=k(9672);function Ys(n,e,t){n?(0,Es.f)(t,n,e):e()}var fi=k(576);function Yi(n,e){const t=(0,fi.m)(n)?n:()=>n,r=i=>i.error(t());return new Lr.y(e?i=>e.schedule(r,0,i):r)}const Qs=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Qi=k(8189);function td(...n){return function Sl(){return(0,Qi.J)(1)}()((0,Nn.D)(n,(0,On.yG)(n)))}var Do=k(8421);function Li(n){return new Lr.y(e=>{(0,Do.Xf)(n()).subscribe(e)})}var ta=k(515),na=k(727),Vr=k(4482);function Vi(){return(0,Vr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Un.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class nd extends Lr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Vr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new na.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Un.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=na.w0.EMPTY)}return e}refCount(){return Vi()(this)}}function kn(n,e){return(0,Vr.e)((t,r)=>{let i=null,u=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,Un.x)(r,y=>{null==i||i.unsubscribe();let b=0;const S=u++;(0,Do.Xf)(n(y,S)).subscribe(i=(0,Un.x)(r,M=>r.next(e?e(y,M,S,b++):M),()=>{i=null,p()}))},()=>{c=!0,p()}))})}var Co=k(5698);function Bi(...n){const e=(0,On.yG)(n);return(0,Vr.e)((t,r)=>{(e?td(n,t,e):td(n,t)).subscribe(r)})}function ra(n,e,t,r,i){return(u,c)=>{let p=t,y=e,b=0;u.subscribe((0,Un.x)(c,S=>{const M=b++;y=p?n(y,S,M):(p=!0,S),r&&c.next(y)},i&&(()=>{p&&c.next(y),c.complete()})))}}function Sr(n,e){return(0,Vr.e)(ra(n,e,arguments.length>=2,!0))}function Ji(n,e){return(0,Vr.e)((t,r)=>{let i=0;t.subscribe((0,Un.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}function Xi(n){return(0,Vr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,Un.x)(t,void 0,void 0,c=>{u=(0,Do.Xf)(n(c,Xi(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}var wn=k(5577);function Js(n,e){return(0,fi.m)(e)?(0,wn.z)(n,e,1):(0,wn.z)(n,1)}function rd(n){return n<=0?()=>ta.E:(0,Vr.e)((e,t)=>{let r=[];e.subscribe((0,Un.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function En(n=Qp){return(0,Vr.e)((e,t)=>{let r=!1;e.subscribe((0,Un.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Qp(){return new Qs}function Jp(n){return(0,Vr.e)((e,t)=>{let r=!1;e.subscribe((0,Un.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Xs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ji((i,u)=>n(i,u,r)):di.y,(0,Co.q)(1),t?Jp(e):En(()=>new Qs))}var Zr=k(8505);class eo{constructor(e,t){this.id=e,this.url=t}}class bs extends eo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tu extends eo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bn extends eo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ml extends eo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ia extends eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tg extends eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xl extends eo{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mr extends eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi extends eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ds{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ui{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class es{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ra{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nl{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ol{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Vt="primary";class kl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function qn(n){return new kl(n)}const Pl="ngNavigationCancelingError";function to(n){const e=Error("NavigationCancelingError: "+n);return e[Pl]=!0,e}function Io(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],p=n[u];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ts(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!Su(n[i],e[i]))return!1;return!0}function Su(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function ns(n){return Array.prototype.concat.apply([],n)}function sd(n){return n.length>0?n[n.length-1]:null}function zn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function gi(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Nn.D)(Promise.resolve(n)):yt(n)}const To={exact:function I(n,e,t){if(!Pt(n.segments,e.segments)||!ee(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!I(n.children[r],e.children[r],t))return!1;return!0},subset:L},sa={exact:function C(n,e){return ts(n,e)},subset:function R(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Su(n[t],e[t]))},ignored:()=>!0};function Mu(n,e,t){return To[t.paths](n.root,e.root,t.matrixParams)&&sa[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function L(n,e,t){return W(n,e,e.segments,t)}function W(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Pt(i,t)||e.hasChildren()||!ee(i,t,r))}if(n.segments.length===t.length){if(!Pt(n.segments,t)||!ee(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!L(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Pt(n.segments,i)&&ee(n.segments,i,r)&&n.children[Vt])&&W(n.children[Vt],e,u,r)}}function ee(n,e,t){return e.every((r,i)=>sa[t](n[i].parameters,r.parameters))}class Me{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qn(this.queryParams)),this._queryParamMap}toString(){return oa.serialize(this)}}class xe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,zn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ao(this)}}class nt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=qn(this.parameters)),this._parameterMap}toString(){return Na(this)}}function Pt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class jn{}class An{parse(e){const t=new ad(e);return new Me(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Br(e.root,!0)}`,r=function xy(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ji(t)}=${ji(i)}`).join("&"):`${ji(t)}=${ji(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function So(n){return encodeURI(n)}(e.fragment)}`:""}`}}const oa=new An;function Ao(n){return n.segments.map(e=>Na(e)).join("/")}function Br(n,e){if(!n.hasChildren())return Ao(n);if(e){const t=n.children[Vt]?Br(n.children[Vt],!1):"",r=[];return zn(n.children,(i,u)=>{u!==Vt&&r.push(`${u}:${Br(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Mt(n,e){let t=[];return zn(n.children,(r,i)=>{i===Vt&&(t=t.concat(e(r,i)))}),zn(n.children,(r,i)=>{i!==Vt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Vt?[Br(n.children[Vt],!1)]:[`${i}:${Br(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Vt]?`${Ao(n)}/${t[0]}`:`${Ao(n)}/(${t.join("//")})`}}function mi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ji(n){return mi(n).replace(/%3B/gi,";")}function od(n){return mi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ll(n){return decodeURIComponent(n)}function Vl(n){return Ll(n.replace(/\+/g,"%20"))}function Na(n){return`${od(n.path)}${function ng(n){return Object.keys(n).map(e=>`;${od(e)}=${od(n[e])}`).join("")}(n.parameters)}`}const Ry=/^[^\/()?;=#]+/;function Cs(n){const e=n.match(Ry);return e?e[0]:""}const Bl=/^[^=?&#]+/,Oy=/^[^&#]+/;class ad{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Vt]=new xe(e,t)),r}parseSegment(){const e=Cs(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new nt(Ll(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Cs(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Cs(this.remaining);i&&(r=i,this.capture(r))}e[Ll(t)]=Ll(r)}parseQueryParam(e){const t=function Ny(n){const e=n.match(Bl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function rg(n){const e=n.match(Oy);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Vl(t),u=Vl(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cs(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Vt);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Vt]:new xe([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ky{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Bh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Bh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Uh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Uh(e,this._root).map(t=>t.value)}}function Bh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Bh(n,t);if(r)return r}return null}function Uh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Uh(n,t);if(r.length)return r.unshift(e),r}return[]}class Mo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ud extends ky{constructor(e,t){super(e),this.snapshot=t,cd(this,e)}toString(){return this.snapshot.toString()}}function Oa(n,e){const t=function Py(n,e){const c=new xu([],{},{},"",{},Vt,e,null,n.root,-1,{});return new jh("",new Mo(c,[]))}(n,e),r=new Kr([new nt("",{})]),i=new Kr({}),u=new Kr({}),c=new Kr({}),p=new Kr(""),y=new aa(r,i,c,p,u,Vt,e,t.root);return y.snapshot=t.root,new ud(new Mo(y,[]),t)}class aa{constructor(e,t,r,i,u,c,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Rt.U)(e=>qn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Rt.U)(e=>qn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function ld(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class xu{constructor(e,t,r,i,u,c,p,y,b,S,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.routeConfig=y,this._urlSegment=b,this._lastPathIndex=S,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jh extends ky{constructor(e,t){super(t),this.url=e,cd(this,t)}toString(){return dd(this._root)}}function cd(n,e){e.value._routerState=n,e.children.forEach(t=>cd(n,t))}function dd(n){const e=n.children.length>0?` { ${n.children.map(dd).join(", ")} } `:"";return`${n.value}${e}`}function hd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ts(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ts(e.params,t.params)||n.params.next(t.params),function Au(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ts(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ts(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function $h(n,e){const t=ts(n.params,e.params)&&function It(n,e){return Pt(n,e)&&n.every((t,r)=>ts(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||$h(n.parent,e.parent))}function Ul(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Hh(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ul(n,r,i);return Ul(n,r)})}(n,e,t);return new Mo(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>Ul(n,p)),c}}const r=function Vy(n){return new aa(new Kr(n.url),new Kr(n.params),new Kr(n.queryParams),new Kr(n.fragment),new Kr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Ul(n,u));return new Mo(r,i)}}function ua(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ru(n){return"object"==typeof n&&null!=n&&n.outlets}function ig(n,e,t,r,i){let u={};if(r&&zn(r,(p,y)=>{u[y]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),n===e)return new Me(t,u,i);const c=Gh(n,e,t);return new Me(c,u,i)}function Gh(n,e,t){const r={};return zn(n.children,(i,u)=>{r[u]=i===e?t:Gh(i,e,t)}),new xe(n.segments,r)}class By{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ua(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Ru);if(i&&i!==sd(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Hy(n,e,t){if(n||(n=new xe([],{})),0===n.segments.length&&n.hasChildren())return ro(n,e,t);const r=function fw(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],p=t[r];if(Ru(p))break;const y=`${p}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&b&&"object"==typeof b&&void 0===b.outlets){if(!$i(y,b,c))return u;r+=2}else{if(!$i(y,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new xe(n.segments.slice(0,r.pathIndex),{});return u.children[Vt]=new xe(n.segments.slice(r.pathIndex),n.children),ro(u,0,i)}return r.match&&0===i.length?new xe(n.segments,{}):r.match&&!n.hasChildren()?zh(n,e,t):r.match?ro(n,0,i):zh(n,e,t)}function ro(n,e,t){if(0===t.length)return new xe(n.segments,{});{const r=function $y(n){return Ru(n[0])?n[0].outlets:{[Vt]:n}}(t),i={};return zn(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=Hy(n.children[c],e,u))}),zn(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new xe(n.segments,i)}}function zh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Ru(u)){const y=Nu(u.outlets);return new xe(r,y)}if(0===i&&ua(t[0])){r.push(new nt(n.segments[e].path,Wh(t[0]))),i++;continue}const c=Ru(u)?u.outlets[Vt]:`${u}`,p=i<t.length-1?t[i+1]:null;c&&p&&ua(p)?(r.push(new nt(c,Wh(p))),i+=2):(r.push(new nt(c,{})),i++)}return new xe(r,{})}function Nu(n){const e={};return zn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=zh(new xe([],{}),0,t))}),e}function Wh(n){const e={};return zn(n,(t,r)=>e[r]=`${t}`),e}function $i(n,e,t){return n==t.path&&ts(e,t.parameters)}class og{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),hd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=xo(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),zn(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=xo(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=xo(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=xo(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new Nl(u.value.snapshot))}),e.children.length&&this.forwardEvent(new es(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(hd(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),hd(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=function fd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),y=p?p.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=y,c.outlet&&c.outlet.activateWith(i,y),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class pd{constructor(e,t){this.routes=e,this.module=t}}function ka(n){return"function"==typeof n}function Ou(n){return n instanceof Me}const $l=Symbol("INITIAL_VALUE");function la(){return kn(n=>function ea(...n){const e=(0,On.yG)(n),t=(0,On.jO)(n),{args:r,keys:i}=Fi(n);if(0===r.length)return(0,Nn.D)([],e);const u=new Lr.y(function hi(n,e,t=di.y){return r=>{Ys(e,()=>{const{length:i}=n,u=new Array(i);let c=i,p=i;for(let y=0;y<i;y++)Ys(e,()=>{const b=(0,Nn.D)(n[y],e);let S=!1;b.subscribe((0,Un.x)(r,M=>{u[y]=M,S||(S=!0,p--),p||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>bo(i,c):di.y));return t?u.pipe(Tl(t)):u}(n.map(e=>e.pipe((0,Co.q)(1),Bi($l)))).pipe(Sr((e,t)=>{let r=!1;return t.reduce((i,u,c)=>i!==$l?i:(u===$l&&(r=!0),r||!1!==u&&c!==t.length-1&&!Ou(u)?i:u),e)},$l),Ji(e=>e!==$l),(0,Rt.U)(e=>Ou(e)?e:!0===e),(0,Co.q)(1)))}class Gy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hl,this.attachRef=null}}class Hl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Gy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Gl=(()=>{class n{constructor(t,r,i,u,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=u||Vt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,y=new Qh(t,p,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Hl),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Qh{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===aa?this.route:e===Hl?this.childContexts:this.parent.get(e,t)}}let Jh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:[Gl],encapsulation:2}),n})();function ql(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];gd(r,Xh(e,r))}}function gd(n,e){n.children&&ql(n.children,e)}function Xh(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function ef(n){const e=n.children&&n.children.map(ef),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Vt&&(t.component=Jh),t}function sn(n){return n.outlet||Vt}function tf(n,e){const t=n.filter(r=>sn(r)===e);return t.push(...n.filter(r=>sn(r)!==e)),t}const ug={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ku(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},ug):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||Io)(t,n,e);if(!u)return Object.assign({},ug);const c={};zn(u.posParams,(y,b)=>{c[b]=y.path});const p=u.consumed.length>0?Object.assign(Object.assign({},c),u.consumed[u.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:p,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function zl(n,e,t,r,i="corrected"){if(t.length>0&&function zy(n,e,t){return t.some(r=>yd(n,e,r)&&sn(r)!==Vt)}(n,t,r)){const c=new xe(e,function md(n,e,t,r){const i={};i[Vt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&sn(u)!==Vt){const c=new xe([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[sn(u)]=c}return i}(n,e,r,new xe(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function lg(n,e,t){return t.some(r=>yd(n,e,r))}(n,t,r)){const c=new xe(n.segments,function qy(n,e,t,r,i,u){const c={};for(const p of r)if(yd(n,t,p)&&!i[sn(p)]){const y=new xe([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[sn(p)]=y}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new xe(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function yd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Wy(n,e,t,r){return!!(sn(n)===r||r!==Vt&&yd(e,t,n))&&("**"===n.path||ku(e,n,t).matched)}function Ky(n,e,t){return 0===e.length&&!n.children[t]}class ca{constructor(e){this.segmentGroup=e||null}}class xr{constructor(e){this.urlTree=e}}function Ro(n){return Yi(new ca(n))}function Wl(n){return Yi(new xr(n))}class rf{constructor(e,t,r,i,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=zl(this.urlTree.root,[],[],this.config).segmentGroup,t=new xe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Vt).pipe((0,Rt.U)(u=>this.createUrlTree(Fa(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xi(u=>{if(u instanceof xr)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof ca?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Vt).pipe((0,Rt.U)(i=>this.createUrlTree(Fa(i),e.queryParams,e.fragment))).pipe(Xi(i=>{throw i instanceof ca?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new xe([],{[Vt]:e}):e;return new Me(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Rt.U)(u=>new xe([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Nn.D)(i).pipe(Js(u=>{const c=r.children[u],p=tf(t,u);return this.expandSegmentGroup(e,p,c,u).pipe((0,Rt.U)(y=>({segment:y,outlet:u})))}),Sr((u,c)=>(u[c.outlet]=c.segment,u),{}),function Xp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ji((i,u)=>n(i,u,r)):di.y,rd(1),t?Jp(e):En(()=>new Qs))}())}expandSegment(e,t,r,i,u,c){return(0,Nn.D)(r).pipe(Js(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,u,c).pipe(Xi(b=>{if(b instanceof ca)return yt(null);throw b}))),Xs(p=>!!p),Xi((p,y)=>{if(p instanceof Qs||"EmptyError"===p.name)return Ky(t,i,u)?yt(new xe([],{})):Ro(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,u,c,p){return Wy(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):Ro(t):Ro(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Wl(u):this.lineralizeSegments(r,u).pipe((0,wn.z)(c=>{const p=new xe(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:p,consumedSegments:y,remainingSegments:b,positionalParamSegments:S}=ku(t,i,u);if(!p)return Ro(t);const M=this.applyRedirectCommands(y,i.redirectTo,S);return i.redirectTo.startsWith("/")?Wl(M):this.lineralizeSegments(i,M).pipe((0,wn.z)(F=>this.expandSegment(e,t,r,F.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?yt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Rt.U)(M=>(r._loadedConfig=M,new xe(i,{})))):yt(new xe(i,{}));const{matched:c,consumedSegments:p,remainingSegments:y}=ku(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,wn.z)(S=>{const M=S.module,F=S.routes,{segmentGroup:B,slicedSegments:G}=zl(t,p,y,F),te=new xe(B.segments,B.children);if(0===G.length&&te.hasChildren())return this.expandChildren(M,F,te).pipe((0,Rt.U)(je=>new xe(p,je)));if(0===F.length&&0===G.length)return yt(new xe(p,{}));const we=sn(r)===u;return this.expandSegment(M,te,F,G,we?Vt:u,!0).pipe((0,Rt.U)(Ye=>new xe(p.concat(Ye.segments),Ye.children)))})):Ro(t)}getChildConfig(e,t,r){return t.children?yt(new pd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?yt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,wn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Rt.U)(u=>(t._loadedConfig=u,u))):function Ur(n){return Yi(to(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):yt(new pd([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?yt(i.map(c=>{const p=e.get(c);let y;if(function Kh(n){return n&&ka(n.canLoad)}(p))y=p.canLoad(t,r);else{if(!ka(p))throw new Error("Invalid CanLoad guard");y=p(t,r)}return gi(y)})).pipe(la(),(0,Zr.b)(c=>{if(!Ou(c))return;const p=to(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw p.url=c,p}),(0,Rt.U)(c=>!0===c)):yt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return yt(r);if(i.numberOfChildren>1||!i.children[Vt])return Yi(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Vt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new Me(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return zn(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[u]=t[p]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return zn(t.children,(p,y)=>{c[y]=this.createSegmentGroup(e,p,r,i)}),new xe(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Fa(n){const e={};for(const r of Object.keys(n.children)){const u=Fa(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Hi(n){if(1===n.numberOfChildren&&n.children[Vt]){const e=n.children[Vt];return new xe(n.segments.concat(e.segments),e.children)}return n}(new xe(n.segments,e))}class cg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class La{constructor(e,t){this.component=e,this.route=t}}function of(n,e,t){const r=n._root;return yi(r,e?e._root:null,t,[r.value])}function Kl(n,e,t){const r=function Zy(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function yi(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=xo(e);return n.children.forEach(c=>{(function hg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const y=function Yy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Pt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Pt(n.url,e.url)||!ts(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$h(n,e)||!ts(n.queryParams,e.queryParams);default:return!$h(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new cg(r)):(u.data=c.data,u._resolvedData=c._resolvedData),yi(n,e,u.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new La(p.outlet.component,c))}else c&&Va(e,p,i),i.canActivateChecks.push(new cg(r)),yi(n,null,u.component?p?p.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),zn(u,(c,p)=>Va(c,t.getContext(p),i)),i}function Va(n,e,t){const r=xo(n),i=n.value;zn(r,(u,c)=>{Va(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new La(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class lf{}function cf(n){return new Lr.y(e=>e.error(n))}class df{constructor(e,t,r,i,u,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=c}recognize(){const e=zl(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Vt);if(null===t)return null;const r=new xu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Mo(r,t),u=new jh(this.url,i);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Fy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const c=t.children[u],p=tf(e,u),y=this.processSegmentGroup(p,c,u);if(null===y)return null;r.push(...y)}const i=gg(r);return function e_(n){n.sort((e,t)=>e.value.outlet===Vt?-1:t.value.outlet===Vt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const u of e){const c=this.processSegmentAgainstRoute(u,t,r,i);if(null!==c)return c}return Ky(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Wy(e,t,r,i))return null;let u,c=[],p=[];if("**"===e.path){const B=r.length>0?sd(r).parameters:{};u=new xu(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(e),sn(e),e.component,e,f(t),m(t)+r.length,T(e))}else{const B=ku(t,e,r);if(!B.matched)return null;c=B.consumedSegments,p=B.remainingSegments,u=new xu(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(e),sn(e),e.component,e,f(t),m(t)+c.length,T(e))}const y=function t_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:S}=zl(t,c,p,y.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===S.length&&b.hasChildren()){const B=this.processChildren(y,b);return null===B?null:[new Mo(u,B)]}if(0===y.length&&0===S.length)return[new Mo(u,[])];const M=sn(e)===i,F=this.processSegment(y,b,S,M?Vt:i);return null===F?null:[new Mo(u,F)]}}function pg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function gg(n){const e=[],t=new Set;for(const r of n){if(!pg(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=gg(r.children);e.push(new Mo(r.value,i))}return e.filter(r=>!t.has(r))}function f(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function m(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function w(n){return n.data||{}}function T(n){return n.resolve||{}}function rt(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ct(n){return kn(e=>{const t=n(e);return t?(0,Nn.D)(t).pipe((0,Rt.U)(()=>e)):yt(e)})}class Yl extends class is{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Pu=new h.OlP("ROUTES");class Fu{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Rt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=u.create(e);return new pd(ns(c.injector.get(Pu,void 0,h.XFs.Self|h.XFs.Optional)).map(ef),c)}),Xi(u=>{throw t._loader$=void 0,u}));return t._loader$=new nd(i,()=>new ir.x).pipe(Vi()),t._loader$}loadModuleFactory(e){return gi(e()).pipe((0,wn.z)(t=>t instanceof h.YKP?yt(t):(0,Nn.D)(this.compiler.compileModuleAsync(t))))}}class n_{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function da(n){throw n}function _d(n,e,t){return e.parse("/")}function vd(n,e){return yt(null)}const ff={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gi=(()=>{class n{constructor(t,r,i,u,c,p,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ir.x,this.errorHandler=da,this.malformedUriErrorHandler=_d,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vd,afterPreactivation:vd},this.urlHandlingStrategy=new n_,this.routeReuseStrategy=new Yl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(h.h0i),this.console=c.get(h.c2e);const M=c.get(h.R0b);this.isNgZoneEnabled=M instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Fl(){return new Me(new xe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fu(c,p,F=>this.triggerEvent(new Rl(F)),F=>this.triggerEvent(new Ds(F))),this.routerState=Oa(this.currentUrlTree,this.rootComponentType),this.transitions=new Kr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ji(i=>0!==i.id),(0,Rt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),kn(i=>{let u=!1,c=!1;return yt(i).pipe((0,Zr.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),kn(p=>{const y=this.browserUrlTree.toString(),b=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return mg(p.source)&&(this.browserUrlTree=p.extractedUrl),yt(p).pipe(kn(M=>{const F=this.transitions.getValue();return r.next(new bs(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?ta.E:Promise.resolve(M)}),function sf(n,e,t,r){return kn(i=>function Pa(n,e,t,r,i){return new rf(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Rt.U)(u=>Object.assign(Object.assign({},i),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zr.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function N(n,e,t,r,i){return(0,wn.z)(u=>function Xy(n,e,t,r,i="emptyOnly",u="legacy"){try{const c=new df(n,e,t,r,i,u).recognize();return null===c?cf(new lf):yt(c)}catch(c){return cf(c)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,i).pipe((0,Rt.U)(c=>Object.assign(Object.assign({},u),{targetSnapshot:c}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zr.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new ia(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:B,source:G,restoredState:te,extras:we}=p,Ze=new bs(F,this.serializeUrl(B),G,te);r.next(Ze);const Ye=Oa(B,this.rootComponentType).snapshot;return yt(Object.assign(Object.assign({},p),{targetSnapshot:Ye,urlAfterRedirects:B,extras:Object.assign(Object.assign({},we),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),ta.E}),ct(p=>{const{targetSnapshot:y,id:b,extractedUrl:S,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=p;return this.hooks.beforePreactivation(y,{navigationId:b,appliedUrlTree:S,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,Zr.b)(p=>{const y=new tg(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),(0,Rt.U)(p=>Object.assign(Object.assign({},p),{guards:of(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function Qy(n,e){return(0,wn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?yt(Object.assign(Object.assign({},t),{guardsResult:!0})):function fg(n,e,t,r){return(0,Nn.D)(n).pipe((0,wn.z)(i=>function Zl(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?yt(u.map(p=>{const y=Kl(p,e,i);let b;if(function pw(n){return n&&ka(n.canDeactivate)}(y))b=gi(y.canDeactivate(n,e,t,r));else{if(!ka(y))throw new Error("Invalid CanDeactivate guard");b=gi(y(n,e,t,r))}return b.pipe(Xs())})).pipe(la()):yt(!0)}(i.component,i.route,t,e,r)),Xs(i=>!0!==i,!0))}(c,r,i,n).pipe((0,wn.z)(p=>p&&function ag(n){return"boolean"==typeof n}(p)?function Rr(n,e,t,r){return(0,Nn.D)(e).pipe(Js(i=>td(function uf(n,e){return null!==n&&e&&e(new Ui(n)),yt(!0)}(i.route.parent,r),function af(n,e){return null!==n&&e&&e(new Ra(n)),yt(!0)}(i.route,r),function No(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function dg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Li(()=>yt(c.guards.map(y=>{const b=Kl(y,c.node,t);let S;if(function Yh(n){return n&&ka(n.canActivateChild)}(b))S=gi(b.canActivateChild(r,n));else{if(!ka(b))throw new Error("Invalid CanActivateChild guard");S=gi(b(r,n))}return S.pipe(Xs())})).pipe(la())));return yt(u).pipe(la())}(n,i.path,t),function Jy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return yt(!0);const i=r.map(u=>Li(()=>{const c=Kl(u,e,t);let p;if(function Zh(n){return n&&ka(n.canActivate)}(c))p=gi(c.canActivate(e,n));else{if(!ka(c))throw new Error("Invalid CanActivate guard");p=gi(c(e,n))}return p.pipe(Xs())}));return yt(i).pipe(la())}(n,i.route,t))),Xs(i=>!0!==i,!0))}(r,u,n,e):yt(p)),(0,Rt.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Zr.b)(p=>{if(Ou(p.guardsResult)){const b=to(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw b.url=p.guardsResult,b}const y=new xl(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),Ji(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),ct(p=>{if(p.guards.canActivateChecks.length)return yt(p).pipe((0,Zr.b)(y=>{const b=new Mr(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}),kn(y=>{let b=!1;return yt(y).pipe(function z(n,e){return(0,wn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return yt(t);let u=0;return(0,Nn.D)(i).pipe(Js(c=>function se(n,e,t,r){return function Ue(n,e,t,r){const i=rt(n);if(0===i.length)return yt({});const u={};return(0,Nn.D)(i).pipe((0,wn.z)(c=>function wt(n,e,t,r){const i=Kl(n,e,r);return gi(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,Zr.b)(p=>{u[c]=p}))),rd(1),(0,wn.z)(()=>rt(u).length===i.length?yt(u):ta.E))}(n._resolve,n,e,r).pipe((0,Rt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Fy(n,t).resolve),null)))}(c.route,r,n,e)),(0,Zr.b)(()=>u++),rd(1),(0,wn.z)(c=>u===i.length?yt(t):ta.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,Zr.b)(y=>{const b=new pi(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}))}),ct(p=>{const{targetSnapshot:y,id:b,extractedUrl:S,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=p;return this.hooks.afterPreactivation(y,{navigationId:b,appliedUrlTree:S,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,Rt.U)(p=>{const y=function Ly(n,e,t){const r=Ul(n,e._root,t?t._root:void 0);return new ud(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:y})}),(0,Zr.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Rt.U)(r=>(new og(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Zr.b)({next(){u=!0},complete(){u=!0}}),function eg(n){return(0,Vr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var p;u||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===i.id&&(this.currentNavigation=null)}),Xi(p=>{if(c=!0,function id(n){return n&&n[Pl]}(p)){const y=Ou(p.url);y||(this.navigated=!0,this.restoreHistory(i,!0));const b=new bn(i.id,this.serializeUrl(i.extractedUrl),p.message);r.next(b),y?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mg(i.source)};this.scheduleNavigation(S,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new Ml(i.id,this.serializeUrl(i.extractedUrl),p);r.next(y);try{i.resolve(this.errorHandler(p))}catch(b){i.reject(b)}}return ta.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const u={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const y=Object.assign({},c);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,r,c,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ql(t),this.config=t.map(ef),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:p,preserveFragment:y}=r,b=i||this.routerState.root,S=y?this.currentUrlTree.fragment:c;let M=null;switch(p){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),function no(n,e,t,r,i){if(0===t.length)return ig(e.root,e.root,e.root,r,i);const u=function Uy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new By(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return zn(u.outlets,(y,b)=>{p[b]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,u]},[]);return new By(t,e,r)}(t);if(u.toRoot())return ig(e.root,e.root,new xe([],{}),r,i);const c=function sg(n,e,t){if(n.isAbsolute)return new qh(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new qh(u,u===e.root,0)}const r=ua(n.commands[0])?0:1;return function jy(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new qh(r,!1,i-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),p=c.processChildren?ro(c.segmentGroup,c.index,u.commands):Hy(c.segmentGroup,c.index,u.commands);return ig(e.root,c.segmentGroup,p,r,i)}(b,this.currentUrlTree,t,M,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ou(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function pf(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},ff):!1===r?Object.assign({},wd):r,Ou(t))return Mu(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Mu(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Tu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,c){var p,y;if(this.disposed)return Promise.resolve(!1);let b,S,M;c?(b=c.resolve,S=c.reject,M=c.promise):M=new Promise((G,te)=>{b=G,S=te});const F=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):B=0,this.setTransition({id:F,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:b,reject:S,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(G=>Promise.reject(G))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){var i,u;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new bn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function mg(n){return"imperative"!==n}let Ed=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=c,this.commands=null,this.onChanges=new ir.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:bd(this.skipLocationChange),replaceUrl:bd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Gi),h.Y36(aa),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),n})();function bd(n){return""===n||!!n}class s_{}class mw{preload(e,t){return yt(null)}}let yw=(()=>{class n{constructor(t,r,i,u){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=new Fu(i,r,y=>t.triggerEvent(new Rl(y)),y=>t.triggerEvent(new Ds(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ji(t=>t instanceof Tu),Js(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const c=u._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children));return(0,Nn.D)(i).pipe((0,Qi.J)(),(0,Rt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?yt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,wn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Gi),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(s_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),yg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ol&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Ol(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Is=new h.OlP("ROUTER_CONFIGURATION"),a_=new h.OlP("ROUTER_FORROOT_GUARD"),_w=[ye,{provide:jn,useClass:An},{provide:Gi,useFactory:function l_(n,e,t,r,i,u,c={},p,y){const b=new Gi(null,n,e,t,r,i,ns(u));return p&&(b.urlHandlingStrategy=p),y&&(b.routeReuseStrategy=y),function Ew(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,b),c.enableTracing&&b.events.subscribe(S=>{var M,F;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(F=console.groupEnd)||void 0===F||F.call(console)}),b},deps:[jn,Hl,ye,h.zs3,h.Sil,Pu,Is,[class hf{},new h.FiY],[class Sn{},new h.FiY]]},Hl,{provide:aa,useFactory:function _g(n){return n.routerState.root},deps:[Gi]},yw,mw,class o_{preload(e,t){return t().pipe(Xi(()=>yt(null)))}},{provide:Is,useValue:{enableTracing:!1}}];function wC(){return new h.PXZ("Router",Gi)}let ha=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[_w,u_(t),{provide:a_,useFactory:ww,deps:[[Gi,new h.FiY,new h.tp0]]},{provide:Is,useValue:r||{}},{provide:he,useFactory:vw,deps:[de,[new h.tBr(it),new h.FiY],Is]},{provide:yg,useFactory:EC,deps:[Gi,fu,Is]},{provide:s_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:mw},{provide:h.PXZ,multi:!0,useFactory:wC},[Dd,{provide:h.ip1,multi:!0,useFactory:bw,deps:[Dd]},{provide:d_,useFactory:c_,deps:[Dd]},{provide:h.tb,multi:!0,useExisting:d_}]]}}static forChild(t){return{ngModule:n,providers:[u_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(a_,8),h.LFG(Gi,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function EC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new yg(n,e,t)}function vw(n,e,t={}){return t.useHash?new Ie(n,e):new Qe(n,e)}function ww(n){return"guarded"}function u_(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:Pu,multi:!0,useValue:n}]}let Dd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ir.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(p=>r=p),u=this.injector.get(Gi),c=this.injector.get(Is);return"disabled"===c.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?yt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Is),i=this.injector.get(yw),u=this.injector.get(yg),c=this.injector.get(Gi),p=this.injector.get(h.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),u.init(),c.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function bw(n){return n.appInitializer.bind(n)}function c_(n){return n.bootstrapListener.bind(n)}const d_=new h.OlP("Router Initializer");let bC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-home-page"]],decls:8,vars:0,consts:[[1,"d-flex","justify-content-center","pt-5"],[1,"d-flex","justify-content-center"],[1,"d-flex","justify-content-center","py-5"],["routerLink","/add-task","type","button",1,"addButton"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"h2"),h._uU(2,"Get a clear view of the day ahead"),h.qZA()(),h.TgZ(3,"div",1),h._uU(4," All your tasks that are due today will show up there.\n"),h.qZA(),h.TgZ(5,"div",2)(6,"button",3),h._uU(7," Add tasks "),h.qZA()())},directives:[Ed],encapsulation:2,changeDetection:0}),n})(),Dw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home-page-page"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"lib-home-page")},directives:[bC],encapsulation:2,changeDetection:0}),n})(),Cw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,ha]]}),n})(),DC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,ha.forChild([{path:"",component:Dw}]),Cw]]}),n})();const f_=new h.OlP("GETS_ALL_TASK_DTO"),gf=new h.OlP("REMOVES_TASK_DTO"),p_=new h.OlP("SETS_TASK_DTO");let g_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Ql=(()=>{class n extends g_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Oo=new h.OlP("NgValueAccessor"),ko={provide:Oo,useExisting:(0,h.Gpc)(()=>wg),multi:!0},Tw=new h.OlP("CompositionEventMode");let wg=(()=>{class n extends g_{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function IC(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Tw,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([ko]),h.qOj]}),n})();const _i=new h.OlP("NgValidators"),Ba=new h.OlP("NgAsyncValidators");function m_(n){return function Lu(n){return null==n||0===n.length}(n.value)?{required:!0}:null}function Eg(n){return null}function bg(n){return null!=n}function fa(n){const e=(0,h.QGY)(n)?(0,Nn.D)(n):n;return(0,h.CqO)(e),e}function Dg(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function w_(n,e){return e.map(t=>t(n))}function AC(n){return n.map(e=>function E_(n){return!n.validate}(e)?e:t=>e.validate(t))}function Mw(n){return null!=n?function b_(n){if(!n)return null;const e=n.filter(bg);return 0==e.length?null:function(t){return Dg(w_(t,e))}}(AC(n)):null}function Cd(n){return null!=n?function yf(n){if(!n)return null;const e=n.filter(bg);return 0==e.length?null:function(t){return function AM(...n){const e=(0,On.jO)(n),{args:t,keys:r}=Fi(n),i=new Lr.y(u=>{const{length:c}=t;if(!c)return void u.complete();const p=new Array(c);let y=c,b=c;for(let S=0;S<c;S++){let M=!1;(0,Do.Xf)(t[S]).subscribe((0,Un.x)(u,F=>{M||(M=!0,b--),p[S]=F},()=>y--,void 0,()=>{(!y||!M)&&(b||u.next(r?bo(r,p):p),u.complete())}))}});return e?i.pipe(Tl(e)):i}(w_(t,e).map(fa)).pipe((0,Rt.U)(Dg))}}(AC(n)):null}function Cg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ig(n){return n._rawValidators}function Tg(n){return n._rawAsyncValidators}function xw(n){return n?Array.isArray(n)?n:[n]:[]}function Ag(n,e){return Array.isArray(n)?n.includes(e):n===e}function Rw(n,e){const t=xw(e);return xw(n).forEach(i=>{Ag(t,i)||t.push(i)}),t}function Nw(n,e){return xw(e).filter(t=>!Ag(n,t))}class Ow{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Cd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ua extends Ow{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ss extends Ow{get formDirective(){return null}get path(){return null}}class kw{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let D_=(()=>{class n extends kw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ua,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.qOj]}),n})(),C_=(()=>{class n extends kw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ss,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[h.qOj]}),n})();function Jl(n,e){A_(n,e),e.valueAccessor.writeValue(n.value),function xC(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Bw(n,e)})}(n,e),function RC(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Vw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Bw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Lw(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Mg(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Id(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Po(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function A_(n,e){const t=Ig(n);null!==e.validator?n.setValidators(Cg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Tg(n);null!==e.asyncValidator?n.setAsyncValidators(Cg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Po(e._rawValidators,i),Po(e._rawAsyncValidators,i)}function Id(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Ig(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=Tg(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Po(e._rawValidators,r),Po(e._rawAsyncValidators,r),t}function Bw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Df="VALID",Cf="INVALID",If="PENDING",Rd="DISABLED";function x_(n){return(vi(n)?n.validators:n)||null}function R_(n){return Array.isArray(n)?Mw(n):n||null}function N_(n,e){return(vi(e)?e.asyncValidators:n)||null}function Hw(n){return Array.isArray(n)?Cd(n):n||null}function vi(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Gw=n=>n instanceof Nd,O_=n=>n instanceof Od;function OC(n){return Gw(n)?n.value:n.getRawValue()}function k_(n,e){const t=O_(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[e])throw new h.vHH(1001,"")}function kC(n,e){O_(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new h.vHH(1002,"")})}class P_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=R_(this._rawValidators),this._composedAsyncValidatorFn=Hw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Df}get invalid(){return this.status===Cf}get pending(){return this.status==If}get disabled(){return this.status===Rd}get enabled(){return this.status!==Rd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=R_(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Hw(e)}addValidators(e){this.setValidators(Rw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Rw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Nw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Nw(e,this._rawAsyncValidators))}hasValidator(e){return Ag(this._rawValidators,e)}hasAsyncValidator(e){return Ag(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=If,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Rd,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Df,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Df||this.status===If)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rd:Df}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=If,this._hasOwnPendingAsyncValidator=!0;const t=fa(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function $w(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=O_(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof PC)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Rd:this.errors?Cf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(If)?If:this._anyControlsHaveStatus(Cf)?Cf:Df}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vi(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Nd extends P_{constructor(e=null,t,r){super(x_(t),N_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vi(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bf(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bf(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Od extends P_{constructor(e,t,r){super(x_(t),N_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){kC(this,e),Object.keys(e).forEach(r=>{k_(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=OC(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class PC extends P_{constructor(e,t,r){super(x_(t),N_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){kC(this,e),e.forEach((r,i)=>{k_(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>OC(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let F_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Zw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const Sf=new h.OlP("NgModelWithFormControlWarning"),B_={provide:ss,useExisting:(0,h.Gpc)(()=>kd)};let kd=(()=>{class n extends ss{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Id(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Jl(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Mg(t.control||null,t,!1),bf(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function M_(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Mg(r||null,t),Gw(i)&&(Jl(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Td(n,e){A_(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Ad(n,e){return Id(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){A_(this.form,this),this._oldForm&&Id(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(_i,10),h.Y36(Ba,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([B_]),h.qOj,h.TTD]}),n})();const Xw={provide:Ua,useExisting:(0,h.Gpc)(()=>Og)};let Og=(()=>{class n extends Ua{constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Ef(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===wg?t=u:function jw(n){return Object.getPrototypeOf(n.constructor)===Ql}(u)?r=u:i=u}),i||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function S_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function vf(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(ss,13),h.Y36(_i,10),h.Y36(Ba,10),h.Y36(Oo,10),h.Y36(Sf,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([Xw]),h.qOj,h.TTD]}),n})(),Bu=(()=>{class n{constructor(){this._validator=Eg}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Eg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),n})();const zC={provide:_i,useExisting:(0,h.Gpc)(()=>Mf),multi:!0};let Mf=(()=>{class n extends Bu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function GC(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>m_}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([zC]),h.qOj]}),n})(),cE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Zw]]}),n})(),q_=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Sf,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[cE]}),n})();const z_=new h.OlP("ADDS_TASK_DTO");class dE{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const UM={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const Dn="undefined"!=typeof window&&window||{};var K_=(()=>{return(n=K_||(K_={})).isBs3="bs3",n.isBs4="bs4",n.isBs5="bs5",K_;var n})();let os;function xf(){if(void 0===Dn.document)return"bs4";const n=Dn.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),Dn.document.head.appendChild(n);const e=n.getBoundingClientRect(),t=Dn.getComputedStyle(n).paddingLeft;return!e||e&&0!==e.top?(Dn.document.head.removeChild(n),"bs3"):t&&parseFloat(t)?(Dn.document.head.removeChild(n),"bs4"):(Dn.document.head.removeChild(n),"bs5")}function Lo(){return void 0===Dn||(void 0===Dn.__theme?(os||(os=xf()),"bs3"===os):"bs3"===Dn.__theme)}function hE(){return!Lo()&&(os||(os=xf()),"bs4"===os)}function Rf(){return{isBs3:Lo(),isBs4:hE(),isBs5:!Lo()&&!hE()&&(os||(os=xf()),"bs5"===os)}}"undefined"==typeof console||console;let Z_,uI=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{Z_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Z_=!1}let Ug=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Cr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Z_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fd=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function nc(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function wi(n){try{return n.frameElement}catch(e){return null}}(function jd(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===ic(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),u=ic(t);return t.hasAttribute("contenteditable")?-1!==u:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Bd(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==u:"video"===i?-1!==u&&(null!==u||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Ud(n){return!function so(n){return function Ld(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function jg(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Y_(n){return function Vd(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||rc(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ug))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rc(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function ic(n){if(!rc(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function sc(n){return null!=n&&"false"!=`${n}`}class $d{constructor(e,t,r,i,u=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,u||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Co.q)(1)).subscribe(e)}}let fE=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new $d(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Fd),h.LFG(h.R0b),h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pE=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=sc(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=sc(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(fE),h.Y36(ie))},n.\u0275dir=h.lG2({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[h.TTD]}),n})(),Q_=(()=>{class n{static forRoot(){return{ngModule:n,providers:[uI,Ug,Fd]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Dr]]}),n})();var J_=k(6451),gE=k(1144);const mE=["addListener","removeListener"],yE=["addEventListener","removeEventListener"],_E=["on","off"];function Nf(n,e,t,r){if((0,fi.m)(t)&&(r=t,t=void 0),r)return Nf(n,e,t).pipe(Tl(r));const[i,u]=function EE(n){return(0,fi.m)(n.addEventListener)&&(0,fi.m)(n.removeEventListener)}(n)?yE.map(c=>p=>n[c](e,p,t)):function wE(n){return(0,fi.m)(n.addListener)&&(0,fi.m)(n.removeListener)}(n)?mE.map(vE(n,e)):function lI(n){return(0,fi.m)(n.on)&&(0,fi.m)(n.off)}(n)?_E.map(vE(n,e)):[];if(!i&&(0,gE.z)(n))return(0,wn.z)(c=>Nf(c,e,t))((0,Do.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Lr.y(c=>{const p=(...y)=>c.next(1<y.length?y:y[0]);return i(p),()=>u(p)})}function vE(n,e){return t=>r=>n[t](e,r)}var bE=k(4408);const Of={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Of;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(u=>{t=void 0,n(u)});return new na.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Of;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Of;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var DE=k(7565);const CE=new class dI extends DE.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class cI extends bE.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Of.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Of.cancelAnimationFrame(t),e._scheduled=void 0)}});var $g=(()=>{return(n=$g||($g={})).top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",$g;var n})(),Hg=(()=>{return(n=Hg||(Hg={})).top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",Hg;var n})();function oc(n,e){if(1!==n.nodeType)return[];const t=n.ownerDocument.defaultView,r=null==t?void 0:t.getComputedStyle(n,null);return e?r&&r[e]:r}function kf(n){if(!n)return document.documentElement;let r,t=null==n?void 0:n.offsetParent;for(;null===t&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===oc(t,"position")?kf(t):t:r?r.ownerDocument.documentElement:document.documentElement}function ev(n){return null!==n.parentNode?ev(n.parentNode):n}function tv(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,u=document.createRange();u.setStart(r,0),u.setEnd(i,0);const c=u.commonAncestorContainer;if(n!==c&&e!==c||r.contains(i))return function X_(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||kf(n.firstElementChild)===n)}(c)?c:kf(c);const p=ev(n);return p.host?tv(p.host,e):tv(n,ev(e).host)}function hI(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;(null==e?void 0:e.parentElement)&&"none"===oc(e,"transform");)e=e.parentElement;return e||document.documentElement}function fI(n,e){const t="x"===e?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${r}Width`])}function IE(n,e,t,r){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function nv(n){const e=n.body,t=n.documentElement;return{height:IE("Height",e,t),width:IE("Width",e,t)}}function Gg(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function yn(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function TE(n){const e=n.getBoundingClientRect();if(!(e&&yn(e.top)&&yn(e.left)&&yn(e.bottom)&&yn(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===n.nodeName?nv(n.ownerDocument):void 0,i=(null==r?void 0:r.width)||n.clientWidth||yn(e.right)&&yn(t.left)&&e.right-t.left||0,u=(null==r?void 0:r.height)||n.clientHeight||yn(e.bottom)&&yn(t.top)&&e.bottom-t.top||0;let c=n.offsetWidth-i,p=n.offsetHeight-u;if(c||p){const y=oc(n);c-=fI(y,"x"),p-=fI(y,"y"),t.width-=c,t.height-=p}return Gg(t)}function qg(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function rv(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:r}=oc(n);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(t))?n:rv(qg(n))}function zg(n,e,t=!1){var r,i,u,c,p,y;const b="HTML"===e.nodeName,S=TE(n),M=TE(e),B=(rv(n),oc(e)),G=parseFloat(B.borderTopWidth),te=parseFloat(B.borderLeftWidth);t&&b&&(M.top=Math.max(null!==(r=M.top)&&void 0!==r?r:0,0),M.left=Math.max(null!==(i=M.left)&&void 0!==i?i:0,0));const we=Gg({top:(null!==(u=S.top)&&void 0!==u?u:0)-(null!==(c=M.top)&&void 0!==c?c:0)-G,left:(null!==(p=S.left)&&void 0!==p?p:0)-(null!==(y=M.left)&&void 0!==y?y:0)-te,width:S.width,height:S.height});if(we.marginTop=0,we.marginLeft=0,b){const Ze=parseFloat(B.marginTop),Ye=parseFloat(B.marginLeft);yn(we.top)&&(we.top-=G-Ze),yn(we.bottom)&&(we.bottom-=G-Ze),yn(we.left)&&(we.left-=te-Ye),yn(we.right)&&(we.right-=te-Ye),we.marginTop=Ze,we.marginLeft=Ye}return we}function Pf(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",r=n.nodeName;if("BODY"===r||"HTML"===r){const i=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||i)[t]}return n[t]}function iv(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===oc(n,"position")||iv(qg(n)))}function sv(n,e,t=0,r,i=!1){let u={top:0,left:0};const c=i?hI(n):tv(n,e);if("viewport"===r)u=function gI(n,e=!1){const t=n.ownerDocument.documentElement,r=zg(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),u=Math.max(t.clientHeight,window.innerHeight||0),c=e?0:Pf(t),p=e?0:Pf(t,"left");return Gg({top:c-Number(null==r?void 0:r.top)+Number(null==r?void 0:r.marginTop),left:p-Number(null==r?void 0:r.left)+Number(null==r?void 0:r.marginLeft),width:i,height:u})}(c,i);else{let p;"scrollParent"===r?(p=rv(qg(e)),"BODY"===p.nodeName&&(p=n.ownerDocument.documentElement)):p="window"===r?n.ownerDocument.documentElement:r;const y=zg(p,c,i);if(y&&"HTML"===p.nodeName&&!iv(c)){const{height:b,width:S}=nv(n.ownerDocument);yn(u.top)&&yn(y.top)&&yn(y.marginTop)&&(u.top+=y.top-y.marginTop),yn(u.top)&&(u.bottom=Number(b)+Number(y.top)),yn(u.left)&&yn(y.left)&&yn(y.marginLeft)&&(u.left+=y.left-y.marginLeft),yn(u.top)&&(u.right=Number(S)+Number(y.left))}else y&&(u=y)}return yn(u.left)&&(u.left+=t),yn(u.top)&&(u.top+=t),yn(u.right)&&(u.right-=t),yn(u.bottom)&&(u.bottom-=t),u}function mI({width:n,height:e}){return n*e}function AE(n,e,t,r,i=["top","bottom","right","left"],u="viewport",c=0){var p,y,b,S,M,F,B,G,te,we,Ze,Ye;if(-1===n.indexOf("auto"))return n;const je=sv(t,r,c,u),et={top:{width:null!==(p=null==je?void 0:je.width)&&void 0!==p?p:0,height:(null!==(y=null==e?void 0:e.top)&&void 0!==y?y:0)-(null!==(b=null==je?void 0:je.top)&&void 0!==b?b:0)},right:{width:(null!==(S=null==je?void 0:je.right)&&void 0!==S?S:0)-(null!==(M=null==e?void 0:e.right)&&void 0!==M?M:0),height:null!==(F=null==je?void 0:je.height)&&void 0!==F?F:0},bottom:{width:null!==(B=null==je?void 0:je.width)&&void 0!==B?B:0,height:(null!==(G=null==je?void 0:je.bottom)&&void 0!==G?G:0)-(null!==(te=null==e?void 0:e.bottom)&&void 0!==te?te:0)},left:{width:(null!==(we=e.left)&&void 0!==we?we:0)-(null!==(Ze=null==je?void 0:je.left)&&void 0!==Ze?Ze:0),height:null!==(Ye=null==je?void 0:je.height)&&void 0!==Ye?Ye:0}},_t=Object.keys(et).map(ar=>Object.assign(Object.assign({position:ar},et[ar]),{area:mI(et[ar])})).sort((ar,ri)=>ri.area-ar.area);let Ct=_t.filter(({width:ar,height:ri})=>ar>=t.clientWidth&&ri>=t.clientHeight);Ct=Ct.filter(({position:ar})=>i.some(ri=>ri===ar));const $t=Ct.length>0?Ct[0].position:_t[0].position,Jn=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Rf().isBs5?Hg[$t]:$t}`),$t+(Jn?`-${Jn}`:"")}const Wg=(n,e=0)=>n?parseFloat(n):e;function ov(n){const e=n.ownerDocument.defaultView,t=null==e?void 0:e.getComputedStyle(n),r=Wg(null==t?void 0:t.marginTop)+Wg(null==t?void 0:t.marginBottom),i=Wg(null==t?void 0:t.marginLeft)+Wg(null==t?void 0:t.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+r}}function av(n,e,t){return zg(e,t?hI(n):tv(n,e),t)}function Ff(n,e,t){var r,i,u;const c=t.split(" ")[0],p=ov(n),y={width:p.width,height:p.height},b=-1!==["right","left"].indexOf(c),S=b?"top":"left",M=b?"left":"top",F=b?"height":"width",B=b?"width":"height";return y[S]=(null!==(r=e[S])&&void 0!==r?r:0)+e[F]/2-p[F]/2,y[M]=c===M?(null!==(i=e[M])&&void 0!==i?i:0)-p[B]:null!==(u=e[function _I(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(M)])&&void 0!==u?u:0,y}function vI(n,e){var t;return!!(null===(t=n.modifiers[e])||void 0===t?void 0:t.enabled)}const uv={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Kg(n,e){return!!Rf().isBs5&&uv[e].includes(n)}function lv(n,e,t){!n||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function pI(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[r])&&(i="px"),t?t.setStyle(n,r,`${String(e[r])}${i}`):n.style[r]=String(e[r])+i})}function cv(n){var e,t,r,i,u,c;let p=n.offsets.target;const y=n.instance.target.querySelector(".arrow");if(!y)return n;const b=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),S=b?"height":"width",M=b?"Top":"Left",F=M.toLowerCase(),B=b?"left":"top",G=b?"bottom":"right",te=ov(y)[S],we=n.placement.split(" ")[1];(null!==(e=n.offsets.host[G])&&void 0!==e?e:0)-te<(null!==(t=p[F])&&void 0!==t?t:0)&&(p[F]-=(null!==(r=p[F])&&void 0!==r?r:0)-((null!==(i=n.offsets.host[G])&&void 0!==i?i:0)-te)),Number(n.offsets.host[F])+Number(te)>(null!==(u=p[G])&&void 0!==u?u:0)&&(p[F]+=Number(n.offsets.host[F])+Number(te)-Number(p[G])),p=Gg(p);const Ze=oc(n.instance.target),Ye=parseFloat(Ze[`margin${M}`])||0,je=parseFloat(Ze[`border${M}Width`])||0;let et;if(we){const Ct=parseFloat(Ze.borderRadius)||0,$t=Number(Ye+je+Ct);et=F===we?Number(n.offsets.host[F])+$t:Number(n.offsets.host[F])+Number(n.offsets.host[S]-$t)}else et=Number(n.offsets.host[F])+Number(n.offsets.host[S]/2-te/2);let _t=et-(null!==(c=p[F])&&void 0!==c?c:0)-Ye-je;return _t=Math.max(Math.min(p[S]-(te+5),_t),0),n.offsets.arrow={[F]:Math.round(_t),[B]:""},n.instance.arrow=y,n}function dv(n){if(n.offsets.target=Gg(n.offsets.target),!vI(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),Ff(n.instance.target,n.offsets.host,n.placement)),n;const e=sv(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const p=AE("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),y=[t,p];return y.forEach((b,S)=>{var M,F,B,G,te,we,Ze,Ye,je,et,_t,Ct,$t,Jn,ar,ri;if(t!==b||y.length===S+1)return;t=n.placement.split(" ")[0];const lw="left"===t&&Math.floor(null!==(M=n.offsets.target.right)&&void 0!==M?M:0)>Math.floor(null!==(F=n.offsets.host.left)&&void 0!==F?F:0)||"right"===t&&Math.floor(null!==(B=n.offsets.target.left)&&void 0!==B?B:0)<Math.floor(null!==(G=n.offsets.host.right)&&void 0!==G?G:0)||"top"===t&&Math.floor(null!==(te=n.offsets.target.bottom)&&void 0!==te?te:0)>Math.floor(null!==(we=n.offsets.host.top)&&void 0!==we?we:0)||"bottom"===t&&Math.floor(null!==(Ze=n.offsets.target.top)&&void 0!==Ze?Ze:0)<Math.floor(null!==(Ye=n.offsets.host.bottom)&&void 0!==Ye?Ye:0),Rh=Math.floor(null!==(je=n.offsets.target.left)&&void 0!==je?je:0)<Math.floor(null!==(et=e.left)&&void 0!==et?et:0),sl=Math.floor(null!==(_t=n.offsets.target.right)&&void 0!==_t?_t:0)>Math.floor(null!==(Ct=e.right)&&void 0!==Ct?Ct:0),cw=Math.floor(null!==($t=n.offsets.target.top)&&void 0!==$t?$t:0)<Math.floor(null!==(Jn=e.top)&&void 0!==Jn?Jn:0),dw=Math.floor(null!==(ar=n.offsets.target.bottom)&&void 0!==ar?ar:0)>Math.floor(null!==(ri=e.bottom)&&void 0!==ri?ri:0),ut="left"===t&&Rh||"right"===t&&sl||"top"===t&&cw||"bottom"===t&&dw,mt=-1!==["top","bottom"].indexOf(t),At=mt&&"left"===r&&Rh||mt&&"right"===r&&sl||!mt&&"left"===r&&cw||!mt&&"right"===r&&dw;(lw||ut||At)&&((lw||ut)&&(t=y[S+1]),At&&(r=function SE(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=t+(r?` ${r}`:""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),Ff(n.instance.target,n.offsets.host,n.placement)))}),n}function Zg(n){var e;if(!vI(n.options,"preventOverflow"))return n;const t="transform",r=n.instance.target.style,{top:i,left:u,[t]:c}=r;r.top="",r.left="",r[t]="";const p=sv(n.instance.target,n.instance.host,0,(null===(e=n.options.modifiers.preventOverflow)||void 0===e?void 0:e.boundariesElement)||"scrollParent",!1);r.top=i,r.left=u,r[t]=c;const b={primary(S){var M,F,B,G;let te=n.offsets.target[S];return(null!==(M=n.offsets.target[S])&&void 0!==M?M:0)<(null!==(F=p[S])&&void 0!==F?F:0)&&(te=Math.max(null!==(B=n.offsets.target[S])&&void 0!==B?B:0,null!==(G=p[S])&&void 0!==G?G:0)),{[S]:te}},secondary(S){var M,F,B,G;const te="right"===S,we=te?"left":"top";let Ye=n.offsets.target[we];return(null!==(M=n.offsets.target[S])&&void 0!==M?M:0)>(null!==(F=p[S])&&void 0!==F?F:0)&&(Ye=Math.min(null!==(B=n.offsets.target[we])&&void 0!==B?B:0,(null!==(G=p[S])&&void 0!==G?G:0)-n.offsets.target[te?"width":"height"])),{[we]:Ye}}};return["left","right","top","bottom"].forEach(S=>{const M=-1!==["left","top","start"].indexOf(S)?b.primary:b.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),M(S))}),n}function Yg(n){var e;const t=n.placement,r=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:u,target:c}=n.offsets,p=-1!==["bottom","top"].indexOf(r),y=p?"left":"top",b=p?"width":"height",S={start:{[y]:u[y]},end:{[y]:(null!==(e=u[y])&&void 0!==e?e:0)+u[b]-c[b]}};n.offsets.target=Object.assign(Object.assign({},c),{[y]:y===i?S.start[y]:S.end[y]})}return n}const QM=new class hv{position(e,t){return this.offset(e,t)}offset(e,t){return av(t,e)}positionElements(e,t,r,i,u){const c=[dv,Yg,Zg,cv],y=function wI(n,e,t,r){if(!n||!e)return;const i=av(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const u=!!t.match(/auto/g);let c=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const p=c.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return p&&(c=p[1]+(p[2]?` ${p[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(c)&&(c="auto"),c=AE(c,i,n,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:Ff(n,i,c),host:i,arrow:void 0},positionFixed:!1,placement:c,placementAuto:u}}(t,e,$g[r],u);if(y)return c.reduce((b,S)=>S(b),y)}};function EI(n,e,t,r,i,u){const c=QM.positionElements(n,e,t,r,i);if(!c)return;const p=function yI(n){var e,t,r,i;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(e=n.offsets.target.left)&&void 0!==e?e:0),top:Math.round(null!==(t=n.offsets.target.top)&&void 0!==t?t:0),bottom:Math.round(null!==(r=n.offsets.target.bottom)&&void 0!==r?r:0),right:Math.floor(null!==(i=n.offsets.target.right)&&void 0!==i?i:0)}}(c);lv(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${p.left}px, ${p.top}px, 0px)`},u),c.instance.arrow&&lv(c.instance.arrow,c.offsets.arrow,u),function Lf(n,e){const t=n.instance.target;let r=t.className;const i=Rf().isBs5?Hg[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function YM(n){return Rf().isBs5?Kg(n,"end")?"ms-2":Kg(n,"start")?"me-2":Kg(n,"top")?"mb-2":Kg(n,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",r):t.className=r}(c,u)}let Hd=(()=>{class n{constructor(t,r,i){this.update$$=new ir.x,this.positionElements=new Map,this.isDisabled=!1,Cr(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,J_.T)(Nf(window,"scroll",{passive:!0}),Nf(window,"resize",{passive:!0}),yt(0,CE),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(u=>{EI(Gd(u.target),Gd(u.element),u.attachment,u.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(Gd(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(Gd(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(h.FYo),h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gd(n){return"string"==typeof n?document.querySelector(n):n instanceof h.SBq?n.nativeElement:null!=n?n:null}class qd{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class fv{constructor(e,t,r,i,u,c,p,y){this._viewContainerRef=e,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=u,this._ngZone=c,this._applicationRef=p,this._posService=y,this.onBeforeShow=new h.vpe,this.onShown=new h.vpe,this.onBeforeHide=new h.vpe,this.onHidden=new h.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=h.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof h.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const r=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){var t,r,i,u,c,p;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const y=this._componentRef.location.nativeElement;return null===(t=y.parentNode)||void 0===t||t.removeChild(y),null===(i=null===(r=this._contentRef)||void 0===r?void 0:r.componentRef)||void 0===i||i.destroy(),this._viewContainerRef&&(null===(u=this._contentRef)||void 0===u?void 0:u.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(p=null===(c=this._contentRef)||void 0===c?void 0:c.viewRef)||void 0===p||p.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){var t;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);const r=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=c=>{e.show?e.show(c):this.show(c),c()};return this._renderer&&(this._unregisterListenersFn=function XC(n,e){const t=function W_(n,e=UM){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(u=>u.split(":")).map(u=>{const c=e[u[0]]||u;return new dE(c[0],c[1])}),i=r.filter(u=>u.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],u=[],c=()=>{u.forEach(p=>i.push(p())),u.length=0};return t.forEach(p=>{const y=p.open===p.close,b=y?e.toggle:e.show;if(!y&&p.close&&e.hide){const S=n.listen(r,p.close,e.hide);u.push(()=>S)}b&&i.push(n.listen(r,p.open,()=>b(c)))}),()=>{i.forEach(p=>p())}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:r,toggle:c=>{this.isShown?r():i(c)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function $M(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function HM(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var e;this._posService.position({element:null===(e=this._componentRef)||void 0===e?void 0:e.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,r){if(!e)return new qd([]);if(e instanceof h.Rgc){if(this._viewContainerRef){const c=this._viewContainerRef.createEmbeddedView(e,t);return c.markForCheck(),new qd([c.rootNodes],c)}const u=e.createEmbeddedView({});return this._applicationRef.attachView(u),new qd([u.rootNodes],u)}if("function"==typeof e){const u=this._componentFactoryResolver.resolveComponentFactory(e),c=h.zs3.create({providers:this._providers,parent:this._injector}),p=u.create(c);return Object.assign(p.instance,r),this._applicationRef.attachView(p.hostView),new qd([[p.location.nativeElement]],p.hostView,p)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new qd([i])}}let zd=(()=>{class n{constructor(t,r,i,u,c){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=u,this._applicationRef=c}createLoader(t,r,i){return new fv(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h._Vd),h.LFG(h.R0b),h.LFG(h.zs3),h.LFG(Hd),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ME=["*"];let Qg=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),xE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Vf={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},RE=new h.OlP("override-default-config");let NE=(()=>{class n{constructor(t,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,Lo()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){var r;this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(r=this.bsModalService)||void 0===r||r.setDismissReason("backdrop-click"),this.hide())}onPopState(){var t;null===(t=this.bsModalService)||void 0===t||t.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){var r,i;!this.isShown||((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===(null===(r=this.bsModalService)||void 0===r?void 0:r.getModalsCount())&&(null===(i=this.bsModalService)||void 0===i||i.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,Lo()?"in":"show"),setTimeout(()=>{var t,r;this.isShown=!1,document&&document.body&&1===(null===(t=this.bsModalService)||void 0===t?void 0:t.getModalsCount())&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),null===(r=this.bsModalService)||void 0===r||r.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(xE),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275cmp=h.Xpm({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,r){1&t&&h.NdJ("mousedown",function(u){return r.onClickStarted(u)})("click",function(u){return r.onClickStop(u)})("popstate",function(){return r.onPopState()},!1,h.Jf7)("keydown.esc",function(u){return r.onEsc(u)},!1,h.Jf7),2&t&&h.uIk("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:ME,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,r){1&t&&(h.F$t(),h.TgZ(0,"div",0)(1,"div",1),h.Hsn(2),h.qZA()()),2&t&&h.Tol("modal-dialog"+(r.config.class?" "+r.config.class:""))},directives:[pE],encapsulation:2}),n})(),OE=(()=>{class n{constructor(t,r){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=r}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),Lo()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class Vg{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=Dn),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function oI(){const n=Rf(),e=Object.keys(n).find(t=>n[t]);return K_[e]}();return{crossorigin:"bs3"!==e?"anonymous":void 0,integrity:"bs5"===e?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===e?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===e?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}.reflow(this.element.nativeElement)),this.isShown=!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275cmp=h.Xpm({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),PE=1,em=(()=>{class n{constructor(t,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new h.vpe,this.onShown=new h.vpe,this.onHide=new h.vpe,this.onHidden=new h.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},Vf,i):Vf}show(t,r){this.modalsCount++,this._createLoaders();const i=(null==r?void 0:r.id)||PE++;return this.config=this.modalDefaultOption?Object.assign({},Vf,this.modalDefaultOption,r):Object.assign({},Vf,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&r&&(this._backdropLoader.attach(OE).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var r;const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const p of this.config.providers)i.provide(p);const u=new Qg,c=i.provide({provide:xE,useValue:this.config}).provide({provide:Qg,useValue:u}).attach(NE).to("body");return u.hide=()=>{var p;return null===(p=c.instance)||void 0===p?void 0:p.hide()},u.setClass=p=>{c.instance&&(c.instance.config.class=p)},u.onHidden=new h.vpe,u.onHide=new h.vpe,this.copyEvent(i.onBeforeHide,u.onHide),this.copyEvent(i.onHidden,u.onHidden),c.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),c.instance&&(c.instance.level=this.getModalsCount(),u.content=i.getInnerComponent(),u.id=null===(r=c.instance.config)||void 0===r?void 0:r.id),u}_hideModal(t){if(null!=t){const r=this.loaders.findIndex(u=>{var c;return(null===(c=u.instance)||void 0===c?void 0:c.config.id)===t}),i=this.loaders[r];i&&i.hide(t)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const r=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),r}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const r=this.loaders.findIndex(i=>{var u;return(null===(u=i.instance)||void 0===u?void 0:u.config.id)===t});r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,u)=>{i.instance&&(i.instance.level=u+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,r){t.subscribe(i=>{r.emit(this.lastDismissReason||i)})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(zd),h.LFG(RE,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();Q_.forRoot();let pv=(()=>{class n{static forRoot(){return{ngModule:n,providers:[em,zd,Hd]}}static forChild(){return{ngModule:n,providers:[em,zd,Hd]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Q_]]}),n})();class Bf{}const Uu="*";function LE(n,e=null){return{type:2,steps:n,options:e}}function Wn(n){return{type:6,styles:n,offset:null}}function VE(n){Promise.resolve(null).then(n)}class jf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){VE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class gv{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?VE(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const BE=function(n){return{dropdown:n}},nx=["*"],tm=[Wn({height:0,overflow:"hidden"}),function SI(n,e=null){return{type:4,styles:e,timings:n}}("220ms cubic-bezier(0, 0, 0.2, 1)",Wn({height:"*",overflow:"hidden"}))];let bi=(()=>{class n{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new h.vpe,this.isDisabledChange=new h.vpe,this.toggleClick=new h.vpe,this.counts=0,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),kI=(()=>{class n{constructor(t,r,i,u,c){this._state=t,this.cd=r,this._renderer=i,this._element=u,this.isOpen=!1,this._factoryDropDownAnimation=c.build(tm),this._subscription=t.isOpenChange.subscribe(p=>{this.isOpen=p;const y=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),y&&!Lo()&&(this._renderer.addClass(y,"show"),(y.classList.contains("dropdown-menu-right")||y.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(y,"left","auto"),this._renderer.setStyle(y,"right","0")),"up"===this.direction&&(this._renderer.setStyle(y,"top","auto"),this._renderer.setStyle(y,"transform","translateY(-101%)"))),y&&this._state.isAnimated&&this._factoryDropDownAnimation.create(y).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(bi),h.Y36(h.sBO),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Bf))},n.\u0275cmp=h.Xpm({type:n,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:nx,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,r){1&t&&(h.F$t(),h.TgZ(0,"div",0),h.Hsn(1),h.qZA()),2&t&&(h.ekj("dropup","up"===r.direction)("show",r.isOpen)("open",r.isOpen),h.Q6J("ngClass",h.VKq(7,BE,"down"===r.direction)))},directives:[fs],encapsulation:2,changeDetection:0}),n})(),jE=(()=>{class n{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vo=(()=>{class n{constructor(t,r,i,u,c,p,y){this._elementRef=t,this._renderer=r,this._viewContainerRef=i,this._cis=u,this._state=c,this._config=p,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=y.build(tm),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:bi,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(t){this._state.autoClose=t}get autoClose(){return this._state.autoClose}set isAnimated(t){this._state.isAnimated=t}get isAnimated(){return this._state.isAnimated}set insideClick(t){this._state.insideClick=t}get insideClick(){return this._state.insideClick}set isDisabled(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(t){t?this.show():this.hide()}get isBs4(){return!Lo()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(t=>this.toggle(t))),this._subscriptions.push(this._state.isDisabledChange.pipe(Ji(t=>t)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(t=>{this._dropdown.attachInline(t.viewContainer,t.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(t=>{const r=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=r?"up":"down";const i=this.placement||(r?"top start":"bottom start");this._dropdown.attach(kI).to(this.container).position({attachment:i}).show({content:t.templateRef,placement:i}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(t){return this.isOpen||!t?this.hide():this.show()}_contains(t){return this._elementRef.nativeElement.contains(t.target)||this._dropdown.instance&&this._dropdown.instance._contains(t.target)}navigationClick(t){const r=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!r)return;const i=this._elementRef.nativeElement.ownerDocument.activeElement,u=r.querySelectorAll(".dropdown-item");switch(t.keyCode){case 38:this._state.counts>0&&u[--this._state.counts].focus();break;case 40:this._state.counts+1<u.length&&(i.classList!==u[this._state.counts].classList?u[this._state.counts].focus():u[++this._state.counts].focus())}t.preventDefault()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){Lo()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.s_b),h.Y36(zd),h.Y36(bi),h.Y36(jE),h.Y36(Bf))},n.\u0275dir=h.lG2({type:n,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,r){1&t&&h.NdJ("keydown.arrowDown",function(u){return r.navigationClick(u)})("keydown.arrowUp",function(u){return r.navigationClick(u)}),2&t&&h.ekj("dropup",r.dropup)("open",r.isOpen)("show",r.isOpen&&r.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[h._Bn([bi])]}),n})(),Bo=(()=>{class n{constructor(t,r,i){t.resolveDropdownMenu({templateRef:i,viewContainer:r})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(bi),h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),n})(),Uo=(()=>{class n{constructor(t,r,i,u,c){this._changeDetectorRef=t,this._dropdown=r,this._element=i,this._renderer=u,this._state=c,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(p=>{this.isOpen=p,p?(this._documentClickListener=this._renderer.listen("document","click",y=>{this._state.autoClose&&2!==y.button&&!this._element.nativeElement.contains(y.target)&&(!this._state.insideClick||!this._dropdown._contains(y))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(p=>this.isDisabled=p||void 0))}onClick(t){this._state.stopOnClickPropagation&&t.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const t of this._subscriptions)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO),h.Y36(Vo),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(bi))},n.\u0275dir=h.lG2({type:n,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u)}),2&t&&h.uIk("aria-haspopup",!0)("disabled",r.isDisabled)("aria-expanded",r.isOpen)},exportAs:["bs-dropdown-toggle"]}),n})(),$E=(()=>{class n{static forRoot(){return{ngModule:n,providers:[zd,Hd,bi]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Dr]]}),n})();function HE(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"ul",19)(1,"li",20)(2,"a",21),h.NdJ("click",function(){h.CHM(t),h.oxw();const i=h.MAs(15);return h.oxw().openModal(i)}),h._uU(3,"Delete"),h.qZA()()()}}function PI(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",22)(1,"h4",23),h._uU(2,"DELETE TASK"),h.qZA(),h.TgZ(3,"button",24),h.NdJ("click",function(){h.CHM(t);const i=h.oxw(2);return null==i.modalRef?null:i.modalRef.hide()}),h.TgZ(4,"span",25),h._uU(5,"\xd7"),h.qZA()()(),h.TgZ(6,"div",26),h._uU(7," Are you sure you want to delete this task? "),h.qZA(),h.TgZ(8,"div",27),h._UZ(9,"hr",28),h.qZA(),h.TgZ(10,"div",29)(11,"div",30)(12,"button",31),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit;return h.oxw().removeTask(i.id)})("click",function(){h.CHM(t);const i=h.oxw(2);return null==i.modalRef?null:i.modalRef.hide()})("click",function(){return h.CHM(t),h.oxw(2).showDeleteTask()}),h._uU(13," Delete task "),h.qZA()(),h.TgZ(14,"div",32)(15,"button",33),h.NdJ("click",function(){h.CHM(t);const i=h.oxw(2);return null==i.modalRef?null:i.modalRef.hide()}),h._uU(16," Cancel "),h.qZA()()()}}const FI=function(n){return{"bg-success":n}},LI=function(n){return{"text-decoration-line-through":n}};function VI(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"li",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"input",9),h.NdJ("(click",function(){const u=h.CHM(t).$implicit;return h.oxw().onItemClicked(u)})("click",function(){const u=h.CHM(t).$implicit;return h.oxw().showCompleteTask(u.done)}),h.qZA(),h.TgZ(5,"p",10),h._uU(6),h.qZA()(),h.TgZ(7,"div",11)(8,"div",12)(9,"button",13),h.O4$(),h.TgZ(10,"svg",14),h._UZ(11,"path",15),h.qZA(),h.kcU(),h._UZ(12,"span",16),h.qZA(),h.YNc(13,HE,4,0,"ul",17),h.qZA()(),h.YNc(14,PI,17,0,"ng-template",null,18,h.W1O),h.qZA()()()}if(2&n){const t=e.$implicit;h.xp6(4),h.Q6J("ngClass",h.VKq(4,FI,!0===t.done))("checked",t.done),h.xp6(1),h.Q6J("ngClass",h.VKq(6,LI,!0===t.done)),h.xp6(1),h.Oqu(t.task)}}function yv(n,e){1&n&&(h.TgZ(0,"div",34),h._uU(1," task deleted! "),h.qZA())}function $f(n,e){if(1&n&&(h.TgZ(0,"div",34),h._uU(1),h.ALo(2,"async"),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.hij(" ",h.lcZ(2,1,t.created$)," Task completed! ")}}let BI=(()=>{class n{constructor(t,r,i,u,c){this.modalService=t,this._getsAllTaskDto=r,this._setsTaskDto=i,this._removesTaskDto=u,this._addsTaskDto=c,this.tasks$=this._getsAllTaskDto.getAll().pipe((0,Rt.U)(p=>p.sort((y,b)=>b.created-y.created))),this.created$=this.tasks$.pipe((0,Rt.U)(p=>p.filter(y=>y.done).length)),this.setTask=new Od({setTask:new Nd}),this.deleteTaskAlert=!1,this.completeTaskAlert=!1,this.isVisible=!1}onItemClicked(t){this._setsTaskDto.set(!1===t.done?{id:t.id,done:!0}:{id:t.id,done:!1})}removeTask(t){this._removesTaskDto.remove(t)}openModal(t){this.modalRef=this.modalService.show(t)}showDeleteTask(){this.deleteTaskAlert=!0,this.completeTaskAlert=!1}showCompleteTask(t){this.deleteTaskAlert=!1,this.completeTaskAlert=!0}showAlert(){this.isVisible||(this.isVisible=!0,setTimeout(()=>this.isVisible=!1,2500))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(em),h.Y36(f_),h.Y36(p_),h.Y36(gf),h.Y36(z_))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-task-list"]],decls:10,vars:8,consts:[[3,"formGroup"],["class","list-unstyled",4,"ngFor","ngForOf"],["class","p-3 text-white border-2 bg-success deleteTask position-absolute top-0 end-0","role","alert",4,"ngIf"],[3,"click"],[1,"alert"],[1,"list-unstyled"],[1,"container","px-0"],[1,"row"],[1,"col","px-0"],["type","checkbox","id","checkboxNoLabel",1,"form-check-input","rounded-circle","pointer",3,"ngClass","checked","(click","click"],[1,"d-inline",3,"ngClass"],[1,"col","col-lg-2"],["dropdown","",1,"btn-group"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"btn","py-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots"],["d","M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"],[1,"caret"],["id","dropdown-basic","class","dropdown-menu","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["template",""],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu"],["role","menuitem"],[1,"dropdown-item","pointer",3,"click"],[1,"modal-header"],[1,"modal-title","pull-center"],["type","button","aria-label","Close",1,"btn-close","close","pull-center",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"container-flex"],[1,"container"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight"],[1,"me-2","bg-danger","border-dark","rounded","text-white",3,"click"],[1,"p-2","bd-highlight","pe-2"],[1,"me-1","bg-light","border","border-dark","rounded",3,"click"],["role","alert",1,"p-3","text-white","border-2","bg-success","deleteTask","position-absolute","top-0","end-0"]],template:function(t,r){1&t&&(h.TgZ(0,"form",0)(1,"ul"),h.YNc(2,VI,16,8,"li",1),h.ALo(3,"async"),h.qZA()(),h.YNc(4,yv,2,0,"div",2),h.YNc(5,$f,3,3,"div",2),h.TgZ(6,"button",3),h.NdJ("click",function(){return r.showAlert()}),h._uU(7,"show alert"),h.qZA(),h.TgZ(8,"div",4),h._uU(9," JWT copied to clipboard "),h.qZA()),2&t&&(h.Q6J("formGroup",r.setTask),h.xp6(2),h.Q6J("ngForOf",h.lcZ(3,6,r.tasks$)),h.xp6(2),h.Q6J("ngIf",r.deleteTaskAlert),h.xp6(1),h.Q6J("ngIf",r.completeTaskAlert),h.xp6(3),h.ekj("visible",r.isVisible))},directives:[F_,C_,kd,rr,fs,Vo,Uo,Bo,ai],pipes:[uu],encapsulation:2,changeDetection:0}),n})(),GE=(()=>{class n{constructor(t,r){this._addsAddTaskDto=t,this._removesTaskDto=r,this.task=new Od({task:new Nd})}onAddTaskSubmited(t){var r;this._addsAddTaskDto.add({task:null===(r=t.get("task"))||void 0===r?void 0:r.value,created:(new Date).getTime()}),this.task.reset()}cancelAnimationFrame(){this.task.reset()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(z_),h.Y36(gf))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-add-task"]],decls:11,vars:2,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["type","text","formControlName","task","placeholder","Task","ngModel","","required","",1,"d-block"],["type","submit",1,"addButton",3,"disabled"],["routerLink","/","type","button",1,"bg-secondary","m-3","cancelMain",3,"click"],[1,"d-flex","justify-content-center","py-5"],["routerLink","/","type","button",1,"Button"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("ngSubmit",function(){return r.onAddTaskSubmited(r.task)}),h._UZ(2,"input",2),h.TgZ(3,"button",3),h._uU(4,"Add Task"),h.qZA(),h.TgZ(5,"button",4),h.NdJ("click",function(){return r.cancelAnimationFrame()}),h._uU(6,"Cancel"),h.qZA()()(),h.TgZ(7,"div",5)(8,"div")(9,"button",6),h._uU(10,"Back to Home"),h.qZA()()()),2&t&&(h.xp6(1),h.Q6J("formGroup",r.task),h.xp6(2),h.Q6J("disabled",r.task.invalid))},directives:[F_,C_,kd,wg,D_,Og,Mf,Ed],encapsulation:2,changeDetection:0}),n})(),UI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-add-task-page"]],decls:10,vars:0,consts:[[1,"container","px-0"],[1,"row","gx-5"],[1,"col"],[1,"p-4"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),h._UZ(4,"lib-task-list"),h.qZA()()()(),h.TgZ(5,"div")(6,"div",1)(7,"div",2)(8,"div",3),h._UZ(9,"lib-add-task"),h.qZA()()()())},directives:[BI,GE],encapsulation:2,changeDetection:0}),n})(),qE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,q_,ha]]}),n})();var zE=k(4986),gr=k(5813);function _v(){return(0,Vr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Un.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function KE(n,e){return n===e}var ot,Ts=k(2011),ZE=(k(820),k(3942)),_e=k(5861),ju=k(9681),Hf=k(4859),Ha=k(1877),qt=k(2090),YE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ma={},wv=wv||{},Ot=YE||self;function nm(){}function Ev(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Gf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var bv="closure_uid_"+(1e9*Math.random()>>>0),$I=0;function HI(n,e,t){return n.call.apply(n.bind,arguments)}function GI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Yr(n,e,t){return(Yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?HI:GI).apply(null,arguments)}function rm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Qr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function $u(){this.s=this.s,this.o=this.o}var zI={};$u.prototype.s=!1,$u.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function jI(n){return Object.prototype.hasOwnProperty.call(n,bv)&&n[bv]||(n[bv]=++$I)}(this);delete zI[n]}},$u.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Dv=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function Cv(n){return Array.prototype.concat.apply([],arguments)}function im(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function qf(n){return/^[\s\xa0]*$/.test(n)}var Ci,Iv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Di(n,e){return-1!=n.indexOf(e)}function sm(n,e){return n<e?-1:n>e?1:0}e:{var Tv=Ot.navigator;if(Tv){var Av=Tv.userAgent;if(Av){Ci=Av;break e}}Ci=""}function Ga(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function XE(n){const e={};for(const t in n)e[t]=n[t];return e}var eb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ac(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<eb.length;u++)t=eb[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function tb(n){return tb[" "](n),n}tb[" "]=nm;var om,n,rx=Di(Ci,"Opera"),uc=Di(Ci,"Trident")||Di(Ci,"MSIE"),Mv=Di(Ci,"Edge"),nb=Mv||uc,Et=Di(Ci,"Gecko")&&!(Di(Ci.toLowerCase(),"webkit")&&!Di(Ci,"Edge"))&&!(Di(Ci,"Trident")||Di(Ci,"MSIE"))&&!Di(Ci,"Edge"),WI=Di(Ci.toLowerCase(),"webkit")&&!Di(Ci,"Edge");function rb(){var n=Ot.document;return n?n.documentMode:void 0}e:{var Wd="",xv=(n=Ci,Et?/rv:([^\);]+)(\)|;)/.exec(n):Mv?/Edge\/([\d\.]+)/.exec(n):uc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):WI?/WebKit\/(\S+)/.exec(n):rx?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(xv&&(Wd=xv?xv[1]:""),uc){var Kd=rb();if(null!=Kd&&Kd>parseFloat(Wd)){om=String(Kd);break e}}om=Wd}var am={};var KI=Ot.document&&uc&&(rb()||parseInt(om,10))||void 0,ZI=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",nm,e),Ot.removeEventListener("test",nm,e)}catch(t){}return n}();function Jr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Zd(n,e){if(Jr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Et){e:{try{tb(e.nodeName);var i=!0;break e}catch(u){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:sb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zd.Z.h.call(this)}}Jr.prototype.h=function(){this.defaultPrevented=!0},Qr(Zd,Jr);var sb={2:"touch",3:"pen",4:"mouse"};Zd.prototype.h=function(){Zd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Yd="closure_listenable_"+(1e6*Math.random()|0),YI=0;function QI(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++YI,this.ca=this.fa=!1}function um(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Hu(n){this.src=n,this.g={},this.h=0}function Nv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=QE(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(um(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ov(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}Hu.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=Ov(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new QI(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var kv="closure_lm_"+(1e6*Math.random()|0),Qd={};function Pv(n,e,t,r,i){if(r&&r.once)return ab(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Pv(n,e[u],t,r,i);return null}return t=cm(t),n&&n[Yd]?n.N(e,t,Gf(r)?!!r.capture:!!r,i):Fv(n,e,t,!1,r,i)}function Fv(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=Gf(i)?!!i.capture:!!i,p=Lv(n);if(p||(n[kv]=p=new Hu(n)),(t=p.add(e,t,r,c,u)).proxy)return t;if(r=function ob(){var e=JI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ZI||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ub(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function ab(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)ab(n,e[u],t,r,i);return null}return t=cm(t),n&&n[Yd]?n.O(e,t,Gf(r)?!!r.capture:!!r,i):Fv(n,e,t,!0,r,i)}function Jd(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)Jd(n,e[u],t,r,i);else r=Gf(r)?!!r.capture:!!r,t=cm(t),n&&n[Yd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ov(u=n.g[e],t,r,i))&&(um(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Lv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ov(e,t,r,i)),(t=-1<n?e[n]:null)&&lc(t))}function lc(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Yd])Nv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ub(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Lv(e))?(Nv(t,n),0==t.h&&(t.src=null,e[kv]=null)):um(n)}}}function ub(n){return n in Qd?Qd[n]:Qd[n]="on"+n}function JI(n,e){if(n.ca)n=!0;else{e=new Zd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&lc(n),n=t.call(r,e)}return n}function Lv(n){return(n=n[kv])instanceof Hu?n:null}var lm="__closure_events_fn_"+(1e9*Math.random()>>>0);function cm(n){return"function"==typeof n?n:(n[lm]||(n[lm]=function(e){return n.handleEvent(e)}),n[lm])}function Nr(){$u.call(this),this.i=new Hu(this),this.P=this,this.I=null}function Xr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Jr(e,n);else if(e instanceof Jr)e.target=e.target||n;else{var i=e;ac(e=new Jr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=zf(c,r,!0,e)&&i}if(i=zf(c=e.g=n,r,!0,e)&&i,i=zf(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=zf(c=e.g=t[u],r,!1,e)&&i}function zf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ca&&c.capture==t){var p=c.listener,y=c.ia||c.src;c.fa&&Nv(n.i,c),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}Qr(Nr,$u),Nr.prototype[Yd]=!0,Nr.prototype.removeEventListener=function(n,e,t,r){Jd(this,n,e,t,r)},Nr.prototype.M=function(){if(Nr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)um(t[r]);delete n.g[e],n.h--}}this.I=null},Nr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Nr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Vv=Ot.JSON.stringify;function XI(){var n=Uv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Xd,eT=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new sx,n=>n.reset());class sx{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ox(n){Ot.setTimeout(()=>{throw n},0)}function dm(n,e){Xd||function tT(){var n=Ot.Promise.resolve(void 0);Xd=function(){n.then(Wf)}}(),Bv||(Xd(),Bv=!0),Uv.add(n,e)}var Bv=!1,Uv=new class ix{constructor(){this.h=this.g=null}add(e,t){const r=eT.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Wf(){for(var n;n=XI();){try{n.h.call(n.g)}catch(t){ox(t)}var e=eT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Bv=!1}function hm(n,e){Nr.call(this),this.h=n||1,this.g=e||Ot,this.j=Yr(this.kb,this),this.l=Date.now()}function jv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function $v(n,e,t){if("function"==typeof n)t&&(n=Yr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Yr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function lb(n){n.g=$v(()=>{n.g=null,n.i&&(n.i=!1,lb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qr(hm,Nr),(ot=hm.prototype).da=!1,ot.S=null,ot.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xr(this,"tick"),this.da&&(jv(this),this.start()))}},ot.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ot.M=function(){hm.Z.M.call(this),jv(this),delete this.g};class nT extends $u{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lb(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eh(n){$u.call(this),this.h=n,this.g={}}Qr(eh,$u);var cb=[];function db(n,e,t,r){Array.isArray(t)||(t&&(cb[0]=t.toString()),t=cb);for(var i=0;i<t.length;i++){var u=Pv(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function cc(n){Ga(n.g,function(e,t){this.g.hasOwnProperty(t)&&lc(e)},n),n.g={}}function fm(){this.g=!0}function dc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return Vv(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}eh.prototype.M=function(){eh.Z.M.call(this),cc(this)},eh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fm.prototype.Aa=function(){this.g=!1},fm.prototype.info=function(){};var hc={},pm=null;function gm(){return pm=pm||new Nr}function Hv(n){Jr.call(this,hc.Ma,n)}function th(n){const e=gm();Xr(e,new Hv(e,n))}function pb(n,e){Jr.call(this,hc.STAT_EVENT,n),this.stat=e}function qi(n){const e=gm();Xr(e,new pb(e,n))}function gb(n,e){Jr.call(this,hc.Na,n),this.size=e}function fc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}hc.Ma="serverreachability",Qr(Hv,Jr),hc.STAT_EVENT="statevent",Qr(pb,Jr),hc.Na="timingevent",Qr(gb,Jr);var mm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Gv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qv(){}function yb(){}qv.prototype.h=null;var Kv,Kf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zv(){Jr.call(this,"d")}function Wv(){Jr.call(this,"c")}function ym(){}function nh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new eh(this),this.P=sT,this.W=new hm(n=nb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Zv}function Zv(){this.i=null,this.g="",this.h=!1}Qr(zv,Jr),Qr(Wv,Jr),Qr(ym,qv),ym.prototype.g=function(){return new XMLHttpRequest},ym.prototype.i=function(){return{}},Kv=new ym;var sT=45e3,Yv={},Zf={};function Qv(n,e,t){n.K=1,n.v=bm(za(e)),n.s=t,n.U=!0,_b(n,null)}function _b(n,e){n.F=Date.now(),rh(n),n.A=za(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Cb(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Zv,n.g=km(n.l,t?e:null,!n.s),0<n.O&&(n.L=new nT(Yr(n.Ia,n,n.g),n.O)),db(n.V,n.g,"readystatechange",n.gb),e=n.H?XE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),th(1),function hb(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",p=u.split("&"),y=0;y<p.length;y++){var b=p[y].split("=");if(1<b.length){var S=b[0];b=b[1];var M=S.split("_");c=2<=M.length&&"type"==M[1]?c+(S+"=")+b+"&":c+(S+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function vb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function _m(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Jv(n,t),i==Zf){4==e&&(n.o=4,qi(14),r=!1),dc(n.j,n.m,null,"[Incomplete Response]");break}if(i==Yv){n.o=4,qi(15),dc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}dc(n.j,n.m,i,null),Xv(n,i)}vb(n)&&i!=Zf&&i!=Yv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,qi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Nm(e),e.L=!0,qi(11))):(dc(n.j,n.m,t,"[Invalid Chunked Response]"),qa(n),Yf(n))}function Jv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Zf:(t=Number(e.substring(t,r)),isNaN(t)?Yv:(r+=1)+t>e.length?Zf:(e=e.substr(r,t),n.C=r+t,e))}function rh(n){n.Y=Date.now()+n.P,vm(n,n.P)}function vm(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=fc(Yr(n.eb,n),e)}function wm(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Yf(n){0==n.l.G||n.I||d0(n.l,n)}function qa(n){wm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,jv(n.W),cc(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Xv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Tm(t.i,n)))if(t.I=n.N,!n.J&&Tm(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=fc(Yr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;ah(t),Mm(t)}l0(t),qi(18)}if(1>=pT(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else vc(t,11)}else if((n.J||t.g==n)&&ah(t),!qf(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const S=b[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const M=b[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var u=r.i;!u.g&&(Di(G,"spdy")||Di(G,"quic")||Di(G,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(n0(u,u.h),u.h=null))}if(r.D){const te=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(r.sa=te,Mn(r.F,r.D,te))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=Om(r,r.H?r.la:null,r.W),c.J){gT(r.i,c);var p=c,y=r.K;y&&p.setTimeout(y),p.B&&(wm(p),rh(p)),r.g=c}else Lb(r);0<t.l.length&&Rm(t)}else"stop"!=b[0]&&"close"!=b[0]||vc(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?vc(t,7):oo(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}th(4)}catch(b){}}function e0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ev(n)||"string"==typeof n)Dv(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Ev(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function wb(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Ev(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function pc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof pc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function t0(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Gu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Gu(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Gu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ot=nh.prototype).setTimeout=function(n){this.P=n},ot.gb=function(n){n=n.target;const e=this.L;e&&3==Ka(n)?e.l():this.Ia(n)},ot.Ia=function(n){try{if(n==this.g)e:{const S=Ka(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>S)&&(3!=S||nb||this.g&&(this.h.h||this.g.ga()||Pb(this.g)))){this.I||4!=S||7==e||th(8==e||0>=M?3:2),wm(this);var t=this.g.ba();this.N=t;t:if(vb(this)){var r=Pb(this.g);n="";var i=r.length,u=4==Ka(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){qa(this),Yf(this);var c="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function rT(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qf(p)){var b=p;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,qi(12),qa(this),Yf(this);break e}dc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xv(this,t)}this.U?(_m(this,S,c),nb&&this.i&&3==S&&(db(this.V,this.W,"tick",this.fb),this.W.start())):(dc(this.j,this.m,c,null),Xv(this,c)),4==S&&qa(this),this.i&&!this.I&&(4==S?d0(this.l,this):(this.i=!1,rh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,qi(12)):(this.o=0,qi(13)),qa(this),Yf(this)}}}catch(S){}},ot.fb=function(){if(this.g){var n=Ka(this.g),e=this.g.ga();this.C<e.length&&(wm(this),_m(this,n,e),this.i&&4!=n&&rh(this))}},ot.cancel=function(){this.I=!0,qa(this)},ot.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function iT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(th(3),qi(17)),qa(this),this.o=2,Yf(this)):vm(this,this.Y-n)},(ot=pc.prototype).R=function(){t0(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ot.T=function(){return t0(this),this.g.concat()},ot.get=function(n,e){return Gu(this.h,n)?this.h[n]:e},ot.set=function(n,e){Gu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ot.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var oT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ya(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ya){this.g=void 0!==e?e:n.g,Wa(this,n.j),this.s=n.s,qu(this,n.i),Em(this,n.m),this.l=n.l,e=n.h;var t=new sh;t.i=e.i,e.g&&(t.g=new pc(e.g),t.h=e.h),uT(this,t),this.o=n.o}else n&&(t=String(n).match(oT))?(this.g=!!e,Wa(this,t[1]||"",!0),this.s=Qf(t[2]||""),qu(this,t[3]||"",!0),Em(this,t[4]),this.l=Qf(t[5]||"",!0),uT(this,t[6]||"",!0),this.o=Qf(t[7]||"")):(this.g=!!e,this.h=new sh(null,this.g))}function za(n){return new ya(n)}function Wa(n,e,t){n.j=t?Qf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function qu(n,e,t){n.i=t?Qf(e,!0):e}function Em(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function uT(n,e,t){e instanceof sh?(n.h=e,function hT(n,e){e&&!n.j&&(zu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Db(this,r),Cb(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=ih(e,dT)),n.h=new sh(e,n.g))}function Mn(n,e,t){n.h.set(e,t)}function bm(n){return Mn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Qf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ih(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Eb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Eb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ya.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ih(e,Dm,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ih(e,Dm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(ih(t,"/"==t.charAt(0)?Jf:Cm,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ih(t,bb)),n.join("")};var Dm=/[#\/\?@]/g,Cm=/[#\?:]/g,Jf=/[#\?]/g,dT=/[#\?@]/g,bb=/#/g;function sh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function zu(n){n.g||(n.g=new pc,n.h=0,n.i&&function aT(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Db(n,e){zu(n),e=Xf(n,e),Gu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Gu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&t0(n)))}function Im(n,e){return zu(n),e=Xf(n,e),Gu(n.g.h,e)}function Cb(n,e,t){Db(n,e),0<t.length&&(n.i=null,n.g.set(Xf(n,e),im(t)),n.h+=t.length)}function Xf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function gc(n){this.l=n||Ib,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ea&&Ot.g.Ea()&&Ot.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ot=sh.prototype).add=function(n,e){zu(this),this.i=null,n=Xf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ot.forEach=function(n,e){zu(this),this.g.forEach(function(t,r){Dv(t,function(i){n.call(e,i,r,this)},this)},this)},ot.T=function(){zu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},ot.R=function(n){zu(this);var e=[];if("string"==typeof n)Im(this,n)&&(e=Cv(e,this.g.get(Xf(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Cv(e,n[t])}return e},ot.set=function(n,e){return zu(this),this.i=null,Im(this,n=Xf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ot.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var c=i;""!==r[u]&&(c+="="+encodeURIComponent(String(r[u]))),n.push(c)}}return this.i=n.join("&")};var Ib=10;function mc(n){return!!n.h||!!n.g&&n.g.size>=n.j}function pT(n){return n.h?1:n.g?n.g.size:0}function Tm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function n0(n,e){n.g?n.g.add(e):n.h=e}function gT(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function r0(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return im(n.i)}function Tb(){}function Ab(){this.g=new Tb}function s0(n,e,t){const r=t||"";try{e0(n,function(i,u){let c=i;Gf(i)&&(c=Vv(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ep(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(u){}}function tp(n){this.l=n.$b||null,this.j=n.ib||!1}function Am(n,e){Nr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=o0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gc.prototype.cancel=function(){if(this.i=r0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Tb.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},Tb.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},Qr(tp,qv),tp.prototype.g=function(){return new Am(this.l,this.j)},tp.prototype.i=function(n){return function(){return n}}({}),Qr(Am,Nr);var o0=0;function Sb(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function np(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rp(n)}function rp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ot=Am.prototype).open=function(n,e){if(this.readyState!=o0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,rp(this)},ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ot).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,np(this)),this.readyState=o0},ot.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rp(this)),this.g&&(this.readyState=3,rp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ot.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sb(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ot.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?np(this):rp(this),3==this.readyState&&Sb(this)}},ot.Ua=function(n){this.g&&(this.response=this.responseText=n,np(this))},ot.Ta=function(n){this.g&&(this.response=n,np(this))},ot.ha=function(){this.g&&np(this)},ot.setRequestHeader=function(n,e){this.v.append(n,e)},ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Am.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var yT=Ot.JSON.parse;function mr(n){Nr.call(this),this.headers=new pc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=oh,this.K=this.L=!1}Qr(mr,Nr);var oh="",Mb=/^https?$/i,xb=["POST","PUT"];function Nb(n){return"content-type"==n.toLowerCase()}function a0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,u0(n),ip(n)}function u0(n){n.D||(n.D=!0,Xr(n,"complete"),Xr(n,"error"))}function Ob(n){if(n.h&&void 0!==wv&&(!n.C[1]||4!=Ka(n)||2!=n.ba()))if(n.v&&4==Ka(n))$v(n.Fa,0,n);else if(Xr(n,"readystatechange"),4==Ka(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(oT)[1]||null;if(!i&&Ot.self&&Ot.self.location){var u=Ot.self.location.protocol;i=u.substr(0,u.length-1)}r=!Mb.test(i?i.toLowerCase():"")}t=r}if(t)Xr(n,"complete"),Xr(n,"success");else{n.m=6;try{var c=2<Ka(n)?n.g.statusText:""}catch(y){c=""}n.j=c+" ["+n.ba()+"]",u0(n)}}finally{ip(n)}}}function ip(n,e){if(n.g){kb(n);const t=n.g,r=n.C[0]?nm:null;n.g=null,n.C=null,e||Xr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function kb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function Ka(n){return n.g?n.g.readyState:0}function Pb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case oh:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function yc(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function _T(n){let e="";return Ga(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Mn(n,e,t))}function sp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Sm(n){this.za=0,this.l=[],this.h=new fm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sp("baseRetryDelayMs",5e3,n),this.$a=sp("retryDelaySeedMs",1e4,n),this.Ya=sp("forwardChannelMaxRetries",2,n),this.ra=sp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new gc(n&&n.concurrentRequestLimit),this.Ca=new Ab,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function oo(n){if(xm(n),3==n.G){var e=n.V++,t=za(n.F);Mn(t,"SID",n.J),Mn(t,"RID",e),Mn(t,"TYPE","terminate"),Wu(n,t),(e=new nh(n,n.h,e,void 0)).K=2,e.v=bm(za(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(t=Ot.navigator.sendBeacon(e.v.toString(),"")),!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=km(e.l,null),e.g.ea(e.v)),e.F=Date.now(),rh(e)}wT(n)}function Mm(n){n.g&&(Nm(n),n.g.cancel(),n.g=null)}function xm(n){Mm(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),ah(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function _c(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Rm(n)}function Rm(n){mc(n.i)||n.m||(n.m=!0,dm(n.Ha,n),n.C=0)}function Fb(n,e){var t;t=e?e.m:n.V++;const r=za(n.F);Mn(r,"SID",n.J),Mn(r,"RID",t),Mn(r,"AID",n.U),Wu(n,r),n.o&&n.s&&yc(r,n.o,n.s),t=new nh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=op(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),n0(n.i,t),Qv(t,r,e)}function Wu(n,e){n.j&&e0({},function(t,r){Mn(e,r,t)})}function op(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Yr(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let p=!0;for(let y=0;y<t;y++){let b=i[y].h;const S=i[y].g;if(b-=u,0>b)u=Math.max(0,i[y].h-100),p=!1;else try{s0(S,c,"req"+b+"_")}catch(M){r&&r(S)}}if(p){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Lb(n){n.g||n.u||(n.Y=1,dm(n.Ga,n),n.A=0)}function l0(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=fc(Yr(n.Ga,n),Vb(n,n.A)),n.A++,0))}function Nm(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function c0(n){n.g=new nh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=za(n.oa);Mn(e,"RID","rpc"),Mn(e,"SID",n.J),Mn(e,"CI",n.N?"0":"1"),Mn(e,"AID",n.U),Wu(n,e),Mn(e,"TYPE","xmlhttp"),n.o&&n.s&&yc(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=bm(za(e)),t.s=null,t.U=!0,_b(t,n)}function ah(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function d0(n,e){var t=null;if(n.g==e){ah(n),Nm(n),n.g=null;var r=2}else{if(!Tm(n.i,e))return;t=e.D,gT(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Xr(r=gm(),new gb(r,t,e,i)),Rm(n)}else Lb(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function vT(n,e){return!(pT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=fc(Yr(n.Ha,n,e),Vb(n,n.C)),n.C++,0)))}(n,e)||2==r&&l0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:vc(n,5);break;case 4:vc(n,10);break;case 3:vc(n,6);break;default:vc(n,2)}}function Vb(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function vc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Yr(n.jb,n);t||(t=new ya("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||Wa(t,"https"),bm(t)),function mT(n,e){const t=new fm;if(Ot.Image){const r=new Image;r.onload=rm(ep,t,r,"TestLoadImage: loaded",!0,e),r.onerror=rm(ep,t,r,"TestLoadImage: error",!1,e),r.onabort=rm(ep,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=rm(ep,t,r,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else qi(2);n.G=0,n.j&&n.j.va(e),wT(n),xm(n)}function wT(n){n.G=0,n.I=-1,n.j&&((0!=r0(n.i).length||0!=n.l.length)&&(n.i.i.length=0,im(n.l),n.l.length=0),n.j.ua())}function Om(n,e,t){let r=function lT(n){return n instanceof ya?za(n):new ya(n,void 0)}(t);if(""!=r.i)e&&qu(r,e+"."+r.i),Em(r,r.m);else{const i=Ot.location;r=function cT(n,e,t,r){var i=new ya(null,void 0);return n&&Wa(i,n),e&&qu(i,e),t&&Em(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Ga(n.aa,function(i,u){Mn(r,u,i)}),t=n.sa,(e=n.D)&&t&&Mn(r,e,t),Mn(r,"VER",n.ma),Wu(n,r),r}function km(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mr(t&&n.Ba&&!n.qa?new tp({ib:!0}):n.qa)).L=n.H,e}function h0(){}function uh(){if(uc&&!(10<=Number(KI)))throw Error("Environmental error: no available transport.")}function zi(n,e){Nr.call(this),this.g=new Sm(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!qf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new lh(this)}function Bb(n){zv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Ub(){Wv.call(this),this.status=1}function lh(n){this.g=n}(ot=mr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kv.g(),this.C=function mb(n){return n.h||(n.h=n.i())}(this.u?this.u:Kv),this.g.onreadystatechange=Yr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void a0(this,u)}n=t||"";const i=new pc(this.headers);r&&e0(r,function(u,c){i.set(c,u)}),r=function JE(n){e:{var e=Nb;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Ot.FormData&&n instanceof Ot.FormData,!(0<=QE(xb,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,c){this.g.setRequestHeader(c,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{kb(this),0<this.B&&((this.K=function Rb(n){return uc&&function Kn(){return function Sv(n){var e=am;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Iv(String(om)).split("."),t=Iv("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=sm(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||sm(0==i[2].length,0==u[2].length)||sm(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yr(this.pa,this)):this.A=$v(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){a0(this,u)}},ot.pa=function(){void 0!==wv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xr(this,"timeout"),this.abort(8))},ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xr(this,"complete"),Xr(this,"abort"),ip(this))},ot.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ip(this,!0)),mr.Z.M.call(this)},ot.Fa=function(){this.s||(this.F||this.v||this.l?Ob(this):this.cb())},ot.cb=function(){Ob(this)},ot.ba=function(){try{return 2<Ka(this)?this.g.status:-1}catch(n){return-1}},ot.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ot.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),yT(e)}},ot.Da=function(){return this.m},ot.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ot=Sm.prototype).ma=8,ot.G=1,ot.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ot.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new nh(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=XE(u),ac(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=op(this,i,e),Mn(t=za(this.F),"RID",n),Mn(t,"CVER",22),this.D&&Mn(t,"X-HTTP-Session-Id",this.D),Wu(this,t),this.o&&u&&yc(t,this.o,u),n0(this.i,i),this.Ra&&Mn(t,"TYPE","init"),this.ja?(Mn(t,"$req",e),Mn(t,"SID","null"),i.$=!0,Qv(i,t,null)):Qv(i,t,e),this.G=2}}else 3==this.G&&(n?Fb(this,n):0==this.l.length||mc(this.i)||Fb(this))},ot.Ga=function(){if(this.u=null,c0(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=fc(Yr(this.bb,this),n)}},ot.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qi(10),Mm(this),c0(this))},ot.ab=function(){null!=this.v&&(this.v=null,Mm(this),l0(this),qi(19))},ot.jb=function(n){n?(this.h.info("Successfully pinged google.com"),qi(2)):(this.h.info("Failed to ping google.com"),qi(1))},(ot=h0.prototype).xa=function(){},ot.wa=function(){},ot.va=function(){},ot.ua=function(){},ot.Oa=function(){},uh.prototype.g=function(n,e){return new zi(n,e)},Qr(zi,Nr),zi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),dm(Yr(n.hb,n,e))),qi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Om(n,null,n.W),Rm(n)},zi.prototype.close=function(){oo(this.g)},zi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,_c(this.g,e)}else this.v?((e={}).__data__=Vv(n),_c(this.g,e)):_c(this.g,n)},zi.prototype.M=function(){this.g.j=null,delete this.j,oo(this.g),delete this.g,zi.Z.M.call(this)},Qr(Bb,zv),Qr(Ub,Wv),Qr(lh,h0),lh.prototype.xa=function(){Xr(this.g,"a")},lh.prototype.wa=function(n){Xr(this.g,new Bb(n))},lh.prototype.va=function(n){Xr(this.g,new Ub(n))},lh.prototype.ua=function(){Xr(this.g,"b")},uh.prototype.createWebChannel=uh.prototype.g,zi.prototype.send=zi.prototype.u,zi.prototype.open=zi.prototype.m,zi.prototype.close=zi.prototype.close,mm.NO_ERROR=0,mm.TIMEOUT=8,mm.HTTP_ERROR=6,Gv.COMPLETE="complete",yb.EventType=Kf,Kf.OPEN="a",Kf.CLOSE="b",Kf.ERROR="c",Kf.MESSAGE="d",Nr.prototype.listen=Nr.prototype.N,mr.prototype.listenOnce=mr.prototype.O,mr.prototype.getLastError=mr.prototype.La,mr.prototype.getLastErrorCode=mr.prototype.Da,mr.prototype.getStatus=mr.prototype.ba,mr.prototype.getResponseJson=mr.prototype.Qa,mr.prototype.getResponseText=mr.prototype.ga,mr.prototype.send=mr.prototype.ea;var ET=ma.createWebChannelTransport=function(){return new uh},jb=ma.getStatEventTarget=function(){return gm()},ap=ma.ErrorCode=mm,$b=ma.EventType=Gv,bT=ma.Event=hc,f0=ma.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Hb=ma.FetchXmlHttpFactory=tp,Pm=ma.WebChannel=yb,Gb=ma.XhrIo=mr;const p0="@firebase/firestore";class ei{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ei.UNAUTHENTICATED=new ei(null),ei.GOOGLE_CREDENTIALS=new ei("google-credentials-uid"),ei.FIRST_PARTY=new ei("first-party-uid"),ei.MOCK_USER=new ei("mock-user");let wc="9.6.11";const Za=new Ha.Yd("@firebase/firestore");function ti(){return Za.logLevel}function ke(n,...e){if(Za.logLevel<=Ha.in.DEBUG){const t=e.map(Ec);Za.debug(`Firestore (${wc}): ${n}`,...t)}}function yr(n,...e){if(Za.logLevel<=Ha.in.ERROR){const t=e.map(Ec);Za.error(`Firestore (${wc}): ${n}`,...t)}}function Fm(n,...e){if(Za.logLevel<=Ha.in.WARN){const t=e.map(Ec);Za.warn(`Firestore (${wc}): ${n}`,...t)}}function Ec(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${wc}) INTERNAL ASSERTION FAILED: `+n;throw yr(e),new Error(e)}function Tt(n,e){n||at()}function ze(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends qt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class g0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ei.UNAUTHENTICATED))}shutdown(){}}class Lm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class m0{constructor(e){this.t=e,this.currentUser=ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _r,e.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const b=c;e.enqueueRetryable((0,_e.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},y=b=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>y(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _r)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt("string"==typeof r.accessToken),new g0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new ei(e)}}class ax{constructor(e,t,r){this.type="FirstParty",this.user=ei.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class zb{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new ax(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kb{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.p;return this.p=u.token,ke("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?i(u):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.p=t.token,new Wb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class as{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function CT(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}as.A=-1;class Vm{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=CT(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Ft(n,e){return n<e?-1:n>e?1:0}function up(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Zb(n){return n+"\0"}class sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sr.fromMillis(Date.now())}static fromDate(e){return sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new sr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new sr(0,0))}static max(){return new Dt(new sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function _0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function v0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dh{constructor(e,t,r){void 0===t?t=0:t>e.length&&at(),void 0===r?r=e.length-t:r>e.length-t&&at(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===dh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends dh{construct(e,t,r){return new tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const IT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Or extends dh{construct(e,t,r){return new Or(e,t,r)}static isValidIdentifier(e){return IT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Or(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Re(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Re(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Re(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(u(),i++)}if(u(),c)throw new Re(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Or(t)}static emptyPath(){return new Or([])}}class hh{constructor(e){this.fields=e,e.sort(Or.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return up(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const Qb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ya(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=Qb.exec(n);if(Tt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zn(n.seconds),nanos:Zn(n.nanos)}}function Zn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Dc(n){return"string"==typeof n?vr.fromBase64String(n):vr.fromUint8Array(n)}function Jb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function w0(n){const e=n.mapValue.fields.__previous_value__;return Jb(e)?w0(e):e}function Bm(n){const e=Ya(n.mapValue.fields.__local_write_time__.timestampValue);return new sr(e.seconds,e.nanos)}class ux{constructor(e,t,r,i,u,c,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class Ku{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ku("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}function fh(n){return null==n}function Um(n){return 0===n&&1/n==-1/0}function TT(n){return"number"==typeof n&&Number.isInteger(n)&&!Um(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(tn.fromString(e))}static fromName(e){return new Ge(tn.fromString(e).popFirst(5))}static empty(){return new Ge(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new tn(e.slice()))}}const AT={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lp={nullValue:"NULL_VALUE"};function ph(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jb(n)?4:eD(n)?9:10:at()}function jo(n,e){if(n===e)return!0;const t=ph(n);if(t!==ph(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bm(n).isEqual(Bm(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=Ya(r.timestampValue),c=Ya(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Dc(n.bytesValue).isEqual(Dc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Zn(r.geoPointValue.latitude)===Zn(i.geoPointValue.latitude)&&Zn(r.geoPointValue.longitude)===Zn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Zn(r.integerValue)===Zn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Zn(r.doubleValue),c=Zn(i.doubleValue);return u===c?Um(u)===Um(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return up(n.arrayValue.values||[],e.arrayValue.values||[],jo);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(_0(u)!==_0(c))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===c[p]||!jo(u[p],c[p])))return!1;return!0}(n,e);default:return at()}var i}function Cc(n,e){return void 0!==(n.values||[]).find(t=>jo(t,e))}function Qa(n,e){if(n===e)return 0;const t=ph(n),r=ph(e);if(t!==r)return Ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=Zn(i.integerValue||i.doubleValue),p=Zn(u.integerValue||u.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return E0(n.timestampValue,e.timestampValue);case 4:return E0(Bm(n),Bm(e));case 5:return Ft(n.stringValue,e.stringValue);case 6:return function(i,u){const c=Dc(i),p=Dc(u);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),p=u.split("/");for(let y=0;y<c.length&&y<p.length;y++){const b=Ft(c[y],p[y]);if(0!==b)return b}return Ft(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=Ft(Zn(i.latitude),Zn(u.latitude));return 0!==c?c:Ft(Zn(i.longitude),Zn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],p=u.values||[];for(let y=0;y<c.length&&y<p.length;++y){const b=Qa(c[y],p[y]);if(b)return b}return Ft(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){const c=i.fields||{},p=Object.keys(c),y=u.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let S=0;S<p.length&&S<b.length;++S){const M=Ft(p[S],b[S]);if(0!==M)return M;const F=Qa(c[p[S]],y[b[S]]);if(0!==F)return F}return Ft(p.length,b.length)}(n.mapValue,e.mapValue);default:throw at()}}function E0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ft(n,e);const t=Ya(n),r=Ya(e),i=Ft(t.seconds,r.seconds);return 0!==i?i:Ft(t.nanos,r.nanos)}function cp(n){return dp(n)}function dp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ya(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Dc(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=dp(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const p of i)c?c=!1:u+=",",u+=`${p}:${dp(r.fields[p])}`;return u+"}"}(n.mapValue):at();var e}function Zu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function b0(n){return!!n&&"integerValue"in n}function gh(n){return!!n&&"arrayValue"in n}function ST(n){return!!n&&"nullValue"in n}function Xb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jm(n){return!!n&&"mapValue"in n}function Ic(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ic(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ic(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function lx(n){return"nullValue"in n?lp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Zu(Ku.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function cx(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Zu(Ku.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?AT:at()}function MT(n,e){return void 0===n?e:void 0===e||Qa(n,e)>0?n:e}function tD(n,e){return void 0===n?e:void 0===e||Qa(n,e)<0?n:e}class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(t)}setAll(e){let t=Or.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=Ic(c):i.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());jm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){bc(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Ii(Ic(this.value))}}function nD(n){const e=[];return bc(n.fields,(t,r)=>{const i=new Or([t]);if(jm(r)){const u=nD(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new hh(e)}class Pn{constructor(e,t,r,i,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Pn(e,0,Dt.min(),Dt.min(),Ii.empty(),0)}static newFoundDocument(e,t,r){return new Pn(e,1,t,Dt.min(),r,0)}static newNoDocument(e,t){return new Pn(e,2,t,Dt.min(),Ii.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,Dt.min(),Ii.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $m{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function hp(n){return n.fields.find(e=>2===e.kind)}function Tc(n){return n.fields.filter(e=>2!==e.kind)}$m.UNKNOWN_ID=-1;class us{constructor(e,t){this.fieldPath=e,this.kind=t}}class fp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new fp(0,Ja.min())}}function Hm(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Dt.fromTimestamp(1e9===r?new sr(t+1,0):new sr(t,r));return new Ja(i,Ge.empty(),e)}function xT(n){return new Ja(n.readTime,n.key,-1)}class Ja{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ja(Dt.min(),Ge.empty(),-1)}static max(){return new Ja(Dt.max(),Ge.empty(),-1)}}function D0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:Ft(n.largestBatchId,e.largestBatchId))}class rD{constructor(e,t=null,r=[],i=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=p,this.P=null}}function C0(n,e=null,t=[],r=[],i=null,u=null,c=null){return new rD(n,e,t,r,i,u,c)}function Ac(n){const e=ze(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+cp(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),fh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cp(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cp(r)).join(",")),e.P=t}return e.P}function pp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!I0(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!jo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uD(n.startAt,e.startAt)&&uD(n.endAt,e.endAt)}function Gm(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function qm(n,e){return n.filters.filter(t=>t instanceof jr&&t.field.isEqual(e))}function zm(n,e,t){let r,i=!0;for(const u of qm(n,e)){let c,p=!0;switch(u.op){case"<":case"<=":c=lx(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,p=!1;break;case"!=":case"not-in":c=lp}MT(r,c)===c&&(r=c,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];MT(r,c)===c&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function Yu(n,e,t){let r,i=!0;for(const u of qm(n,e)){let c,p=!0;switch(u.op){case">=":case">":c=cx(u.value),p=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,p=!1;break;case"!=":case"not-in":c=AT}tD(r,c)===c&&(r=c,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];tD(r,c)===c&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class jr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new sD(e,t,r):"array-contains"===t?new NT(e,r):"in"===t?new OT(e,r):"not-in"===t?new aD(e,r):"array-contains-any"===t?new kT(e,r):new jr(e,t,r)}static V(e,t,r){return"in"===t?new RT(e,r):new dx(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Qa(t,this.value)):null!==t&&ph(this.value)===ph(t)&&this.v(Qa(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sD extends jr{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.v(t)}}class RT extends jr{constructor(e,t){super(e,"in",t),this.keys=oD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dx extends jr{constructor(e,t){super(e,"not-in",t),this.keys=oD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class NT extends jr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gh(t)&&Cc(t.arrayValue,this.value)}}class OT extends jr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cc(this.value.arrayValue,t)}}class aD extends jr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Cc(this.value.arrayValue,t)}}class kT extends jr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Cc(this.value.arrayValue,r))}}class Qu{constructor(e,t){this.position=e,this.inclusive=t}}class gp{constructor(e,t="asc"){this.field=e,this.dir=t}}function I0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function T0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?Ge.comparator(Ge.fromName(c.referenceValue),t.key):Qa(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function uD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!jo(n.position[t],e.position[t]))return!1;return!0}class Xa{constructor(e,t=null,r=[],i=[],u=null,c="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=y,this.D=null,this.C=null}}function A0(n,e,t,r,i,u,c,p){return new Xa(n,e,t,r,i,u,c,p)}function Ju(n){return new Xa(n)}function mh(n){return!fh(n.limit)&&"F"===n.limitType}function mp(n){return!fh(n.limit)&&"L"===n.limitType}function S0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Wm(n){for(const e of n.filters)if(e.S())return e.field;return null}function Km(n){return null!==n.collectionGroup}function yh(n){const e=ze(n);if(null===e.D){e.D=[];const t=Wm(e),r=S0(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new gp(t)),e.D.push(new gp(Or.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new gp(Or.keyField(),u))}}}return e.D}function ao(n){const e=ze(n);if(!e.C)if("F"===e.limitType)e.C=C0(e.path,e.collectionGroup,yh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of yh(e))t.push(new gp(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Qu(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Qu(e.startAt.position,!e.startAt.inclusive):null;e.C=C0(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function PT(n,e,t){return new Xa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zm(n,e){return pp(ao(n),ao(e))&&n.limitType===e.limitType}function M0(n){return`${Ac(ao(n))}|lt:${n.limitType}`}function x0(n){return`Query(target=${function iD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${cp(r.value)}`;var r}).join(", ")}]`),fh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>cp(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>cp(t)).join(",")),`Target(${e})`}(ao(n))}; limitType=${n.limitType})`}function R0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const p=T0(i,u,c);return i.inclusive?p<=0:p<0}(t.startAt,yh(t),r)||t.endAt&&!function(i,u,c){const p=T0(i,u,c);return i.inclusive?p>=0:p>0}(t.endAt,yh(t),r)));var t,r}function lD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function FT(n){return(e,t)=>{let r=!1;for(const i of yh(n)){const u=hx(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function hx(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,u,c){const p=u.data.field(i),y=c.data.field(i);return null!==p&&null!==y?Qa(p,y):at()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}function LT(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Um(e)?"-0":e}}function VT(n){return{integerValue:""+n}}function BT(n,e){return TT(e)?VT(e):LT(n,e)}class Ym{constructor(){this._=void 0}}function Qm(n,e,t){return n instanceof Sc?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof As?N0(n,e):n instanceof eu?Jm(n,e):function(r,i){const u=cD(r,i),c=Xm(u)+Xm(r.k);return b0(u)&&b0(r.k)?VT(c):LT(r.M,c)}(n,e)}function UT(n,e,t){return n instanceof As?N0(n,e):n instanceof eu?Jm(n,e):t}function cD(n,e){return n instanceof _h?b0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Sc extends Ym{}class As extends Ym{constructor(e){super(),this.elements=e}}function N0(n,e){const t=ey(e);for(const r of n.elements)t.some(i=>jo(i,r))||t.push(r);return{arrayValue:{values:t}}}class eu extends Ym{constructor(e){super(),this.elements=e}}function Jm(n,e){let t=ey(e);for(const r of n.elements)t=t.filter(i=>!jo(i,r));return{arrayValue:{values:t}}}class _h extends Ym{constructor(e,t){super(),this.M=e,this.k=t}}function Xm(n){return Zn(n.integerValue||n.doubleValue)}function ey(n){return gh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Xu{constructor(e,t){this.field=e,this.transform=t}}class px{constructor(e,t){this.version=e,this.transformResults=t}}class kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function O0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class yp{}function jT(n,e,t){n instanceof vh?function(r,i,u){const c=r.value.clone(),p=fD(r.fieldTransforms,i,u.transformResults);c.setAll(p),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof el?function(r,i,u){if(!O0(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=fD(r.fieldTransforms,i,u.transformResults),p=i.data;p.setAll(hD(r)),p.setAll(c),i.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function k0(n,e,t){var i;n instanceof vh?function(r,i,u){if(!O0(r.precondition,i))return;const c=r.value.clone(),p=F0(r.fieldTransforms,u,i);c.setAll(p),i.convertToFoundDocument(P0(i),c).setHasLocalMutations()}(n,e,t):n instanceof el?function(r,i,u){if(!O0(r.precondition,i))return;const c=F0(r.fieldTransforms,u,i),p=i.data;p.setAll(hD(r)),p.setAll(c),i.convertToFoundDocument(P0(i),p).setHasLocalMutations()}(n,e,t):O0(n.precondition,i=e)&&i.convertToNoDocument(Dt.min())}function $T(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=cD(r.transform,i||null);null!=u&&(null==t&&(t=Ii.empty()),t.set(r.field,u))}return t||null}function dD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&up(t,r,(i,u)=>function fx(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof As&&r instanceof As||t instanceof eu&&r instanceof eu?up(t.elements,r.elements,jo):t instanceof _h&&r instanceof _h?jo(t.k,r.k):t instanceof Sc&&r instanceof Sc);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function P0(n){return n.isFoundDocument()?n.version:Dt.min()}class vh extends yp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class el extends yp{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}}function hD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function fD(n,e,t){const r=new Map;Tt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,p=e.data.field(u.field);r.set(u.field,UT(c,p,t[i]))}return r}function F0(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,Qm(u,c,e))}return r}class Mc extends yp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class pD extends yp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class gD{constructor(e){this.count=e}}var Yn,nn;function mD(n){switch(n){default:return at();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function HT(n){if(void 0===n)return yr("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Yn.OK:return ue.OK;case Yn.CANCELLED:return ue.CANCELLED;case Yn.UNKNOWN:return ue.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return ue.INTERNAL;case Yn.UNAVAILABLE:return ue.UNAVAILABLE;case Yn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Yn.NOT_FOUND:return ue.NOT_FOUND;case Yn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Yn.ABORTED:return ue.ABORTED;case Yn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Yn.DATA_LOSS:return ue.DATA_LOSS;default:return at()}}(nn=Yn||(Yn={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";class xc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bc(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return v0(this.inner)}size(){return this.innerSize}}class or{constructor(e,t){this.comparator=e,this.root=t||Ti.EMPTY}insert(e,t){return new or(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(e){return new or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ty(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ty(this.root,e,this.comparator,!1)}getReverseIterator(){return new ty(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ty(this.root,e,this.comparator,!0)}}class ty{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ti{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=null!=r?r:Ti.RED,this.left=null!=i?i:Ti.EMPTY,this.right=null!=u?u:Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Ti(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ti.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1,Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ti(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(e){this.comparator=e,this.data=new or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GT(this.data.getIterator())}getIteratorFrom(e){return new GT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fn(this.comparator);return t.data=e,t}}class GT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _p(n){return n.hasNext()?n.getNext():void 0}const gx=new or(Ge.comparator);function uo(){return gx}const mx=new or(Ge.comparator);function yD(){return mx}function ny(){return new xc(n=>n.toString(),(n,e)=>n.isEqual(e))}const yx=new or(Ge.comparator),s=new Fn(Ge.comparator);function o(...n){let e=s;for(const t of n)e=e.add(t);return e}const a=new Fn(Ft);function l(){return a}class d{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,g.createSynthesizedTargetChangeForCurrentChange(e,t)),new d(Dt.min(),r,l(),uo(),o())}}class g{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new g(vr.EMPTY_BYTE_STRING,t,o(),o(),o())}}class v{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class E{constructor(e,t){this.targetId=e,this.$=t}}class D{constructor(e,t,r=vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class A{constructor(){this.B=0,this.L=U(),this.U=vr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=o(),t=o(),r=o();return this.L.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:at()}}),new g(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=U()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class x{constructor(e){this.nt=e,this.st=new Map,this.it=uo(),this.rt=P(),this.ot=new Fn(Ft)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const u=i.target;if(Gm(u))if(0===r){const c=new Ge(u.path);this.ct(t,c,Pn.newNoDocument(c,Dt.min()))}else Tt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,c)=>{const p=this.wt(c);if(p){if(u.current&&Gm(p.target)){const y=new Ge(p.target.path);null!==this.it.get(y)||this.It(c,y)||this.ct(c,y,Pn.newNoDocument(y,e))}u.j&&(t.set(c,u.H()),u.J())}});let r=o();this.rt.forEach((u,c)=>{let p=!0;c.forEachWhile(y=>{const b=this.wt(y);return!b||2===b.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.it.forEach((u,c)=>c.setReadTime(e));const i=new d(e,t,this.ot,this.it,r);return this.it=uo(),this.rt=P(),this.ot=new Fn(Ft),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new A,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Fn(Ft),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new A),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function P(){return new or(Ge.comparator)}function U(){return new or(Ge.comparator)}const K={asc:"ASCENDING",desc:"DESCENDING"},me={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Pe{constructor(e,t){this.databaseId=e,this.N=t}}function Ve(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function st(n,e){return n.N?e.toBase64():e.toUint8Array()}function Ce(n,e){return Ve(n,e.toTimestamp())}function Je(n){return Tt(!!n),Dt.fromTimestamp(function(e){const t=Ya(e);return new sr(t.seconds,t.nanos)}(n))}function zt(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function dn(n){const e=tn.fromString(n);return Tt(bx(e)),e}function ni(n,e){return zt(n.databaseId,e.path)}function Ai(n,e){const t=dn(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(iy(t))}function vp(n,e){return zt(n.databaseId,e)}function ry(n){const e=dn(n);return 4===e.length?tn.emptyPath():iy(e)}function Rc(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iy(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sy(n,e,t){return{name:ni(n,e),fields:t.value.mapValue.fields}}function oy(n,e,t){const r=Ai(n,e.name),i=Je(e.updateTime),u=new Ii({mapValue:{fields:e.fields}}),c=Pn.newFoundDocument(r,i,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Nc(n,e){let t;if(e instanceof vh)t={update:sy(n,e.key,e.value)};else if(e instanceof Mc)t={delete:ni(n,e.key)};else if(e instanceof el)t={update:sy(n,e.key,e.data),updateMask:_k(e.fieldMask)};else{if(!(e instanceof pD))return at();t={verify:ni(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof Sc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof As)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof eu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _h)return{fieldPath:u.field.canonicalString(),increment:c.k};throw at()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Ce(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:at()),t;var i}function qT(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?kr.updateTime(Je(i.updateTime)):void 0!==i.exists?kr.exists(i.exists):kr.none():kr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let p=null;"setToServerValue"in c?(Tt("REQUEST_TIME"===c.setToServerValue),p=new Sc):"appendMissingElements"in c?p=new As(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new eu(c.removeAllFromArray.values||[]):"increment"in c?p=new _h(u,c.increment):at();const y=Or.fromServerFormat(c.fieldPath);return new Xu(y,p)}(n,i)):[];var i;if(e.update){const i=Ai(n,e.update.name),u=new Ii({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new hh((e.updateMask.fieldPaths||[]).map(b=>Or.fromServerFormat(b)));return new el(i,u,c,t,r)}return new vh(i,u,t,r)}if(e.delete){const i=Ai(n,e.delete);return new Mc(i,t)}if(e.verify){const i=Ai(n,e.verify);return new pD(i,t)}return at()}function _x(n,e){return{documents:[vp(n,e.path)]}}function vx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=vp(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vp(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const b=y.map(S=>function(M){if("=="===M.op){if(Xb(M.value))return{unaryFilter:{field:ay(M.field),op:"IS_NAN"}};if(ST(M.value))return{unaryFilter:{field:ay(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(Xb(M.value))return{unaryFilter:{field:ay(M.field),op:"IS_NOT_NAN"}};if(ST(M.value))return{unaryFilter:{field:ay(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ay(M.field),op:gk(M.op),value:M.value}}}(S));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(b=>{return{field:ay((S=b).field),direction:pk(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(b=e.limit,n.N||fh(b)?b:{value:b});var b,p,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function wx(n){let e=ry(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Tt(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=Ex(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new gp(uy((M=S).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(S){let M;return M="object"==typeof S?S.value:S,fh(M)?null:M}(t.limit));let y=null;var S;t.startAt&&(y=new Qu((S=t.startAt).values||[],!!S.before));let b=null;return t.endAt&&(b=function(S){return new Qu(S.values||[],!S.before)}(t.endAt)),A0(e,i,c,u,p,"F",y,b)}function Ex(n){return n?void 0!==n.unaryFilter?[yk(n)]:void 0!==n.fieldFilter?[mk(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Ex(e)).reduce((e,t)=>e.concat(t)):at():[]}function pk(n){return K[n]}function gk(n){return me[n]}function ay(n){return{fieldPath:n.canonicalString()}}function uy(n){return Or.fromServerFormat(n.fieldPath)}function mk(n){return jr.create(uy(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}function yk(n){switch(n.unaryFilter.op){case"IS_NAN":const e=uy(n.unaryFilter.field);return jr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=uy(n.unaryFilter.field);return jr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=uy(n.unaryFilter.field);return jr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=uy(n.unaryFilter.field);return jr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return at()}}function _k(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bx(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ss(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Dx(e)),e=vk(n.get(t),e);return Dx(e)}function vk(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Dx(n){return n+"\x01\x01"}function tl(n){const e=n.length;if(Tt(e>=2),2===e)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&at(),n.charAt(c+1)){case"\x01":const p=n.substring(u,c);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(u,c),i+="\0";break;case"\x11":i+=n.substring(u,c+1);break;default:at()}u=c+2}return new tn(r)}const Cx=["userId","batchId"];function _D(n,e){return[n,Ss(e)]}function Ix(n,e,t){return[n,Ss(e),t]}const wk={},Ek=["prefixPath","collectionGroup","readTime","documentId"],bk=["prefixPath","collectionGroup","documentId"],Dk=["collectionGroup","readTime","prefixPath","documentId"],Ck=["canonicalId","targetId"],Ik=["targetId","path"],Tk=["path","targetId"],Ak=["collectionId","parent"],Sk=["indexId","uid"],Mk=["uid","sequenceNumber"],xk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Rk=["indexId","uid","orderedDocumentKey"],Nk=["userId","collectionPath","documentId"],Ok=["userId","collectionPath","largestBatchId"],kk=["userId","collectionGroup","largestBatchId"],Tx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pk=[...Tx,"documentOverlays"],Ax=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fk=[...Ax,"indexConfiguration","indexState","indexEntries"],Sx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let i=0,u=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++u,c&&u===i&&t()},y=>r(y))}),c=!0,u===i&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(i=>i?fe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}}class vD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new _r,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new B0(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=zT(r.target.error);this.At.reject(new B0(e,i))}}static open(e,t,r,i){try{return new vD(t,e.transaction(i,r))}catch(u){throw new B0(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Vk(t)}}class tu{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===tu.Vt((0,qt.z$)())&&yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),Ep(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,qt.hl)())return!1;if(tu.St())return!0;const e=(0,qt.z$)(),t=tu.Vt(e),r=0<t&&t<10,i=tu.Dt(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,_e.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{i(new B0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new Re(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Re(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new B0(e,p))},u.onupgradeneeded=c=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.bt.kt(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,_e.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{u.db=yield u.Nt(e);const y=vD.open(u.db,e,c?"readonly":"readwrite",r),b=i(y).next(S=>(y.Pt(),S)).catch(S=>(y.abort(S),fe.reject(S))).toPromise();return b.catch(()=>{}),yield y.Rt,b}catch(y){const b="FirebaseError"!==y.name&&p<3;if(ke("SimpleDb","Transaction failed with error:",y.message,"Retrying:",b),u.close(),!b)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Lk{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Ep(this.Ft.delete())}}class B0 extends Re{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wp(n){return"IndexedDbTransactionError"===n.name}class Vk{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ep(r)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),Ep(this.store.add(e))}get(e){return Ep(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),Ep(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),Ep(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.Kt(i,(c,p)=>{u.push(p)}).next(()=>u)}{const i=this.store.getAll(r.range);return new fe((u,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{u(p.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new fe((i,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(u,c,p)=>p.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new fe((r,i)=>{t.onerror=u=>{const c=zT(u.target.error);i(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}Kt(e,t){const r=[];return new fe((i,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const y=new Lk(p),b=t(p.primaryKey,p.value,y);if(b instanceof fe){const S=b.catch(M=>(y.done(),fe.reject(M)));r.push(S)}y.isDone?i():null===y.Lt?p.continue():p.continue(y.Lt)}}).next(()=>fe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ep(n){return new fe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=zT(r.target.error);t(i)}})}let xx=!1;function zT(n){const e=tu.Vt((0,qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xx||(xx=!0,setTimeout(()=>{throw r},0)),r}}return n}class Rx extends Mx{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Si(n,e){const t=ze(n);return tu.xt(t.Ht,e)}class WT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&jT(u,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&k0(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&k0(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Dt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),o())}isEqual(e){return this.batchId===e.batchId&&up(this.mutations,e.mutations,(t,r)=>dD(t,r))&&up(this.baseMutations,e.baseMutations,(t,r)=>dD(t,r))}}class KT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Tt(e.mutations.length===r.length);let i=yx;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new KT(e,t,r,i)}}class ZT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wh{constructor(e,t,r,i,u=Dt.min(),c=Dt.min(),p=vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new wh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Nx{constructor(e){this.Jt=e}}function Ox(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:wD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:ni(i=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Ve(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:bp(e.version)};else{if(!e.isUnknownDocument())return at();r.unknownDocument={path:t.path.toArray(),version:bp(e.version)}}var i,u;return r}function wD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function bp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Dp(n){const e=new sr(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function ly(n,e){const t=(e.baseMutations||[]).map(u=>qT(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>qT(n.Jt,u)),i=sr.fromMillis(e.localWriteTimeMs);return new WT(e.batchId,i,t,r)}function U0(n){const e=Dp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Dp(n.lastLimboFreeSnapshotVersion):Dt.min();let r;var i;return void 0!==n.query.documents?(Tt(1===(i=n.query).documents.length),r=ao(Ju(ry(i.documents[0])))):r=ao(wx(n.query)),new wh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,vr.fromBase64String(n.resumeToken))}function kx(n,e){const t=bp(e.snapshotVersion),r=bp(e.lastLimboFreeSnapshotVersion);let i;i=Gm(e.target)?_x(n.Jt,e.target):vx(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ac(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function YT(n){const e=wx({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?PT(e,e.limit,"L"):e}function QT(n,e){return new ZT(e.largestBatchId,qT(n.Jt,e.overlayMutation))}function Px(n,e){const t=e.path.lastSegment();return[n,Ss(e.path.popLast()),t]}class Uk{getBundleMetadata(e,t){return Fx(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Dp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Fx(e).put({bundleId:(r=t).id,createTime:bp(Je(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Lx(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:YT(i.bundledQuery),readTime:Dp(i.readTime)};var i})}saveNamedQuery(e,t){return Lx(e).put({name:(r=t).name,readTime:bp(Je(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Fx(n){return Si(n,"bundles")}function Lx(n){return Si(n,"namedQueries")}class JT{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new JT(e,t.uid||"")}getOverlay(e,t){return j0(e).get(Px(this.userId,t)).next(r=>r?QT(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((u,c)=>{const p=new ZT(t,c);i.push(this.Xt(e,p))}),fe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Ss(c.getCollectionPath())));const u=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(j0(e).Qt("collectionPathOverlayIndex",p))}),fe.waitFor(u)}getOverlaysForCollection(e,t,r){const i=ny(),u=Ss(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return j0(e).qt("collectionPathOverlayIndex",c).next(p=>{for(const y of p){const b=QT(this.M,y);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=ny();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return j0(e).Wt({index:"collectionGroupOverlayIndex",range:p},(y,b,S)=>{const M=QT(this.M,b);u.size()<i||M.largestBatchId===c?(u.set(M.getKey(),M),c=M.largestBatchId):S.done()}).next(()=>u)}Xt(e,t){return j0(e).put(function(r,i,u){const[c,p,y]=Px(i,u.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Nc(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function j0(n){return Si(n,"documentOverlays")}class Cp{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Zn(e.integerValue));else if("doubleValue"in e){const r=Zn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Um(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Dc(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?eD(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):at()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ge.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function jk(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Vx(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=jk(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Cp.fe=new Cp;class $k{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=Vx(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=Vx(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Hk{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Gk{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class $0{constructor(){this.De=new $k,this.Ce=new Hk(this.De),this.xe=new Gk(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Eh{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Eh(this.indexId,this.documentKey,this.arrayValue,r)}}function Ip(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Bx(n.arrayValue,e.arrayValue),0!==t?t:(t=Bx(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function Bx(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class qk{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=hp(e);if(void 0!==t&&!this.Be(t))return!1;const r=Tc(e);let i=0,u=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[u++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(u>=this.Me.length||!this.Ue(this.Me[u++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class zk{constructor(){this.qe=new XT}addToCollectionParentIndex(e,t){return this.qe.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getFieldIndex(e,t){return fe.resolve(null)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class XT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Fn(tn.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fn(tn.comparator)).toArray()}}const cy=new Uint8Array(0);class Wk{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new XT,this.Ge=new xc(r=>Ac(r),(r,i)=>pp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:Ss(i)};return Ux(e).put(u)}return fe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Zb(t),""],!1,!0);return Ux(e).qt(i).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(tl(c.parent))}return r})}addFieldIndex(e,t){const r=ED(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var u;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=ED(e),i=bD(e),u=H0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=H0(e);let i=!0;const u=new Map;return fe.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(p=>{i&&(i=!!p),u.set(c,p)})).next(()=>{if(i){let c=o();const p=[];return fe.forEach(u,(y,b)=>{var S;ke("IndexedDbIndexManager",`Using index ${S=y,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(je=>`${je.fieldPath}:${je.kind}`).join(",")}`} to execute ${Ac(t)}`);const M=function(je,et){const _t=hp(et);if(void 0===_t)return null;for(const Ct of qm(je,_t.fieldPath))switch(Ct.op){case"array-contains-any":return Ct.value.arrayValue.values||[];case"array-contains":return[Ct.value]}return null}(b,y),F=function(je,et){const _t=new Map;for(const Ct of Tc(et))for(const $t of qm(je,Ct.fieldPath))switch($t.op){case"==":case"in":_t.set(Ct.fieldPath.canonicalString(),$t.value);break;case"not-in":case"!=":return _t.set(Ct.fieldPath.canonicalString(),$t.value),Array.from(_t.values())}return null}(b,y),B=function(je,et){const _t=[];let Ct=!0;for(const $t of Tc(et)){const Jn=0===$t.kind?zm(je,$t.fieldPath,je.startAt):Yu(je,$t.fieldPath,je.startAt);if(!Jn.value)return null;_t.push(Jn.value),Ct&&(Ct=Jn.inclusive)}return new Qu(_t,Ct)}(b,y),G=function(je,et){const _t=[];let Ct=!0;for(const $t of Tc(et)){const Jn=0===$t.kind?Yu(je,$t.fieldPath,je.endAt):zm(je,$t.fieldPath,je.endAt);if(!Jn.value)return null;_t.push(Jn.value),Ct&&(Ct=Jn.inclusive)}return new Qu(_t,Ct)}(b,y),te=this.je(y,b,B),we=this.je(y,b,G),Ze=this.We(y,b,F),Ye=this.ze(y.indexId,M,te,!!B&&B.inclusive,we,!!G&&G.inclusive,Ze);return fe.forEach(Ye,je=>r.Gt(je,t.limit).next(et=>{et.forEach(_t=>{const Ct=Ge.fromSegments(_t.documentKey);c.has(Ct)||(c=c.add(Ct),p.push(Ct))})}))}).next(()=>p)}return fe.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,i,u,c,p){const y=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),b=y/(null!=t?t.length:1),S=[];for(let M=0;M<y;++M){const F=t?this.He(t[M/b]):cy,B=r?this.Je(e,F,r[M%b],i):this.Ye(e),G=u?this.Xe(e,F,u[M%b],c):this.Ye(e+1);S.push(...this.createRange(B,G,p.map(te=>this.Je(e,F,te,!0))))}return S}Je(e,t,r,i){const u=new Eh(e,Ge.empty(),t,r);return i?u:u.ke()}Xe(e,t,r,i){const u=new Eh(e,Ge.empty(),t,r);return i?u.ke():u}Ye(e){return new Eh(e,Ge.empty(),cy,cy)}getFieldIndex(e,t){const r=new qk(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{const c=u.filter(p=>r.$e(p));return c.sort((p,y)=>y.fields.length-p.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new $0;for(const i of Tc(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const c=r.Ne(i.kind);Cp.fe.Zt(u,c)}return r.Se()}He(e){const t=new $0;return Cp.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new $0;return Cp.fe.Zt(Zu(this.databaseId,t),r.Ne(function(i){const u=Tc(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new $0);let u=0;for(const c of Tc(e)){const p=r[u++];for(const y of i)if(this.en(t,c.fieldPath)&&gh(p))i=this.nn(i,c,p);else{const b=y.Ne(c.kind);Cp.fe.Zt(p,b)}}return this.sn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],u=[];for(const c of r.arrayValue.values||[])for(const p of i){const y=new $0;y.seed(p.Se()),Cp.fe.Zt(c,y.Ne(t.kind)),u.push(y)}return u}en(e,t){return!!e.filters.find(r=>r instanceof jr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=ED(e),i=bD(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const c=[];return fe.forEach(u,p=>i.get([p.indexId,this.uid]).next(y=>{c.push(function(b,S){const M=S?new fp(S.sequenceNumber,new Ja(Dp(S.readTime),new Ge(tl(S.documentKey)),S.largestBatchId)):fp.empty(),F=b.fields.map(([B,G])=>new us(Or.fromServerFormat(B),G));return new $m(b.indexId,b.collectionGroup,F,M)}(p,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Ft(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=ED(e),u=bD(e);return this.rn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>fe.forEach(p,y=>{return u.put({indexId:y.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:bp((F=r).readTime),documentKey:Ss(F.documentKey.path),largestBatchId:F.largestBatchId});var F})))}updateIndexEntries(e,t){const r=new Map;return fe.forEach(t,(i,u)=>{const c=r.get(i.collectionGroup);return(c?fe.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),fe.forEach(p,y=>this.on(e,i,y).next(b=>{const S=this.un(u,y);return b.isEqual(S)?fe.resolve():this.an(e,u,y,b,S)}))))})}cn(e,t,r,i){return H0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return H0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=H0(e);let u=new Fn(Ip);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(c,p)=>{u=u.add(new Eh(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}un(e,t){let r=new Fn(Ip);const i=this.Ze(t,e);if(null==i)return r;const u=hp(t);if(null!=u){const c=e.data.field(u.fieldPath);if(gh(c))for(const p of c.arrayValue.values||[])r=r.add(new Eh(t.indexId,e.key,this.He(p),i))}else r=r.add(new Eh(t.indexId,e.key,cy,i));return r}an(e,t,r,i,u){ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,y,b,S,M){const F=p.getIterator(),B=y.getIterator();let G=_p(F),te=_p(B);for(;G||te;){let we=!1,Ze=!1;if(G&&te){const Ye=b(G,te);Ye<0?Ze=!0:Ye>0&&(we=!0)}else null!=G?Ze=!0:we=!0;we?(S(te),te=_p(B)):Ze?(M(G),G=_p(F)):(G=_p(F),te=_p(B))}}(i,u,Ip,p=>{c.push(this.cn(e,t,r,p))},p=>{c.push(this.hn(e,t,r,p))}),fe.waitFor(c)}rn(e){let t=1;return bD(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>Ip(c,p)).filter((c,p,y)=>!p||0!==Ip(c,y[p-1]));const i=[];i.push(e);for(const c of r){const p=Ip(c,e),y=Ip(c,t);if(0===p)i[0]=e.ke();else if(p>0&&y<0)i.push(c),i.push(c.ke());else if(y>0)break}i.push(t);const u=[];for(let c=0;c<i.length;c+=2)u.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,cy,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,cy,[]]));return u}}function Ux(n){return Si(n,"collectionParents")}function H0(n){return Si(n,"indexEntries")}function ED(n){return Si(n,"indexConfiguration")}function bD(n){return Si(n,"indexState")}const jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new lo(e,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $x(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let p=0;const y=r.Wt({range:c},(S,M,F)=>(p++,F.delete()));u.push(y.next(()=>{Tt(1===p)}));const b=[];for(const S of t.mutations){const M=Ix(e,S.key.path,t.batchId);u.push(i.delete(M)),b.push(S.key)}return fe.waitFor(u).next(()=>b)}function DD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}lo.DEFAULT_COLLECTION_PERCENTILE=10,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lo.DEFAULT=new lo(41943040,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lo.DISABLED=new lo(-1,0,0);class eA{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Tt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new eA(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bh(e).Wt({index:"userMutationsIndex",range:r},(i,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=dy(e),c=bh(e);return c.add({}).next(p=>{Tt("number"==typeof p);const y=new WT(p,t,r,i),b=function(F,B,G){const te=G.baseMutations.map(Ze=>Nc(F.Jt,Ze)),we=G.mutations.map(Ze=>Nc(F.Jt,Ze));return{userId:B,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:te,mutations:we}}(this.M,this.userId,y),S=[];let M=new Fn((F,B)=>Ft(F.canonicalString(),B.canonicalString()));for(const F of i){const B=Ix(this.userId,F.key.path,p);M=M.add(F.key.path.popLast()),S.push(c.put(b)),S.push(u.put(B,wk))}return M.forEach(F=>{S.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.ln[p]=y.keys()}),fe.waitFor(S).next(()=>y)})}lookupMutationBatch(e,t){return bh(e).get(t).next(r=>r?(Tt(r.userId===this.userId),ly(this.M,r)):null)}fn(e,t){return this.ln[t]?fe.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return bh(e).Wt({index:"userMutationsIndex",range:i},(c,p,y)=>{p.userId===this.userId&&(Tt(p.batchId>=r),u=ly(this.M,p)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return bh(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bh(e).qt("userMutationsIndex",t).next(r=>r.map(i=>ly(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=_D(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return dy(e).Wt({range:i},(c,p,y)=>{const[b,S,M]=c,F=tl(S);if(b===this.userId&&t.path.isEqual(F))return bh(e).get(M).next(B=>{if(!B)throw at();Tt(B.userId===this.userId),u.push(ly(this.M,B))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(Ft);const i=[];return t.forEach(u=>{const c=_D(this.userId,u.path),p=IDBKeyRange.lowerBound(c),y=dy(e).Wt({range:p},(b,S,M)=>{const[F,B,G]=b,te=tl(B);F===this.userId&&u.path.isEqual(te)?r=r.add(G):M.done()});i.push(y)}),fe.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=_D(this.userId,r),c=IDBKeyRange.lowerBound(u);let p=new Fn(Ft);return dy(e).Wt({range:c},(y,b,S)=>{const[M,F,B]=y,G=tl(F);M===this.userId&&r.isPrefixOf(G)?G.length===i&&(p=p.add(B)):S.done()}).next(()=>this.dn(e,p))}dn(e,t){const r=[],i=[];return t.forEach(u=>{i.push(bh(e).get(u).next(c=>{if(null===c)throw at();Tt(c.userId===this.userId),r.push(ly(this.M,c))}))}),fe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return $x(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),fe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return fe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return dy(e).Wt({range:r},(u,c,p)=>{if(u[0]===this.userId){const y=tl(u[1]);i.push(y)}else p.done()}).next(()=>{Tt(0===i.length)})})}containsKey(e,t){return Hx(e,this.userId,t)}wn(e){return Gx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Hx(n,e,t){const r=_D(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return dy(n).Wt({range:u,jt:!0},(p,y,b)=>{const[S,M,F]=p;S===e&&M===i&&(c=!0),b.done()}).next(()=>c)}function bh(n){return Si(n,"mutations")}function dy(n){return Si(n,"documentMutations")}function Gx(n){return Si(n,"mutationQueues")}class Tp{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Tp(0)}static yn(){return new Tp(-1)}}class Kk{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Tp(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Dt.fromTimestamp(new sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hy(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Tt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return hy(e).Wt((c,p)=>{const y=U0(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,u.push(this.removeTargetData(e,y)))}).next(()=>fe.waitFor(u)).next(()=>i)}forEachTarget(e,t){return hy(e).Wt((r,i)=>{const u=U0(i);t(u)})}pn(e){return qx(e).get("targetGlobalKey").next(t=>(Tt(null!==t),t))}In(e,t){return qx(e).put("targetGlobalKey",t)}Tn(e,t){return hy(e).put(kx(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ac(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return hy(e).Wt({range:i,index:"queryTargetsIndex"},(c,p,y)=>{const b=U0(p);pp(t,b.target)&&(u=b,y.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=Dh(e);return t.forEach(c=>{const p=Ss(c.path);i.push(u.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),fe.waitFor(i)}removeMatchingKeys(e,t,r){const i=Dh(e);return fe.forEach(t,u=>{const c=Ss(u.path);return fe.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Dh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Dh(e);let u=o();return i.Wt({range:r,jt:!0},(c,p,y)=>{const b=tl(c[1]),S=new Ge(b);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=Ss(t.path),i=IDBKeyRange.bound([r],[Zb(r)],!1,!0);let u=0;return Dh(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,p],y,b)=>{0!==c&&(u++,b.done())}).next(()=>u>0)}Et(e,t){return hy(e).get(t).next(r=>r?U0(r):null)}}function hy(n){return Si(n,"targets")}function qx(n){return Si(n,"targetGlobal")}function Dh(n){return Si(n,"targetDocuments")}function Ap(n){return tA.apply(this,arguments)}function tA(){return tA=(0,_e.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==Sx)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),tA.apply(this,arguments)}function zx([n,e],[t,r]){const i=Ft(n,t);return 0===i?Ft(e,r):i}class Zk{constructor(e){this.An=e,this.buffer=new Fn(zx),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();zx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Yk{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;ke("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,_e.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){wp(i)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ap(i)}yield t.Sn(e)}))}}class Qk{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return fe.resolve(as.A);const r=new Zk(t);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(jx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jx):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,u,c,p,y,b;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(b=Date.now(),ti()<=Ha.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${u} targets in `+(y-p)+`ms\n\tRemoved ${M} documents in `+(b-y)+`ms\nTotal Duration: ${b-S}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:M})))}}class Jk{constructor(e,t){this.db=e,this.garbageCollector=new Qk(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return CD(e,r)}removeReference(e,t,r){return CD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return CD(e,t)}On(e,t){return function(r,i){let u=!1;return Gx(r).zt(c=>Hx(r,c,i).next(p=>(p&&(u=!0),fe.resolve(!p)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Mn(e,(c,p)=>{if(p<=t){const y=this.On(e,c).next(b=>{if(!b)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Dt.min()),Dh(e).delete([0,Ss(c.path)])))});i.push(y)}}).next(()=>fe.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return CD(e,t)}Mn(e,t){const r=Dh(e);let i,u=as.A;return r.Wt({index:"documentTargetsIndex"},([c,p],{path:y,sequenceNumber:b})=>{0===c?(u!==as.A&&t(new Ge(tl(i)),u),u=b,i=y):u=as.A}).next(()=>{u!==as.A&&t(new Ge(tl(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function CD(n,e){return Dh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ss(e.path),sequenceNumber:r}));var r}class Wx{constructor(){this.changes=new xc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xk{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Sp(e).put(r)}removeEntry(e,t,r){return Sp(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],wD(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Pn.newInvalidDocument(t);return Sp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(G0(t))},(i,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:Pn.newInvalidDocument(t)};return Sp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(G0(t))},(i,u)=>{r={document:this.$n(t,u),size:DD(u)}}).next(()=>r)}getEntries(e,t){let r=uo();return this.Ln(e,t,(i,u)=>{const c=this.$n(i,u);r=r.insert(i,c)}).next(()=>r)}Un(e,t){let r=uo(),i=new or(Ge.comparator);return this.Ln(e,t,(u,c)=>{const p=this.$n(u,c);r=r.insert(u,p),i=i.insert(u,DD(c))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return fe.resolve();let i=new Fn(Yx);t.forEach(y=>i=i.add(y));const u=IDBKeyRange.bound(G0(i.first()),G0(i.last())),c=i.getIterator();let p=c.getNext();return Sp(e).Wt({index:"documentKeyIndex",range:u},(y,b,S)=>{const M=Ge.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&Yx(p,M)<0;)r(p,null),p=c.getNext();p&&p.isEqual(M)&&(r(p,b),p=c.hasNext()?c.getNext():null),p?S.Ut(G0(p)):S.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),wD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sp(e).qt(IDBKeyRange.bound(i,u,!0)).next(c=>{let p=uo();for(const y of c){const b=this.$n(Ge.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(b.key,b)}return p})}getAllFromCollectionGroup(e,t,r,i){let u=uo();const c=Zx(t,r),p=Zx(t,Ja.max());return Sp(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(y,b,S)=>{const M=this.$n(Ge.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(M.key,M),u.size===i&&S.done()}).next(()=>u)}newChangeBuffer(e){return new eP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Kx(e).get("remoteDocumentGlobalKey").next(t=>(Tt(!!t),t))}Fn(e,t){return Kx(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function Bk(n,e){let t;if(e.document)t=oy(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ge.fromSegments(e.noDocument.path),i=Dp(e.noDocument.readTime);t=Pn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at();{const r=Ge.fromSegments(e.unknownDocument.path),i=Dp(e.unknownDocument.version);t=Pn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new sr(r[0],r[1]);return Dt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Dt.min()))return r}return Pn.newInvalidDocument(e)}}class eP extends Wx{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new xc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Fn((u,c)=>Ft(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const p=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,p.readTime)),c.isValidDocument()){const y=Ox(this.Kn.M,c);i=i.add(u.path.popLast()),r+=DD(y)-p.size,t.push(this.Kn.addEntry(e,u,y))}else if(r-=p.size,this.trackRemovals){const y=Ox(this.Kn.M,c.convertToNoDocument(Dt.min()));t.push(this.Kn.addEntry(e,u,y))}}),i.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),fe.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((u,c)=>{this.Gn.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function Kx(n){return Si(n,"remoteDocumentGlobal")}function Sp(n){return Si(n,"remoteDocumentsV14")}function G0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Zx(n,e){const t=e.documentKey.path.toArray();return[n,wD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Yx(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=Ft(t[u],r[u]),i)return i;return i=Ft(t.length,r.length),i||(i=Ft(t[t.length-2],r[r.length-2]),i||Ft(t[t.length-1],r[r.length-1]))}class tP{constructor(e){this.M=e}kt(e,t,r,i){const u=new vD("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Cx,{unique:!0}),p.createObjectStore("documentMutations"),Qx(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=fe.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),Qx(e)),c=c.next(()=>function(p){const y=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",b)}(u))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,y){return y.store("mutations").qt().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Cx,{unique:!0});const S=y.store("mutations"),M=b.map(F=>S.put(F));return fe.waitFor(M)})}(e,u))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Qn(u))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&i>=7&&(c=c.next(()=>this.Wn(u))),r<8&&i>=8&&(c=c.next(()=>this.zn(e,u))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Hn(u))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:Nk});y.createIndex("collectionPathOverlayIndex",Ok,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",kk,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:Ek});y.createIndex("documentKeyIndex",bk),y.createIndex("collectionGroupIndex",Dk)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:Sk}).createIndex("sequenceNumberIndex",Mk,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:xk}).createIndex("documentKeyIndex",Rk,{unique:!1})}(e)})),c}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=DD(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>fe.forEach(i,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(p=>fe.forEach(p,y=>{Tt(y.userId===u.userId);const b=ly(this.M,y);return $x(e,u.userId,b).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Wt((c,p)=>{const y=new tn(c),b=[0,Ss(y)];u.push(t.get(b).next(S=>S?fe.resolve():t.put({targetId:0,path:Ss(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>fe.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Ak});const r=t.store("collectionParents"),i=new XT,u=c=>{if(i.add(c)){const p=c.lastSegment(),y=c.popLast();return r.put({collectionId:p,parent:Ss(y)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,p)=>{const y=new tn(c);return u(y.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,p,y],b)=>{const S=tl(p);return u(S.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const u=U0(i),c=kx(this.M,u);return t.put(c)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((u,c)=>{const p=t.store("remoteDocumentsV14"),y=(b=c,b.document?new Ge(tn.fromString(b.document.name).popFirst(5)):b.noDocument?Ge.fromSegments(b.noDocument.path):b.unknownDocument?Ge.fromSegments(b.unknownDocument.path):at()).path.toArray();var b;const S={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(S))}).next(()=>fe.waitFor(i))}}function Qx(n){n.createObjectStore("targetDocuments",{keyPath:Ik}).createIndex("documentTargetsIndex",Tk,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ck,{unique:!0}),n.createObjectStore("targetGlobal")}const nA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rA{constructor(e,t,r,i,u,c,p,y,b,S,M=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=c,this.document=p,this.Xn=b,this.Zn=S,this.ts=M,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=F=>Promise.resolve(),!rA.vt())throw new Re(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jk(this,i),this.hs=t+"main",this.M=new Nx(y),this.ls=new tu(this.hs,this.ts,new tP(this.M)),this.fs=new Kk(this.referenceDelegate,this.M),this.ds=new Xk(this.M),this._s=new Uk,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===S&&yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(ue.FAILED_PRECONDITION,nA);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new as(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,_e.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ID(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(wp(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return q0(e).get("owner").next(t=>fe.resolve(this.bs(t)))}Vs(e){return ID(e).delete(this.clientId)}vs(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Si(r,"clientMetadata");return i.qt().next(u=>{const c=e.Ds(u,18e5),p=u.filter(y=>-1===c.indexOf(y));return fe.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?fe.resolve(!0):q0(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Re(ue.FAILED_PRECONDITION,nA);return!1}}return!(!this.networkEnabled||!this.inForeground)||ID(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Rx(t,as.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>ID(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return eA.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Wk(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return JT.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){ke("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=14===(c=this.ts)?Fk:13===c?Ax:12===c?Pk:11===c?Tx:void at();var c;let p;return this.ls.runTransaction(e,i,u,y=>(p=new Rx(y,this.es?this.es.next():as.A),"readwrite-primary"===t?this.Es(p).next(b=>!!b||this.As(p)).next(b=>{if(!b)throw yr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Re(ue.FAILED_PRECONDITION,Sx);return r(p)}).next(b=>this.Ps(p).next(()=>b)):this.$s(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}$s(e){return q0(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(ue.FAILED_PRECONDITION,nA)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return q0(e).put("owner",t)}static vt(){return tu.vt()}Rs(e){const t=q0(e);return t.get("owner").next(r=>this.bs(r)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):fe.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(yr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return yr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){yr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function q0(n){return Si(n,"owner")}function ID(n){return Si(n,"clientMetadata")}function iA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nP{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const u of r)u.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const u of t)u.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):Km(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Ge(t)).next(r=>{let i=yD();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let u=yD();return this.indexManager.getCollectionParents(e,i).next(c=>fe.forEach(c,p=>{const y=(b=t,S=p.child(i),new Xa(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,S;return this.zs(e,y,r).next(b=>{b.forEach((S,M)=>{u=u.insert(S,M)})})}).next(()=>u))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const c of u)for(const p of c.mutations){const y=p.key;let b=i.get(y);null==b&&(b=Pn.newInvalidDocument(y),i=i.insert(y,b)),k0(p,b,c.localWriteTime),b.isFoundDocument()||(i=i.remove(y))}}).next(()=>(i.forEach((u,c)=>{R0(t,c)||(i=i.remove(u))}),i))}}class sA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=o(),i=o();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new sA(e,t.fromCache,r,i)}}class Jx{Xs(e){this.Zs=e}Qs(e,t,r,i){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(Dt.min())?this.ti(e,t):this.Zs.Ks(e,i).next(u=>{const c=this.ei(t,u);return(mh(t)||mp(t))&&this.ni(t.limitType,c,i,r)?this.ti(e,t):(ti()<=Ha.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),x0(t)),this.Zs.Qs(e,t,Hm(r,-1)).next(p=>(c.forEach(y=>{p=p.insert(y.key,y)}),p)))});var u}ei(e,t){let r=new Fn(FT(e));return t.forEach((i,u)=>{R0(e,u)&&(r=r.add(u))}),r}ni(e,t,r,i){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}ti(e,t){return ti()<=Ha.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",x0(t)),this.Zs.Qs(e,t,Ja.min())}}class rP{constructor(e,t,r,i){this.persistence=e,this.si=t,this.M=i,this.ii=new or(Ft),this.ri=new xc(u=>Ac(u),pp),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new nP(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function Xx(n,e,t,r){return new rP(n,e,t,r)}function eR(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,_e.Z)(function*(n,e){const t=ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(u=>(i=u,t.ai(e),t.Bs.getAllMutationBatches(r))).next(u=>{const c=[],p=[];let y=o();for(const b of i){c.push(b.batchId);for(const S of b.mutations)y=y.add(S.key)}for(const b of u){p.push(b.batchId);for(const S of b.mutations)y=y.add(S.key)}return t.ci.Ks(r,y).next(b=>({hi:b,removedBatchIds:c,addedBatchIds:p}))})})}),oA.apply(this,arguments)}function iP(n,e){const t=ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.ui.newChangeBuffer({trackRemovals:!0});return function(c,p,y,b){const S=y.batch,M=S.keys();let F=fe.resolve();return M.forEach(B=>{F=F.next(()=>b.getEntry(p,B)).next(G=>{const te=y.docVersions.get(B);Tt(null!==te),G.version.compareTo(te)<0&&(S.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),b.addEntry(G)))})}),F.next(()=>c.Bs.removeMutationBatch(p,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,i))})}function tR(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function sP(n,e){const t=ze(n),r=e.snapshotVersion;let i=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.ui.newChangeBuffer({trackRemovals:!0});i=t.ii;const p=[];e.targetChanges.forEach((b,S)=>{const M=i.get(S);if(!M)return;p.push(t.fs.removeMatchingKeys(u,b.removedDocuments,S).next(()=>t.fs.addMatchingKeys(u,b.addedDocuments,S)));let F=M.withSequenceNumber(u.currentSequenceNumber);var B,G,te;e.targetMismatches.has(S)?F=F.withResumeToken(vr.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,r)),i=i.insert(S,F),G=F,te=b,(0===(B=M).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&p.push(t.fs.updateTargetData(u,F))});let y=uo();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),p.push(nR(u,c,e.documentUpdates).next(b=>{y=b})),!r.isEqual(Dt.min())){const b=t.fs.getLastRemoteSnapshotVersion(u).next(S=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(b)}return fe.waitFor(p).next(()=>c.apply(u)).next(()=>t.ci.Gs(u,y)).next(()=>y)}).then(u=>(t.ii=i,u))}function nR(n,e,t){let r=o();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let u=uo();return t.forEach((c,p)=>{const y=i.get(c);p.isNoDocument()&&p.version.isEqual(Dt.min())?(e.removeEntry(c,p.readTime),u=u.insert(c,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(c,p)):ke("LocalStore","Ignoring outdated watch update for ",c,". Current version:",y.version," Watch version:",p.version)}),u})}function oP(n,e){const t=ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function fy(n,e){const t=ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(u=>u?(i=u,fe.resolve(i)):t.fs.allocateTargetId(r).next(c=>(i=new wh(e,c,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function py(n,e,t){return aA.apply(this,arguments)}function aA(){return aA=(0,_e.Z)(function*(n,e,t){const r=ze(n),i=r.ii.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!wp(c))throw c;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),aA.apply(this,arguments)}function TD(n,e,t){const r=ze(n);let i=Dt.min(),u=o();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,y,b){const S=ze(p),M=S.ri.get(b);return void 0!==M?fe.resolve(S.ii.get(M)):S.fs.getTargetData(y,b)}(r,c,ao(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(c,p.targetId).next(y=>{u=y})}).next(()=>r.si.Qs(c,e,t?i:Dt.min(),t?u:o())).next(p=>(sR(r,lD(e),p),{documents:p,li:u})))}function rR(n,e){const t=ze(n),r=ze(t.fs),i=t.ii.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(c=>c?c.target:null))}function iR(n,e){const t=ze(n),r=t.oi.get(e)||Dt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ui.getAllFromCollectionGroup(i,e,Hm(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(sR(t,e,i),i))}function sR(n,e,t){let r=Dt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.oi.set(e,r)}function uA(){return uA=(0,_e.Z)(function*(n,e,t,r){const i=ze(n);let u=o(),c=uo();for(const b of t){const S=e.fi(b.metadata.name);b.document&&(u=u.add(S));const M=e.di(b);M.setReadTime(e._i(b.metadata.readTime)),c=c.insert(S,M)}const p=i.ui.newChangeBuffer({trackRemovals:!0}),y=yield fy(i,(b=r,ao(Ju(tn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>nR(b,p,c).next(S=>(p.apply(b),S)).next(S=>i.fs.removeMatchingKeysForTargetId(b,y.targetId).next(()=>i.fs.addMatchingKeys(b,u,y.targetId)).next(()=>i.ci.Gs(b,S)).next(()=>S)))}),uA.apply(this,arguments)}function uP(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,_e.Z)(function*(n,e,t=o()){const r=yield fy(n,ao(YT(e.bundledQuery))),i=ze(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const c=Je(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i._s.saveNamedQuery(u,e);const p=r.withResumeToken(vr.EMPTY_BYTE_STRING,c);return i.ii=i.ii.insert(p.targetId,p),i.fs.updateTargetData(u,p).next(()=>i.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.fs.addMatchingKeys(u,t,r.targetId)).next(()=>i._s.saveNamedQuery(u,e))})}),lA.apply(this,arguments)}class lP{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return fe.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:Je(r.createTime)}),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:YT(r.bundledQuery),readTime:Je(r.readTime)}),fe.resolve();var r}}class cP{constructor(){this.overlays=new or(Ge.comparator),this.gi=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.Xt(e,t,u)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.gi.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const i=ny(),u=t.length+1,c=new Ge(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const y=p.getNext().value,b=y.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new or((b,S)=>b-S);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let S=u.get(b.largestBatchId);null===S&&(S=ny(),u=u.insert(b.largestBatchId,S)),S.set(b.getKey(),b)}}const p=ny(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((b,S)=>p.set(b,S)),!(p.size()>=i)););return fe.resolve(p)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new ZT(t,r));let u=this.gi.get(t);void 0===u&&(u=o(),this.gi.set(t,u)),this.gi.set(t,u.add(r.key))}}class cA{constructor(){this.yi=new Fn(Mi.pi),this.Ii=new Fn(Mi.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new Mi(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new Mi(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new Ge(new tn([])),r=new Mi(t,e),i=new Mi(t,e+1),u=[];return this.Ii.forEachInRange([r,i],c=>{this.Ai(c),u.push(c.key)}),u}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Ge(new tn([])),r=new Mi(t,e),i=new Mi(t,e+1);let u=o();return this.Ii.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Mi(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Mi{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Ge.comparator(e.key,t.key)||Ft(e.vi,t.vi)}static Ti(e,t){return Ft(e.vi,t.vi)||Ge.comparator(e.key,t.key)}}class dP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Fn(Mi.pi)}checkEmpty(e){return fe.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const u=this.Si;this.Si++;const c=new WT(u,t,r,i);this.Bs.push(c);for(const p of i)this.Di=this.Di.add(new Mi(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.xi(t+1),u=i<0?0:i;return fe.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return fe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mi(t,0),i=new Mi(t,Number.POSITIVE_INFINITY),u=[];return this.Di.forEachInRange([r,i],c=>{const p=this.Ci(c.vi);u.push(p)}),fe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(Ft);return t.forEach(i=>{const u=new Mi(i,0),c=new Mi(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([u,c],p=>{r=r.add(p.vi)})}),fe.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Ge.isDocumentKey(u)||(u=u.child(""));const c=new Mi(new Ge(u),0);let p=new Fn(Ft);return this.Di.forEachWhile(y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(p=p.add(y.vi)),!0)},c),fe.resolve(this.Ni(p))}Ni(e){const t=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Tt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return fe.forEach(t.mutations,i=>{const u=new Mi(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new Mi(t,0),i=this.Di.firstAfterOrEqual(r);return fe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return fe.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class hP{constructor(e){this.Mi=e,this.docs=new or(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let r=uo();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Pn.newInvalidDocument(i))}),fe.resolve(r)}getAllFromCollection(e,t,r){let i=uo();const u=new Ge(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:p,value:{document:y}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||D0(xT(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return fe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){at()}Oi(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fP(this)}getSize(e){return fe.resolve(this.size)}}class fP extends Wx{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class pP{constructor(e){this.persistence=e,this.Fi=new xc(t=>Ac(t),pp),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new cA,this.targetCount=0,this.Li=Tp.gn()}forEachTarget(e,t){return this.Fi.forEach((r,i)=>t(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),fe.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Tp(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Tn(t),fe.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Fi.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Fi.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),fe.waitFor(u).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),fe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.Bi.containsKey(t))}}class gP{constructor(e,t){this.Ui={},this.overlays={},this.es=new as(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new pP(this),this.indexManager=new zk,this.ds=new hP(r=>this.referenceDelegate.qi(r)),this.M=new Nx(t),this._s=new lP(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new dP(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const i=new mP(this.es.next());return this.referenceDelegate.Ki(),r(i).next(u=>this.referenceDelegate.Gi(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Qi(e,t){return fe.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class mP extends Mx{constructor(e){super(),this.currentSequenceNumber=e}}class dA{constructor(e){this.persistence=e,this.ji=new cA,this.Wi=null}static zi(e){return new dA(e)}get Hi(){if(this.Wi)return this.Wi;throw at()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Hi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Hi,r=>{const i=Ge.fromPath(r);return this.Ji(e,i).next(u=>{u||t.removeEntry(i,Dt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return fe.or([()=>fe.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function oR(n,e){return`firestore_clients_${n}_${e}`}function aR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function hA(n,e){return`firestore_targets_${n}_${e}`}class AD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Yi(e,t,r){const i=JSON.parse(r);let u,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(u=new Re(i.error.code,i.error.message))),c?new AD(e,t,i.state,u):(yr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class z0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Re(r.error.code,r.error.message))),u?new z0(e,r.state,i):(yr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class SD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=l();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=TT(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return i?new SD(e,u):(yr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class fA{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new fA(t.clientId,t.onlineState):(yr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class pA{constructor(){this.activeTargetIds=l()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gA{constructor(e,t,r,i,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new or(Ft),this.started=!1,this.rr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ur=oR(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new pA),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.er)continue;const u=e.getItem(oR(e.persistenceKey,i));if(u){const c=SD.Yi(i,u);c&&(e.ir=e.ir.insert(c.clientId,c))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const i=e.mr(r);i&&e.gr(i)}for(const i of e.rr)e.sr(i);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(hA(this.persistenceKey,e));if(r){const i=z0.Yi(e,r);i&&(t=i.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Pr(r.key);return t.br(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Sr(i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(r.key===t.dr){if(null!==r.newValue){const i=t.mr(r.newValue);if(i)return t.gr(i)}}else if(r.key===t.ar){const i=function(u){let c=as.A;if(null!=u)try{const p=JSON.parse(u);Tt("number"==typeof p),c=p}catch(p){yr("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==as.A&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.Nr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.kr(u)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const i=new AD(this.currentUser,e,t,r),u=aR(this.persistenceKey,this.currentUser,e);this.setItem(u,i.Xi())}Ir(e){const t=aR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const i=hA(this.persistenceKey,e),u=new z0(e,t,r);this.setItem(i,u.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return SD.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return AD.Yi(new ei(void 0!==r[2]?r[2]:null),i,t)}Dr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return z0.Yi(i,t)}mr(e){return fA.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),u=this.yr(r),c=[],p=[];return u.forEach(y=>{i.has(y)||c.push(y)}),i.forEach(y=>{u.has(y)||p.push(y)}),this.syncEngine.Fr(c,p).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=l();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class uR{constructor(){this.$r=new pA,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new pA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yP{Lr(e){}shutdown(){}}class lR{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _P={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vP{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class wP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,i,u){const c=this.uo(e,t);ke("RestConnection","Sending: ",c,r);const p={};return this.ao(p,i,u),this.co(e,c,p,r).then(y=>(ke("RestConnection","Received: ",y),y),y=>{throw Fm("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",r),y})}ho(e,t,r,i,u){return this.oo(e,t,r,i,u)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+wc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}uo(e,t){return`${this.io}/v1/${t}:${_P[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((u,c)=>{const p=new Gb;p.listenOnce($b.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ap.NO_ERROR:const b=p.getResponseJson();ke("Connection","XHR received:",JSON.stringify(b)),u(b);break;case ap.TIMEOUT:ke("Connection",'RPC "'+e+'" timed out'),c(new Re(ue.DEADLINE_EXCEEDED,"Request time out"));break;case ap.HTTP_ERROR:const S=p.getStatus();if(ke("Connection",'RPC "'+e+'" failed with status:',S,"response text:",p.getResponseText()),S>0){const M=p.getResponseJson().error;if(M&&M.status&&M.message){const F=function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(G)>=0?G:ue.UNKNOWN}(M.status);c(new Re(F,M.message))}else c(new Re(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Re(ue.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{ke("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);p.send(t,"POST",y,r,15)})}lo(e,t,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ET(),c=jb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new Hb({})),this.ao(p.initMessageHeaders,t,r),(0,qt.uI)()||(0,qt.b$)()||(0,qt.d)()||(0,qt.w1)()||(0,qt.Mn)()||(0,qt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");ke("Connection","Creating WebChannel: "+y,p);const b=u.createWebChannel(y,p);let S=!1,M=!1;const F=new vP({Wr:G=>{M?ke("Connection","Not sending because WebChannel is closed:",G):(S||(ke("Connection","Opening WebChannel transport."),b.open(),S=!0),ke("Connection","WebChannel sending:",G),b.send(G))},zr:()=>b.close()}),B=(G,te,we)=>{G.listen(te,Ze=>{try{we(Ze)}catch(Ye){setTimeout(()=>{throw Ye},0)}})};return B(b,Pm.EventType.OPEN,()=>{M||ke("Connection","WebChannel transport opened.")}),B(b,Pm.EventType.CLOSE,()=>{M||(M=!0,ke("Connection","WebChannel transport closed"),F.no())}),B(b,Pm.EventType.ERROR,G=>{M||(M=!0,Fm("Connection","WebChannel transport errored:",G),F.no(new Re(ue.UNAVAILABLE,"The operation could not be completed")))}),B(b,Pm.EventType.MESSAGE,G=>{var te;if(!M){const we=G.data[0];Tt(!!we);const Ze=we,Ye=Ze.error||(null===(te=Ze[0])||void 0===te?void 0:te.error);if(Ye){ke("Connection","WebChannel received error:",Ye);const je=Ye.status;let et=function(Ct){const $t=Yn[Ct];if(void 0!==$t)return HT($t)}(je),_t=Ye.message;void 0===et&&(et=ue.INTERNAL,_t="Unknown error status: "+je+" with message "+Ye.message),M=!0,F.no(new Re(et,_t)),b.close()}else ke("Connection","WebChannel received:",we),F.so(we)}}),B(c,bT.STAT_EVENT,G=>{G.stat===f0.PROXY?ke("Connection","Detected buffering proxy"):G.stat===f0.NOPROXY&&ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.eo()},0),F}}function cR(){return"undefined"!=typeof window?window:null}function MD(){return"undefined"!=typeof document?document:null}function W0(n){return new Pe(n,!0)}class mA{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=i,this.wo=u,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,t-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class dR{constructor(e,t,r,i,u,c,p,y){this.Yn=e,this.Ro=r,this.Po=i,this.bo=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new mA(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,_e.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,_e.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.qo(r,i)},r=>{e(()=>{const i=new Re(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To((0,_e.Z)(function*(){e.state=0,e.start()}))}Ko(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EP extends dR{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=u}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function V0(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:at(),i=e.targetChange.targetIds||[],u=function(y,b){return y.N?(Tt(void 0===b||"string"==typeof b),vr.fromBase64String(b||"")):(Tt(void 0===b||b instanceof Uint8Array),vr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(y){const b=void 0===y.code?ue.UNKNOWN:HT(y.code);return new Re(b,y.message||"")}(c);t=new D(r,i,u,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Ai(n,r.document.name),u=Je(r.document.updateTime),c=new Ii({mapValue:{fields:r.document.fields}}),p=Pn.newFoundDocument(i,u,c);t=new v(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=Ai(n,r.document),u=r.readTime?Je(r.readTime):Dt.min(),c=Pn.newNoDocument(i,u);t=new v([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Ai(n,r.document);t=new v([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return at();{const r=e.filter,u=new gD(r.count||0);t=new E(r.targetId,u)}}var y;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Dt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Dt.min():u.readTime?Je(u.readTime):Dt.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=Rc(this.M),t.addTarget=function(i,u){let c;const p=u.target;return c=Gm(p)?{documents:_x(i,p)}:{query:vx(i,p)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=st(i,u.resumeToken):u.snapshotVersion.compareTo(Dt.min())>0&&(c.readTime=Ve(i,u.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function fk(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=Rc(this.M),t.removeTarget=e,this.Fo(t)}}class bP extends dR{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=u,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function hk(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(r,i){let u=Je(r.updateTime?r.updateTime:i);return u.isEqual(Dt.min())&&(u=Je(i)),new px(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Je(e.commitTime);return this.listener.Yo(r,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Rc(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Nc(this.M,r))};this.Fo(t)}}class DP extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new Re(ue.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.oo(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(ue.UNKNOWN,i.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.ho(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(ue.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class CP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(yr(t),this.iu=!1):ke("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class IP{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=u,this._u.Lr(p=>{r.enqueueAndForget((0,_e.Z)(function*(){var y;Ch(c)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,_e.Z)(function*(b){const S=ze(b);S.fu.add(4),yield gy(S),S.wu.set("Unknown"),S.fu.delete(4),yield K0(S)}),function(b){return y.apply(this,arguments)})(c))}))}),this.wu=new CP(r,i)}}function K0(n){return yA.apply(this,arguments)}function yA(){return yA=(0,_e.Z)(function*(n){if(Ch(n))for(const e of n.du)yield e(!0)}),yA.apply(this,arguments)}function gy(n){return _A.apply(this,arguments)}function _A(){return _A=(0,_e.Z)(function*(n){for(const e of n.du)yield e(!1)}),_A.apply(this,arguments)}function xD(n,e){const t=ze(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),EA(t)?wA(t):yy(t).xo()&&vA(t,e))}function Z0(n,e){const t=ze(n),r=yy(t);t.lu.delete(e),r.xo()&&hR(t,e),0===t.lu.size&&(r.xo()?r.Mo():Ch(t)&&t.wu.set("Unknown"))}function vA(n,e){n.mu.Z(e.targetId),yy(n).jo(e)}function hR(n,e){n.mu.Z(e),yy(n).Wo(e)}function wA(n){n.mu=new x({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),yy(n).start(),n.wu.ru()}function EA(n){return Ch(n)&&!yy(n).Co()&&n.lu.size>0}function Ch(n){return 0===ze(n).fu.size}function fR(n){n.mu=void 0}function TP(n){return bA.apply(this,arguments)}function bA(){return bA=(0,_e.Z)(function*(n){n.lu.forEach((e,t)=>{vA(n,e)})}),bA.apply(this,arguments)}function AP(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,_e.Z)(function*(n,e){fR(n),EA(n)?(n.wu.au(e),wA(n)):n.wu.set("Unknown")}),DA.apply(this,arguments)}function SP(n,e,t){return CA.apply(this,arguments)}function CA(){return CA=(0,_e.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof D&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(i,u){const c=u.cause;for(const p of u.targetIds)i.lu.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.lu.delete(p),i.mu.removeTarget(p))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield RD(n,r)}else if(e instanceof v?n.mu.ut(e):e instanceof E?n.mu._t(e):n.mu.ht(e),!t.isEqual(Dt.min()))try{const r=yield tR(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.mu.yt(u);return c.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=i.lu.get(y);b&&i.lu.set(y,b.withResumeToken(p.resumeToken,u))}}),c.targetMismatches.forEach(p=>{const y=i.lu.get(p);if(!y)return;i.lu.set(p,y.withResumeToken(vr.EMPTY_BYTE_STRING,y.snapshotVersion)),hR(i,p);const b=new wh(y.target,p,1,y.sequenceNumber);vA(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield RD(n,r)}var r}),CA.apply(this,arguments)}function RD(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,_e.Z)(function*(n,e,t){if(!wp(e))throw e;n.fu.add(1),yield gy(n),n.wu.set("Offline"),t||(t=()=>tR(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield K0(n)}))}),IA.apply(this,arguments)}function pR(n,e){return e().catch(t=>RD(n,t,e))}function my(n){return TA.apply(this,arguments)}function TA(){return TA=(0,_e.Z)(function*(n){const e=ze(n),t=Ih(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;MP(e);)try{const i=yield oP(e.localStore,r);if(null===i){0===e.hu.length&&t.Mo();break}r=i.batchId,xP(e,i)}catch(i){yield RD(e,i)}gR(e)&&mR(e)}),TA.apply(this,arguments)}function MP(n){return Ch(n)&&n.hu.length<10}function xP(n,e){n.hu.push(e);const t=Ih(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function gR(n){return Ch(n)&&!Ih(n).Co()&&n.hu.length>0}function mR(n){Ih(n).start()}function RP(n){return AA.apply(this,arguments)}function AA(){return AA=(0,_e.Z)(function*(n){Ih(n).Zo()}),AA.apply(this,arguments)}function NP(n){return SA.apply(this,arguments)}function SA(){return SA=(0,_e.Z)(function*(n){const e=Ih(n);for(const t of n.hu)e.Jo(t.mutations)}),SA.apply(this,arguments)}function OP(n,e,t){return MA.apply(this,arguments)}function MA(){return MA=(0,_e.Z)(function*(n,e,t){const r=n.hu.shift(),i=KT.from(r,e,t);yield pR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield my(n)}),MA.apply(this,arguments)}function kP(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,_e.Z)(function*(n,e){var t;e&&Ih(n).Ho&&(yield(t=(0,_e.Z)(function*(r,i){if(mD(u=i.code)&&u!==ue.ABORTED){const c=r.hu.shift();Ih(r).ko(),yield pR(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield my(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),gR(n)&&mR(n)}),xA.apply(this,arguments)}function yR(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,_e.Z)(function*(n,e){const t=ze(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const r=Ch(t);t.fu.add(3),yield gy(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield K0(t)}),RA.apply(this,arguments)}function NA(n,e){return OA.apply(this,arguments)}function OA(){return OA=(0,_e.Z)(function*(n,e){const t=ze(n);e?(t.fu.delete(2),yield K0(t)):e||(t.fu.add(2),yield gy(t),t.wu.set("Unknown"))}),OA.apply(this,arguments)}function yy(n){return n.gu||(n.gu=function(e,t,r){const i=ze(e);return i.eu(),new EP(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:TP.bind(null,n),Yr:AP.bind(null,n),Qo:SP.bind(null,n)}),n.du.push(function(){var e=(0,_e.Z)(function*(t){t?(n.gu.ko(),EA(n)?wA(n):n.wu.set("Unknown")):(yield n.gu.stop(),fR(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Ih(n){return n.yu||(n.yu=function(e,t,r){const i=ze(e);return i.eu(),new bP(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:RP.bind(null,n),Yr:kP.bind(null,n),Xo:NP.bind(null,n),Yo:OP.bind(null,n)}),n.du.push(function(){var e=(0,_e.Z)(function*(t){t?(n.yu.ko(),yield my(n)):(yield n.yu.stop(),n.hu.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class kA{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,p=new kA(e,t,c,i,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _y(n,e){if(yr("AsyncQueue",`${e}: ${n}`),wp(n))return new Re(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class vy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=yD(),this.sortedSet=new or(this.comparator)}static emptySet(e){return new vy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new vy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class _R{constructor(){this.pu=new or(Ge.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):at():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class wy{constructor(e,t,r,i,u,c,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new wy(e,t,vy.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class PP{constructor(){this.Tu=void 0,this.listeners=[]}}class FP{constructor(){this.queries=new xc(e=>M0(e),Zm),this.onlineState="Unknown",this.Eu=new Set}}function PA(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,_e.Z)(function*(n,e){const t=ze(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new PP),i)try{u.Tu=yield t.onListen(r)}catch(c){const p=_y(c,`Initialization of query '${x0(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.Au(t.onlineState),u.Tu&&e.Ru(u.Tu)&&BA(t)}),FA.apply(this,arguments)}function LA(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,_e.Z)(function*(n,e){const t=ze(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),VA.apply(this,arguments)}function LP(n,e){const t=ze(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.Ru(i)&&(r=!0);c.Tu=i}}r&&BA(t)}function VP(n,e,t){const r=ze(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function BA(n){n.Eu.forEach(e=>{e.next()})}class UA{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new wy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=wy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class BP{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class vR{constructor(e){this.M=e}fi(e){return Ai(this.M,e)}di(e){return e.metadata.exists?oy(this.M,e.document,!1):Pn.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return Je(e)}}class UP{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wR(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=tn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new vR(this.M);for(const i of e)if(i.metadata.queries){const u=r.fi(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||o()).add(u);t.set(c,p)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function aP(n,e,t,r){return uA.apply(this,arguments)}(e.localStore,new vR(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const i of e.queries)yield uP(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function wR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ER{constructor(e){this.key=e}}class bR{constructor(e){this.key=e}}class DR{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=o(),this.mutatedKeys=o(),this.Uu=FT(e),this.qu=new vy(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new _R,i=t?t.qu:this.qu;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const y=mh(this.query)&&i.size===this.query.limit?i.last():null,b=mp(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,M)=>{const F=i.get(S),B=R0(this.query,M)?M:null,G=!!F&&this.mutatedKeys.has(F.key),te=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let we=!1;F&&B?F.data.isEqual(B.data)?G!==te&&(r.track({type:3,doc:B}),we=!0):this.ju(F,B)||(r.track({type:2,doc:B}),we=!0,(y&&this.Uu(B,y)>0||b&&this.Uu(B,b)<0)&&(p=!0)):!F&&B?(r.track({type:0,doc:B}),we=!0):F&&!B&&(r.track({type:1,doc:F}),we=!0,(y||b)&&(p=!0)),we&&(B?(c=c.add(B),u=te?u.add(S):u.delete(S)):(c=c.delete(S),u=u.delete(S)))}),mh(this.query)||mp(this.query))for(;c.size>this.query.limit;){const S=mh(this.query)?c.last():c.first();c=c.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{qu:c,Qu:r,ni:p,mutatedKeys:u}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const u=e.Qu.Iu();u.sort((b,S)=>function(M,F){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return B(M)-B(F)}(b.type,S.type)||this.Uu(b.doc,S.doc)),this.Wu(r);const c=t?this.zu():[],p=0===this.Lu.size&&this.current?1:0,y=p!==this.Bu;return this.Bu=p,0!==u.length||y?{snapshot:new wy(this.query,e.qu,i,u,e.mutatedKeys,0===p,y,!1),Hu:c}:{Hu:c}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new _R,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=o(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new bR(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new ER(r))}),t}Yu(e){this.$u=e.li,this.Lu=o();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return wy.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class jP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $P{constructor(e){this.key=e,this.Zu=!1}}class HP{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.ta={},this.ea=new xc(p=>M0(p),Zm),this.na=new Map,this.sa=new Set,this.ia=new or(Ge.comparator),this.ra=new Map,this.oa=new cA,this.ua={},this.aa=new Map,this.ca=Tp.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function GP(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,_e.Z)(function*(n,e){const t=cS(n);let r,i;const u=t.ea.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.Xu();else{const c=yield fy(t.localStore,ao(e));t.isPrimaryClient&&xD(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield $A(t,e,r,"current"===p)}return i}),jA.apply(this,arguments)}function $A(n,e,t,r){return HA.apply(this,arguments)}function HA(){return HA=(0,_e.Z)(function*(n,e,t,r){n.la=(S,M,F)=>{return(B=(0,_e.Z)(function*(G,te,we,Ze){let Ye=te.view.Gu(we);Ye.ni&&(Ye=yield TD(G.localStore,te.query,!1).then(({documents:_t})=>te.view.Gu(_t,Ye)));const je=Ze&&Ze.targetChanges.get(te.targetId),et=te.view.applyChanges(Ye,G.isPrimaryClient,je);return XA(G,te.targetId,et.Hu),et.snapshot}),function(G,te,we,Ze){return B.apply(this,arguments)})(n,S,M,F);var B};const i=yield TD(n.localStore,e,!0),u=new DR(e,i.li),c=u.Gu(i.documents),p=g.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=u.applyChanges(c,n.isPrimaryClient,p);XA(n,t,y.Hu);const b=new jP(e,t,u);return n.ea.set(e,b),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),y.snapshot}),HA.apply(this,arguments)}function qP(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,_e.Z)(function*(n,e){const t=ze(n),r=t.ea.get(e),i=t.na.get(r.targetId);if(i.length>1)return t.na.set(r.targetId,i.filter(u=>!Zm(u,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield py(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Z0(t.remoteStore,r.targetId),Ey(t,r.targetId)}).catch(Ap))):(Ey(t,r.targetId),yield py(t.localStore,r.targetId,!0))}),GA.apply(this,arguments)}function qA(){return qA=(0,_e.Z)(function*(n,e,t){const r=dS(n);try{const i=yield function(u,c){const p=ze(u),y=sr.now(),b=c.reduce((M,F)=>M.add(F.key),o());let S;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>p.ci.Ks(M,b).next(F=>{S=F;const B=[];for(const G of c){const te=$T(G,S.get(G.key));null!=te&&B.push(new el(G.key,te,nD(te.value.mapValue),kr.exists(!0)))}return p.Bs.addMutationBatch(M,y,B,c)})).then(M=>(M.applyToLocalDocumentSet(S),{batchId:M.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,p){let y=u.ua[u.currentUser.toKey()];y||(y=new or(Ft)),y=y.insert(c,p),u.ua[u.currentUser.toKey()]=y}(r,i.batchId,t),yield Oc(r,i.changes),yield my(r.remoteStore)}catch(i){const u=_y(i,"Failed to persist write");t.reject(u)}}),qA.apply(this,arguments)}function CR(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,_e.Z)(function*(n,e){const t=ze(n);try{const r=yield sP(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.ra.get(u);c&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Zu=!0:i.modifiedDocuments.size>0?Tt(c.Zu):i.removedDocuments.size>0&&(Tt(c.Zu),c.Zu=!1))}),yield Oc(t,r,e)}catch(r){yield Ap(r)}}),zA.apply(this,arguments)}function IR(n,e,t){const r=ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ea.forEach((u,c)=>{const p=c.view.Au(e);p.snapshot&&i.push(p.snapshot)}),function(u,c){const p=ze(u);p.onlineState=c;let y=!1;p.queries.forEach((b,S)=>{for(const M of S.listeners)M.Au(c)&&(y=!0)}),y&&BA(p)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function WP(n,e,t){return WA.apply(this,arguments)}function WA(){return WA=(0,_e.Z)(function*(n,e,t){const r=ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ra.get(e),u=i&&i.key;if(u){let c=new or(Ge.comparator);c=c.insert(u,Pn.newNoDocument(u,Dt.min()));const p=o().add(u),y=new d(Dt.min(),new Map,new Fn(Ft),c,p);yield CR(r,y),r.ia=r.ia.remove(u),r.ra.delete(e),eS(r)}else yield py(r.localStore,e,!1).then(()=>Ey(r,e,t)).catch(Ap)}),WA.apply(this,arguments)}function KP(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,_e.Z)(function*(n,e){const t=ze(n),r=e.batch.batchId;try{const i=yield iP(t.localStore,e);JA(t,r,null),QA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Oc(t,i)}catch(i){yield Ap(i)}}),KA.apply(this,arguments)}function ZP(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,_e.Z)(function*(n,e,t){const r=ze(n);try{const i=yield function(u,c){const p=ze(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return p.Bs.lookupMutationBatch(y,c).next(S=>(Tt(null!==S),b=S.keys(),p.Bs.removeMutationBatch(y,S))).next(()=>p.Bs.performConsistencyCheck(y)).next(()=>p.ci.Ks(y,b))})}(r.localStore,e);JA(r,e,t),QA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Oc(r,i)}catch(i){yield Ap(i)}}),ZA.apply(this,arguments)}function YA(){return YA=(0,_e.Z)(function*(n,e){const t=ze(n);Ch(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=ze(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.Bs.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.aa.get(r)||[];i.push(e),t.aa.set(r,i)}catch(r){const i=_y(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),YA.apply(this,arguments)}function QA(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function JA(n,e,t){const r=ze(n);let i=r.ua[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function Ey(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||TR(n,r)})}function TR(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(Z0(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),eS(n))}function XA(n,e,t){for(const r of t)r instanceof ER?(n.oa.addReference(r.key,e),QP(n,r)):r instanceof bR?(ke("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||TR(n,r.key)):at()}function QP(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(ke("SyncEngine","New document in limbo: "+t),n.sa.add(r),eS(n))}function eS(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Ge(tn.fromString(e)),r=n.ca.next();n.ra.set(r,new $P(t)),n.ia=n.ia.insert(t,r),xD(n.remoteStore,new wh(ao(Ju(t.path)),r,2,as.A))}}function Oc(n,e,t){return tS.apply(this,arguments)}function tS(){return tS=(0,_e.Z)(function*(n,e,t){const r=ze(n),i=[],u=[],c=[];var p;r.ea.isEmpty()||(r.ea.forEach((p,y)=>{c.push(r.la(y,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,b.fromCache?"not-current":"current"),i.push(b);const S=sA.Ys(y.targetId,b);u.push(S)}}))}),yield Promise.all(c),r.ta.Qo(i),yield(p=(0,_e.Z)(function*(y,b){const S=ze(y);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>fe.forEach(b,F=>fe.forEach(F.Hs,B=>S.persistence.referenceDelegate.addReference(M,F.targetId,B)).next(()=>fe.forEach(F.Js,B=>S.persistence.referenceDelegate.removeReference(M,F.targetId,B)))))}catch(M){if(!wp(M))throw M;ke("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const F=M.targetId;if(!M.fromCache){const B=S.ii.get(F),te=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);S.ii=S.ii.insert(F,te)}}}),function(y,b){return p.apply(this,arguments)})(r.localStore,u))}),tS.apply(this,arguments)}function JP(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,_e.Z)(function*(n,e){const t=ze(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield eR(t.localStore,e);t.currentUser=e,(i=t).aa.forEach(c=>{c.forEach(p=>{p.reject(new Re(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Oc(t,r.hi)}var i}),nS.apply(this,arguments)}function XP(n,e){const t=ze(n),r=t.ra.get(e);if(r&&r.Zu)return o().add(r.key);{let i=o();const u=t.na.get(e);if(!u)return i;for(const c of u){const p=t.ea.get(c);i=i.unionWith(p.view.Ku)}return i}}function e1(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,_e.Z)(function*(n,e){const t=ze(n),r=yield TD(t.localStore,e.query,!0),i=e.view.Yu(r);return t.isPrimaryClient&&XA(t,e.targetId,i.Hu),i}),rS.apply(this,arguments)}function t1(n,e){return iS.apply(this,arguments)}function iS(){return iS=(0,_e.Z)(function*(n,e){const t=ze(n);return iR(t.localStore,e).then(r=>Oc(t,r))}),iS.apply(this,arguments)}function n1(n,e,t,r){return sS.apply(this,arguments)}function sS(){return sS=(0,_e.Z)(function*(n,e,t,r){const i=ze(n),u=yield function(c,p){const y=ze(c),b=ze(y.Bs);return y.persistence.runTransaction("Lookup mutation documents","readonly",S=>b.fn(S,p).next(M=>M?y.ci.Ks(S,M):fe.resolve(null)))}(i.localStore,e);var p;null!==u?("pending"===t?yield my(i.remoteStore):"acknowledged"===t||"rejected"===t?(JA(i,e,r||null),QA(i,e),p=e,ze(ze(i.localStore).Bs)._n(p)):at(),yield Oc(i,u)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),sS.apply(this,arguments)}function oS(){return oS=(0,_e.Z)(function*(n,e){const t=ze(n);if(cS(t),dS(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield AR(t,r.toArray());t.ha=!0,yield NA(t.remoteStore,!0);for(const u of i)xD(t.remoteStore,u)}else if(!1===e&&!1!==t.ha){const r=[];let i=Promise.resolve();t.na.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(Ey(t,c),py(t.localStore,c,!0))),Z0(t.remoteStore,c)}),yield i,yield AR(t,r),function(u){const c=ze(u);c.ra.forEach((p,y)=>{Z0(c.remoteStore,y)}),c.oa.bi(),c.ra=new Map,c.ia=new or(Ge.comparator)}(t),t.ha=!1,yield NA(t.remoteStore,!1)}}),oS.apply(this,arguments)}function AR(n,e,t){return aS.apply(this,arguments)}function aS(){return aS=(0,_e.Z)(function*(n,e,t){const r=ze(n),i=[],u=[];for(const c of e){let p;const y=r.na.get(c);if(y&&0!==y.length){p=yield fy(r.localStore,ao(y[0]));for(const b of y){const S=r.ea.get(b),M=yield e1(r,S);M.snapshot&&u.push(M.snapshot)}}else{const b=yield rR(r.localStore,c);p=yield fy(r.localStore,b),yield $A(r,SR(b),c,!1)}i.push(p)}return r.ta.Qo(u),i}),aS.apply(this,arguments)}function SR(n){return A0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function s1(n){const e=ze(n);return ze(ze(e.localStore).persistence).Fs()}function o1(n,e,t,r){return uS.apply(this,arguments)}function uS(){return uS=(0,_e.Z)(function*(n,e,t,r){const i=ze(n);if(i.ha)return void ke("SyncEngine","Ignoring unexpected query state notification.");const u=i.na.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield iR(i.localStore,lD(u[0])),p=d.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Oc(i,c,p);break}case"rejected":yield py(i.localStore,e,!0),Ey(i,e,r);break;default:at()}}),uS.apply(this,arguments)}function a1(n,e,t){return lS.apply(this,arguments)}function lS(){return lS=(0,_e.Z)(function*(n,e,t){const r=cS(n);if(r.ha){for(const i of e){if(r.na.has(i)){ke("SyncEngine","Adding an already active target "+i);continue}const u=yield rR(r.localStore,i),c=yield fy(r.localStore,u);yield $A(r,SR(u),c.targetId,!1),xD(r.remoteStore,c)}for(const i of t)r.na.has(i)&&(yield py(r.localStore,i,!1).then(()=>{Z0(r.remoteStore,i),Ey(r,i)}).catch(Ap))}}),lS.apply(this,arguments)}function cS(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WP.bind(null,e),e.ta.Qo=LP.bind(null,e.eventManager),e.ta.fa=VP.bind(null,e.eventManager),e}function dS(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZP.bind(null,e),e}class MR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.M=W0(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return Xx(this.persistence,new Jx,e.initialUser,this.M)}wa(e){return new gP(dA.zi,this.M)}_a(e){return new uR}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xR extends MR{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield dS(r.ya.syncEngine),yield my(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return Xx(this.persistence,new Jx,e.initialUser,this.M)}ma(e){return new Yk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=iA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?lo.withCacheSize(this.cacheSizeBytes):lo.DEFAULT;return new rA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,cR(),MD(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new uR}}class l1 extends xR{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const i=r.ya.syncEngine;r.sharedClientState instanceof gA&&(r.sharedClientState.syncEngine={Mr:n1.bind(null,i),Or:o1.bind(null,i),Fr:a1.bind(null,i),Fs:s1.bind(null,i),kr:t1.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,_e.Z)(function*(c){yield function r1(n,e){return oS.apply(this,arguments)}(r.ya.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}_a(e){const t=cR();if(!gA.vt(t))throw new Re(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=iA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class hS{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>IR(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=JP.bind(null,r.syncEngine),yield NA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new FP}createDatastore(e){const t=W0(e.databaseInfo.databaseId),r=new wP(e.databaseInfo);return new DP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=p=>IR(this.syncEngine,p,0),c=lR.vt()?new lR:new yP,new IP(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,p,y,b){const S=new HP(r,i,u,c,p,y);return b&&(S.ha=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=ze(t);ke("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield gy(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function RR(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ND{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class c1{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new _r,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),i=Number(r);isNaN(i)&&e.Pa(`length string (${r}) is not valid number`);const u=yield e.ba(i);return new BP(JSON.parse(u),t.length+i)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,_e.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class d1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,_e.Z)(function*(u,c){const p=ze(u),y=Rc(p.M)+"/documents",b={documents:c.map(B=>ni(p.M,B))},S=yield p.ho("BatchGetDocuments",y,b),M=new Map;S.forEach(B=>{const G=function L0(n,e){return"found"in e?function(t,r){Tt(!!r.found);const i=Ai(t,r.found.name),u=Je(r.found.updateTime),c=new Ii({mapValue:{fields:r.found.fields}});return Pn.newFoundDocument(i,u,c)}(n,e):"missing"in e?function(t,r){Tt(!!r.missing),Tt(!!r.readTime);const i=Ai(t,r.missing),u=Je(r.readTime);return Pn.newNoDocument(i,u)}(n,e):at()}(p.M,B);M.set(G.key.toString(),G)});const F=[];return c.forEach(B=>{const G=M.get(B.toString());Tt(!!G),F.push(G)}),F}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=Ge.fromPath(i);e.mutations.push(new pD(u,e.precondition(u)))}),yield(r=(0,_e.Z)(function*(i,u){const c=ze(i),p=Rc(c.M)+"/documents",y={writes:u.map(b=>Nc(c.M,b))};yield c.oo("Commit",p,y)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=Dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?kr.updateTime(t):kr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Re(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kr.updateTime(t)}return kr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class h1{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new mA(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,_e.Z)(function*(){const t=new d1(e.datastore),r=e.Ca(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.xa(u)}))}).catch(i=>{e.xa(i)})}))}Ca(e){try{const t=this.updateFunction(e);return!fh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!mD(t)}return!1}}class f1{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ei.UNAUTHENTICATED,this.clientId=Vm.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,_e.Z)(function*(p){ke("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(ke("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=_y(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function NR(n,e){return fS.apply(this,arguments)}function fS(){return fS=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,_e.Z)(function*(u){r.isEqual(u)||(yield eR(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),fS.apply(this,arguments)}function OR(n,e){return pS.apply(this,arguments)}function pS(){return pS=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield gS(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>yR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>yR(e.remoteStore,u)),n.onlineComponents=e}),pS.apply(this,arguments)}function gS(n){return mS.apply(this,arguments)}function mS(){return mS=(0,_e.Z)(function*(n){return n.offlineComponents||(ke("FirestoreClient","Using default OfflineComponentProvider"),yield NR(n,new MR)),n.offlineComponents}),mS.apply(this,arguments)}function OD(n){return yS.apply(this,arguments)}function yS(){return yS=(0,_e.Z)(function*(n){return n.onlineComponents||(ke("FirestoreClient","Using default OnlineComponentProvider"),yield OR(n,new hS)),n.onlineComponents}),yS.apply(this,arguments)}function kR(n){return gS(n).then(e=>e.persistence)}function _S(n){return gS(n).then(e=>e.localStore)}function PR(n){return OD(n).then(e=>e.remoteStore)}function vS(n){return OD(n).then(e=>e.syncEngine)}function by(n){return wS.apply(this,arguments)}function wS(){return wS=(0,_e.Z)(function*(n){const e=yield OD(n),t=e.eventManager;return t.onListen=GP.bind(null,e.syncEngine),t.onUnlisten=qP.bind(null,e.syncEngine),t}),wS.apply(this,arguments)}function FR(n,e,t={}){const r=new _r;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,u,c,p,y){const b=new ND({next:M=>{u.enqueueAndForget(()=>LA(i,S));const F=M.docs.has(c);!F&&M.fromCache?y.reject(new Re(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&p&&"server"===p.source?y.reject(new Re(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new UA(Ju(c.path),b,{includeMetadataChanges:!0,Cu:!0});return PA(i,S)}(yield by(n),n.asyncQueue,e,t,r)})),r.promise}function LR(n,e,t={}){const r=new _r;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,u,c,p,y){const b=new ND({next:M=>{u.enqueueAndForget(()=>LA(i,S)),M.fromCache&&"server"===p.source?y.reject(new Re(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new UA(c,b,{includeMetadataChanges:!0,Cu:!0});return PA(i,S)}(yield by(n),n.asyncQueue,e,t,r)})),r.promise}const VR=new Map;function ES(n,e,t){if(!t)throw new Re(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BR(n,e,t,r){if(!0===e&&!0===r)throw new Re(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function UR(n){if(!Ge.isDocumentKey(n))throw new Re(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jR(n){if(Ge.isDocumentKey(n))throw new Re(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kD(n);throw new Re(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $R(n,e){if(e<=0)throw new Re(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class HR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,BR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Y0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HR({}),this._settingsFrozen=!1,e instanceof Ku?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Re(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(i.options.projectId)}(e))}get app(){if(!this._app)throw new Re(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new qb;switch(t.type){case"gapi":const r=t.client;return Tt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new zb(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Re(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=VR.get(e);t&&(ke("ComponentProvider","Removing Datastore"),VR.delete(e),t.terminate())}(this),Promise.resolve()}}class $n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class ls{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class nl extends ls{constructor(e,t,r){super(e,t,Ju(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Ge(e))}withConverter(e){return new nl(this.firestore,e,this._path)}}function GR(n,e,...t){if(n=(0,qt.m9)(n),ES("collection","path",e),n instanceof Y0){const r=tn.fromString(e,...t);return jR(r),new nl(n,null,r)}{if(!(n instanceof $n||n instanceof nl))throw new Re(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return jR(r),new nl(n.firestore,null,r)}}function PD(n,e,...t){if(n=(0,qt.m9)(n),1===arguments.length&&(e=Vm.R()),ES("doc","path",e),n instanceof Y0){const r=tn.fromString(e,...t);return UR(r),new $n(n,null,new Ge(r))}{if(!(n instanceof $n||n instanceof nl))throw new Re(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return UR(r),new $n(n.firestore,n instanceof nl?n.converter:null,new Ge(r))}}function qR(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),(n instanceof $n||n instanceof nl)&&(e instanceof $n||e instanceof nl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function zR(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),n instanceof ls&&e instanceof ls&&n.firestore===e.firestore&&Zm(n._query,e._query)&&n.converter===e.converter}class C1{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new mA(this,"async_queue_retry"),this.qa=()=>{const t=MD();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=MD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=MD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new _r;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!wp(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,yr("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=kA.createAndSchedule(this,e,t,r,u=>this.ja(u));return this.Fa.push(i),i}Ka(){this.$a&&at()}verifyOperationInProgress(){}Wa(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function bS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class I1{constructor(){this._progressObserver={},this._taskCompletionResolver=new _r,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qn extends Y0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new C1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||WR(this),this._firestoreClient.terminate()}}function $r(n){return n._firestoreClient||WR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function WR(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ux(n._databaseId,u,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var u,p;n._firestoreClient=new f1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function KR(n,e,t){const r=new _r;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield NR(n,t),yield OR(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(u=i).name?u.code===ue.FAILED_PRECONDITION||u.code===ue.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var u})).then(()=>r.promise)}function ZR(n){if(n._initialized||n._terminated)throw new Re(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class kc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rl(vr.fromBase64String(e))}catch(t){throw new Re(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rl(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Mp{constructor(e){this._methodName=e}}class FD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const P1=/^__.*__$/;class F1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new el(e,this.data,this.fieldMask,t,this.fieldTransforms):new vh(e,this.data,t,this.fieldTransforms)}}class YR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new el(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function QR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class LD{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===u&&this.Ya(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new LD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return UD(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(QR(this.Xa)&&P1.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class L1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||W0(e)}ac(e,t,r,i=!1){return new LD({Xa:e,methodName:t,uc:r,path:Or.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function xp(n){const e=n._freezeSettings(),t=W0(n._databaseId);return new L1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VD(n,e,t,r,i,u={}){const c=n.ac(u.merge||u.mergeFields?2:0,e,t,i);TS("Data must be an object, but it was:",c,r);const p=eN(r,c);let y,b;if(u.merge)y=new hh(c.fieldMask),b=c.fieldTransforms;else if(u.mergeFields){const S=[];for(const M of u.mergeFields){const F=AS(e,M,t);if(!c.contains(F))throw new Re(ue.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);nN(S,F)||S.push(F)}y=new hh(S),b=c.fieldTransforms.filter(M=>y.covers(M.field))}else y=null,b=c.fieldTransforms;return new F1(new Ii(p),y,b)}class Q0 extends Mp{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Q0}}function JR(n,e,t){return new LD({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class DS extends Mp{_toFieldTransform(e){return new Xu(e.path,new Sc)}isEqual(e){return e instanceof DS}}class V1 extends Mp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=JR(this,e,!0),r=this.cc.map(u=>Rp(u,t)),i=new As(r);return new Xu(e.path,i)}isEqual(e){return this===e}}class B1 extends Mp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=JR(this,e,!0),r=this.cc.map(u=>Rp(u,t)),i=new eu(r);return new Xu(e.path,i)}isEqual(e){return this===e}}class U1 extends Mp{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new _h(e.M,BT(e.M,this.hc));return new Xu(e.path,t)}isEqual(e){return this===e}}function CS(n,e,t,r){const i=n.ac(1,e,t);TS("Data must be an object, but it was:",i,r);const u=[],c=Ii.empty();bc(r,(y,b)=>{const S=BD(e,y,t);b=(0,qt.m9)(b);const M=i.sc(S);if(b instanceof Q0)u.push(S);else{const F=Rp(b,M);null!=F&&(u.push(S),c.set(S,F))}});const p=new hh(u);return new YR(c,p,i.fieldTransforms)}function IS(n,e,t,r,i,u){const c=n.ac(1,e,t),p=[AS(e,r,t)],y=[i];if(u.length%2!=0)throw new Re(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)p.push(AS(e,u[F])),y.push(u[F+1]);const b=[],S=Ii.empty();for(let F=p.length-1;F>=0;--F)if(!nN(b,p[F])){const B=p[F];let G=y[F];G=(0,qt.m9)(G);const te=c.sc(B);if(G instanceof Q0)b.push(B);else{const we=Rp(G,te);null!=we&&(b.push(B),S.set(B,we))}}const M=new hh(b);return new YR(S,M,c.fieldTransforms)}function XR(n,e,t,r=!1){return Rp(t,n.ac(r?4:3,e))}function Rp(n,e){if(tN(n=(0,qt.m9)(n)))return TS("Unsupported field value:",e,n),eN(n,e);if(n instanceof Mp)return function(t,r){if(!QR(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let p=Rp(c,r.ic(u));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,qt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return BT(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=sr.fromDate(t);return{timestampValue:Ve(r.M,i)}}if(t instanceof sr){const i=new sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ve(r.M,i)}}if(t instanceof FD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rl)return{bytesValue:st(r.M,t._byteString)};if(t instanceof $n){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.rc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zt(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${kD(t)}`)}(n,e)}function eN(n,e){const t={};return v0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bc(n,(r,i)=>{const u=Rp(i,e.tc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function tN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof sr||n instanceof FD||n instanceof rl||n instanceof $n||n instanceof Mp)}function TS(n,e,t){if(!tN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=kD(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function AS(n,e,t){if((e=(0,qt.m9)(e))instanceof kc)return e._internalPath;if("string"==typeof e)return BD(n,e);throw UD("Field path arguments must be of type string or ",n,!1,void 0,t)}const j1=new RegExp("[~\\*/\\[\\]]");function BD(n,e,t){if(e.search(j1)>=0)throw UD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kc(...e.split("."))._internalPath}catch(r){throw UD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function UD(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||c)&&(y+=" (found",u&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new Re(ue.INVALID_ARGUMENT,p+n+y)}function nN(n,e){return n.some(t=>t.isEqual(e))}class J0{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $1 extends J0{data(){return super.data()}}function jD(n,e){return"string"==typeof e?BD(n,e):e instanceof kc?e._internalPath:e._delegate._internalPath}class Np{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pc extends J0{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new X0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class X0 extends Pc{data(e={}){return super.data(e)}}class Th{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Np(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new X0(this._firestore,this._userDataWriter,r.key,r,new Np(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new X0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Np(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new X0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Np(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,b=-1;return 0!==c.type&&(y=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),b=u.indexOf(c.doc.key)),{type:H1(c.type),doc:p,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function H1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function rN(n,e){return n instanceof Pc&&e instanceof Pc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Th&&e instanceof Th&&n._firestore===e._firestore&&zR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function iN(n){if(mp(n)&&0===n.explicitOrderBy.length)throw new Re(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ew{}function Ah(n,...e){for(const t of e)n=t._apply(n);return n}class G1 extends ew{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=xp(e.firestore),r=function(i,u,c,p,y,b,S){let M;if(y.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Re(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){cN(S,b);const B=[];for(const G of S)B.push(lN(p,i,G));M={arrayValue:{values:B}}}else M=lN(p,i,S)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||cN(S,b),M=XR(c,"where",S,"in"===b||"not-in"===b);const F=jr.create(y,b,M);return function(B,G){if(G.S()){const we=Wm(B);if(null!==we&&!we.isEqual(G.field))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${we.toString()}' and '${G.field.toString()}'`);const Ze=S0(B);null!==Ze&&dN(0,G.field,Ze)}const te=function(we,Ze){for(const Ye of we.filters)if(Ze.indexOf(Ye.op)>=0)return Ye.op;return null}(B,function(we){switch(we){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==te)throw new Re(ue.INVALID_ARGUMENT,te===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${te.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new ls(e.firestore,e.converter,function(i,u){const c=i.filters.concat([u]);return new Xa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class z1 extends ew{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Re(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new gp(i,u);return function(p,y){if(null===S0(p)){const b=Wm(p);null!==b&&dN(0,b,y.field)}}(r,c),c}(e._query,this.lc,this._c);return new ls(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new Xa(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class sN extends ew{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new ls(e.firestore,e.converter,PT(e._query,this.wc,this.mc))}}class oN extends ew{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=uN(e,this.type,this.gc,this.yc);return new ls(e.firestore,e.converter,(i=t,new Xa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class aN extends ew{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=uN(e,this.type,this.gc,this.yc);return new ls(e.firestore,e.converter,(i=t,new Xa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function uN(n,e,t,r){if(t[0]=(0,qt.m9)(t[0]),t[0]instanceof J0)return function(i,u,c,p,y){if(!p)throw new Re(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const S of yh(i))if(S.field.isKeyField())b.push(Zu(u,p.key));else{const M=p.data.field(S.field);if(Jb(M))throw new Re(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=S.field.canonicalString();throw new Re(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(M)}return new Qu(b,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=xp(n.firestore);return function(u,c,p,y,b,S){const M=u.explicitOrderBy;if(b.length>M.length)throw new Re(ue.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<b.length;B++){const G=b[B];if(M[B].field.isKeyField()){if("string"!=typeof G)throw new Re(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof G}`);if(!Km(u)&&-1!==G.indexOf("/"))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${G}' contains a slash.`);const te=u.path.child(tn.fromString(G));if(!Ge.isDocumentKey(te))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const we=new Ge(te);F.push(Zu(c,we))}else{const te=XR(p,y,G);F.push(te)}}return new Qu(F,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function lN(n,e,t){if("string"==typeof(t=(0,qt.m9)(t))){if(""===t)throw new Re(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Km(e)&&-1!==t.indexOf("/"))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tn.fromString(t));if(!Ge.isDocumentKey(r))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zu(n,new Ge(r))}if(t instanceof $n)return Zu(n,t._key);throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kD(t)}.`)}function cN(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(ue.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function dN(n,e,t){if(!t.isEqual(e))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class SS{convertValue(e,t="none"){switch(ph(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){const r={};return bc(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new FD(Zn(e.latitude),Zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=w0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bm(e));default:return null}}convertTimestamp(e){const t=Ya(e);return new sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tn.fromString(e);Tt(bx(r));const i=new Ku(r.get(1),r.get(3)),u=new Ge(r.popFirst(5));return i.isEqual(t)||yr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function $D(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class eF extends SS{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}class hN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xp(e)}set(e,t,r){this._verifyNotCommitted();const i=Sh(e,this._firestore),u=$D(i.converter,t,r),c=VD(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,kr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Sh(e,this._firestore);let c;return c="string"==typeof(t=(0,qt.m9)(t))||t instanceof kc?IS(this._dataReader,"WriteBatch.update",u._key,t,r,i):CS(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sh(e,this._firestore);return this._mutations=this._mutations.concat(new Mc(t._key,kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sh(n,e){if((n=(0,qt.m9)(n)).firestore!==e)throw new Re(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Op extends SS{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function fN(n,e,t){n=on(n,$n);const r=on(n.firestore,Qn),i=$D(n.converter,e,t);return Dy(r,[VD(xp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,kr.none())])}function pN(n,e,t,...r){n=on(n,$n);const i=on(n.firestore,Qn),u=xp(i);let c;return c="string"==typeof(e=(0,qt.m9)(e))||e instanceof kc?IS(u,"updateDoc",n._key,e,t,r):CS(u,"updateDoc",n._key,e),Dy(i,[c.toMutation(n._key,kr.exists(!0))])}function gN(n,...e){var t,r,i;n=(0,qt.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||bS(e[c])||(u=e[c],c++);const p={includeMetadataChanges:u.includeMetadataChanges};if(bS(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let y,b,S;if(n instanceof $n)b=on(n.firestore,Qn),S=Ju(n._key.path),y={next:M=>{e[c]&&e[c](MS(b,n,M))},error:e[c+1],complete:e[c+2]};else{const M=on(n,ls);b=on(M.firestore,Qn),S=M._query;const F=new Op(b);y={next:B=>{e[c]&&e[c](new Th(b,F,M,B))},error:e[c+1],complete:e[c+2]},iN(n._query)}return function(M,F,B,G){const te=new ND(G),we=new UA(F,te,B);return M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return PA(yield by(M),we)})),()=>{te.Ia(),M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return LA(yield by(M),we)}))}}($r(b),S,p,y)}function Dy(n,e){return function(t,r){const i=new _r;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function zP(n,e,t){return qA.apply(this,arguments)}(yield vS(t),r,i)})),i.promise}($r(n),e)}function MS(n,e,t){const r=t.docs.get(e._key),i=new Op(n);return new Pc(n,i,e._key,r,new Np(t.hasPendingWrites,t.fromCache),e.converter)}class cF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xp(e)}get(e){const t=Sh(e,this._firestore),r=new eF(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return at();const u=i[0];if(u.isFoundDocument())return new J0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new J0(this._firestore,r,t._key,null,t.converter);throw at()})}set(e,t,r){const i=Sh(e,this._firestore),u=$D(i.converter,t,r),c=VD(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=Sh(e,this._firestore);let c;return c="string"==typeof(t=(0,qt.m9)(t))||t instanceof kc?IS(this._dataReader,"Transaction.update",u._key,t,r,i):CS(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=Sh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sh(e,this._firestore),r=new Op(this._firestore);return super.get(e).then(i=>new Pc(this._firestore,r,t._key,i._document,new Np(!1,!1),t.converter))}}function xS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function yN(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function _N(){if(!function Yb(){return"undefined"!=typeof atob}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){wc=ju.SDK_VERSION,(0,ju._registerComponent)(new Hf.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),u=new Qn(i,new m0(t.getProvider("auth-internal")),new Kb(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,ju.registerVersion)(p0,"3.4.8",n),(0,ju.registerVersion)(p0,"3.4.8","esm2017")}();class tw{constructor(e){this._delegate=e}static fromBase64String(e){return _N(),new tw(rl.fromBase64String(e))}static fromUint8Array(e){return yN(),new tw(rl.fromUint8Array(e))}toBase64(){return _N(),this._delegate.toBase64()}toUint8Array(){return yN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function RS(n){return function vF(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class wF{enableIndexedDbPersistence(e,t){return function A1(n,e){ZR(n=on(n,Qn));const t=$r(n),r=n._freezeSettings(),i=new hS;return KR(t,i,new xR(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function S1(n){ZR(n=on(n,Qn));const e=$r(n),t=n._freezeSettings(),r=new hS;return KR(e,r,new l1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function M1(n){if(n._initialized&&!n._terminated)throw new Re(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _r;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!tu.vt())return Promise.resolve();const i=r+"main";yield tu.delete(i)}),function(r){return t.apply(this,arguments)})(iA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class vN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ku||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Fm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function b1(n,e,t,r={}){var i;const u=(n=on(n,Y0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Fm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=ei.MOCK_USER;else{c=(0,qt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Re(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ei(y)}n._authCredentials=new Lm(new g0(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function R1(n){return function p1(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield kR(n),t=yield PR(n);return e.setNetworkEnabled(!0),function(r){const i=ze(r);return i.fu.delete(0),K0(i)}(t)}))}($r(n=on(n,Qn)))}(this._delegate)}disableNetwork(){return function N1(n){return function g1(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield kR(n),t=yield PR(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(i){const u=ze(i);u.fu.add(0),yield gy(u),u.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}($r(n=on(n,Qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,BR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function x1(n){return function(e){const t=new _r;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function YP(n,e){return YA.apply(this,arguments)}(yield vS(e),t)})),t.promise}($r(n=on(n,Qn)))}(this._delegate)}onSnapshotsInSync(e){return function lF(n,e){return function _1(n,e){const t=new ND(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield by(n),i=t,ze(r).Eu.add(i),void i.next();var r,i})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield by(n),i=t,void ze(r).Eu.delete(i);var r,i}))}}($r(n=on(n,Qn)),bS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Cy(this,GR(this._delegate,e))}catch(t){throw Ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new _a(this,PD(this._delegate,e))}catch(t){throw Ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xs(this,function D1(n,e){if(n=on(n,Y0),ES("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ls(n,null,(t=e,new Xa(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function dF(n,e){return function v1(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const r=yield(i=n,OD(i).then(u=>u.datastore));var i;new h1(n.asyncQueue,r,e,t).run()})),t.promise}($r(n=on(n,Qn)),t=>e(new cF(n,t)))}(this._delegate,t=>e(new wN(this,t)))}batch(){return $r(this._delegate),new EN(new hN(this._delegate,e=>Dy(this._delegate,e)))}loadBundle(e){return function O1(n,e){const t=$r(n=on(n,Qn)),r=new I1;return function w1(n,e,t,r){const i=function(u,c){let p;return p="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,b){if(y instanceof Uint8Array)return RR(y,b);if(y instanceof ArrayBuffer)return RR(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new c1(y,c);var y}(t,W0(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function u1(n,e,t){const r=ze(n);var i;(i=(0,_e.Z)(function*(u,c,p){try{const y=yield c.getMetadata();if(yield function(F,B){const G=ze(F),te=Je(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",we=>G._s.getBundleMetadata(we,B.id)).then(we=>!!we&&we.createTime.compareTo(te)>=0)}(u.localStore,y))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(F=y).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);p._updateProgress(wR(y));const b=new UP(y,u.localStore,c.M);let S=yield c.da();for(;S;){const F=yield b.ku(S);F&&p._updateProgress(F),S=yield c.da()}const M=yield b.complete();return yield Oc(u,M.Fu,void 0),yield function(F,B){const G=ze(F);return G.persistence.runTransaction("Save bundle","readwrite",te=>G._s.saveBundleMetadata(te,B))}(u.localStore,y),p._completeWith(M.progress),Promise.resolve(M.Ou)}catch(y){return Fm("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var F}),function(u,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield vS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function k1(n,e){return function E1(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const i=ze(t);return i.persistence.runTransaction("Get named query","readonly",u=>i._s.getNamedQuery(u,r))}(yield _S(n),e)}))}($r(n=on(n,Qn)),e).then(t=>t?new ls(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xs(this,t):null)}}class HD extends SS{constructor(e){super(),this.firestore=e}convertBytes(e){return new tw(new rl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return _a.forKey(t,this.firestore,null)}}class wN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new HD(e)}get(e){const t=Pp(e);return this._delegate.get(t).then(r=>new nw(this._firestore,new Pc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Pp(e);return r?(xS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Pp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Pp(e);return this._delegate.delete(t),this}}class EN{constructor(e){this._delegate=e}set(e,t,r){const i=Pp(e);return r?(xS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Pp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Pp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new X0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rw(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=kp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new kp(e,new HD(e),t),i.set(t,u)),u}}kp.INSTANCES=new WeakMap;class _a{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new HD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new _a(t,new $n(t._delegate,r,new Ge(e)))}static forKey(e,t,r){return new _a(t,new $n(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Cy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Cy(this.firestore,GR(this._delegate,e))}catch(t){throw Ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,qt.m9)(e))instanceof $n&&qR(this._delegate,e)}set(e,t){t=xS("DocumentReference.set",t);try{return t?fN(this._delegate,e,t):fN(this._delegate,e)}catch(r){throw Ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?pN(this._delegate,e):pN(this._delegate,e,t,...r)}catch(i){throw Ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function aF(n){return Dy(on(n.firestore,Qn),[new Mc(n._key,kr.none())])}(this._delegate)}onSnapshot(...e){const t=bN(e),r=DN(e,i=>new nw(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return gN(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function nF(n){n=on(n,$n);const e=on(n.firestore,Qn),t=$r(e),r=new Op(e);return function m1(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,u,c){try{const p=yield function(y,b){const S=ze(y);return S.persistence.runTransaction("read document","readonly",M=>S.ci.Ls(M,b))}(i,u);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Re(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=_y(p,`Failed to get document '${u} from cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield _S(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Pc(e,r,n._key,i,new Np(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function rF(n){n=on(n,$n);const e=on(n.firestore,Qn);return FR($r(e),n._key,{source:"server"}).then(t=>MS(e,n,t))}(this._delegate):function tF(n){n=on(n,$n);const e=on(n.firestore,Qn);return FR($r(e),n._key).then(t=>MS(e,n,t))}(this._delegate),t.then(r=>new nw(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new _a(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}function Ms(n,e,t){return n.message=n.message.replace(e,t),n}function bN(n){for(const e of n)if("object"==typeof e&&!RS(e))return e;return{}}function DN(n,e){var t,r;let i;return i=RS(n[0])?n[0]:RS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class nw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new _a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return rN(this._delegate,e._delegate)}}class rw extends nw{data(e){const t=this._delegate.data(e);return function DT(n,e){n||at()}(void 0!==t),t}}class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new HD(e)}where(e,t,r){try{return new xs(this.firestore,Ah(this._delegate,function q1(n,e,t){const r=e,i=jD("where",n);return new G1(i,r,t)}(e,t,r)))}catch(i){throw Ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xs(this.firestore,Ah(this._delegate,function W1(n,e="asc"){const t=e,r=jD("orderBy",n);return new z1(r,t)}(e,t)))}catch(r){throw Ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,Ah(this._delegate,function K1(n){return $R("limit",n),new sN("limit",n,"F")}(e)))}catch(t){throw Ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,Ah(this._delegate,function Z1(n){return $R("limitToLast",n),new sN("limitToLast",n,"L")}(e)))}catch(t){throw Ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,Ah(this._delegate,function Y1(...n){return new oN("startAt",n,!0)}(...e)))}catch(t){throw Ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,Ah(this._delegate,function Q1(...n){return new oN("startAfter",n,!1)}(...e)))}catch(t){throw Ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,Ah(this._delegate,function J1(...n){return new aN("endBefore",n,!1)}(...e)))}catch(t){throw Ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,Ah(this._delegate,function X1(...n){return new aN("endAt",n,!0)}(...e)))}catch(t){throw Ms(t,"endAt()","Query.endAt()")}}isEqual(e){return zR(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function sF(n){n=on(n,ls);const e=on(n.firestore,Qn),t=$r(e),r=new Op(e);return function y1(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,u,c){try{const p=yield TD(i,u,!0),y=new DR(u,p.li),b=y.Gu(p.documents),S=y.applyChanges(b,!1);c.resolve(S.snapshot)}catch(p){const y=_y(p,`Failed to execute query '${u} against cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield _S(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Th(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function oF(n){n=on(n,ls);const e=on(n.firestore,Qn),t=$r(e),r=new Op(e);return LR(t,n._query,{source:"server"}).then(i=>new Th(e,r,n,i))}(this._delegate):function iF(n){n=on(n,ls);const e=on(n.firestore,Qn),t=$r(e),r=new Op(e);return iN(n._query),LR(t,n._query).then(i=>new Th(e,r,n,i))}(this._delegate),t.then(r=>new NS(this.firestore,new Th(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=bN(e),r=DN(e,i=>new NS(this.firestore,new Th(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return gN(this._delegate,t,r)}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}class bF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new rw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class NS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new bF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new rw(this._firestore,r))})}isEqual(e){return rN(this._delegate,e._delegate)}}class Cy extends xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new _a(this.firestore,e):null}doc(e){try{return new _a(this.firestore,void 0===e?PD(this._delegate):PD(this._delegate,e))}catch(t){throw Ms(t,"doc()","CollectionReference.doc()")}}add(e){return function uF(n,e){const t=on(n.firestore,Qn),r=PD(n),i=$D(n.converter,e);return Dy(t,[VD(xp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new _a(this.firestore,t))}isEqual(e){return qR(this._delegate,e._delegate)}withConverter(e){return new Cy(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}function Pp(n){return on(n,$n)}class OS{constructor(...e){this._delegate=new kc(...e)}static documentId(){return new OS(Or.keyField().canonicalString())}isEqual(e){return(e=(0,qt.m9)(e))instanceof kc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Fp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function fF(){return new DS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Fp(e)}static delete(){const e=function hF(){return new Q0("deleteField")}();return e._methodName="FieldValue.delete",new Fp(e)}static arrayUnion(...e){const t=function pF(...n){return new V1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Fp(t)}static arrayRemove(...e){const t=function gF(...n){return new B1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Fp(t)}static increment(e){const t=function mF(n){return new U1("increment",n)}(e);return t._methodName="FieldValue.increment",new Fp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const DF={Firestore:vN,GeoPoint:FD,Timestamp:sr,Blob:tw,Transaction:wN,WriteBatch:EN,DocumentReference:_a,DocumentSnapshot:nw,Query:xs,QueryDocumentSnapshot:rw,QuerySnapshot:NS,CollectionReference:Cy,FieldPath:OS,FieldValue:Fp,setLogLevel:function EF(n){!function ch(n){Za.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function IF(n){(function CF(n,e){n.INTERNAL.registerComponent(new Hf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},DF)))})(n,(e,t)=>new vN(e,t,new wF)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(ZE.Z);var GD=k(5363),TF=k(6063);class AF extends ir.x{constructor(e=1/0,t=1/0,r=TF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)p=y;p&&r.splice(0,p+1)}}}var SF=k(3099);function CN(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,SF.B)({connector:()=>new AF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function IN(n,e){return(0,fi.m)(e)?kn(()=>n,e):kn(()=>n)}var kS=k(9468);k(5867);const AN=new Map,OF={activated:!1,tokenObservers:[]},kF={initialized:!1,enabled:!1};function xi(n){return AN.get(n)||OF}function nu(n,e){AN.set(n,e)}function zD(){return kF}class BF{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new qt.BH,yield function UF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new qt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Rs=new qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function MN(n){if(!xi(n).activated)throw Rs.create("use-before-activation",{appName:n.name})}function VS(n,e){return BS.apply(this,arguments)}function BS(){return BS=(0,_e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,p;try{c=yield fetch(n,u)}catch(M){throw Rs.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==c.status)throw Rs.create("fetch-status-error",{httpStatus:c.status});try{p=yield c.json()}catch(M){throw Rs.create("fetch-parse-error",{originalErrorMessage:M.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Rs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const b=1e3*Number(y[1]),S=Date.now();return{token:p.attestationToken,expireTimeMillis:S+b,issuedAtTimeMillis:S}}),BS.apply(this,arguments)}function qF(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const iw="firebase-app-check-store";let ZD=null;function RN(){return ZD||(ZD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Rs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(iw,{keyPath:"compositeKey"})}}catch(t){e(Rs.create("storage-open",{originalErrorMessage:t.message}))}}),ZD)}function US(){return US=(0,_e.Z)(function*(n,e){const r=(yield RN()).transaction(iw,"readwrite"),u=r.objectStore(iw).put({compositeKey:n,value:e});return new Promise((c,p)=>{u.onsuccess=y=>{c()},r.onerror=y=>{var b;p(Rs.create("storage-set",{originalErrorMessage:null===(b=y.target.error)||void 0===b?void 0:b.message}))}})}),US.apply(this,arguments)}const sw=new Ha.Yd("@firebase/app-check");function PN(n,e){return(0,qt.hl)()?function ZF(n,e){return function NN(n,e){return US.apply(this,arguments)}(function kN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{sw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function FN(){return zD().enabled}function LN(){return GS.apply(this,arguments)}function GS(){return GS=(0,_e.Z)(function*(){const n=zD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),GS.apply(this,arguments)}const tL={error:"UNKNOWN_ERROR"};function nL(n){return qt.US.encodeString(JSON.stringify(n),!1)}function YD(n){return qS.apply(this,arguments)}function qS(){return qS=(0,_e.Z)(function*(n,e=!1){const t=n.app;MN(t);const r=xi(t);let u,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&QD(y)&&(i=y)}if(!e&&i&&QD(i))return{token:i.token};let p,c=!1;if(FN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=VS(qF(t,yield LN()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const y=yield r.exchangeTokenPromise;return yield PN(t,y),nu(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),c=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?sw.warn(y.message):sw.error(y),u=y}return i?(p={token:i.token},nu(t,Object.assign(Object.assign({},r),{token:i})),yield PN(t,i)):p=iL(u),c&&BN(t,p),p}),qS.apply(this,arguments)}function WS(n,e){const t=xi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),nu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function VN(n){const{app:e}=n,t=xi(e);let r=t.tokenRefresher;r||(r=function rL(n){const{app:e}=n;return new BF((0,_e.Z)(function*(){let r;if(r=xi(e).token?yield YD(n,!0):yield YD(n),r.error)throw r.error}),()=>!0,()=>{const t=xi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),nu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function BN(n,e){const t=xi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function QD(n){return n.expireTimeMillis-Date.now()>0}function iL(n){return{token:nL(tL),error:n}}class sL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=xi(this.app);for(const t of e)WS(this.app,t.next);return Promise.resolve()}}const WN="app-check-internal";!function vL(){(0,ju._registerComponent)(new Hf.wA("app-check",n=>function oL(n,e){return new sL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(WN).initialize()})),(0,ju._registerComponent)(new Hf.wA(WN,n=>function aL(n){return{getToken:e=>YD(n,e),addTokenListener:e=>function zS(n,e,t,r){const{app:i}=n,u=xi(i),c={next:t,error:r,type:e};if(nu(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,c]})),u.token&&QD(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),VN(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>VN(n))}(n,"INTERNAL",e),removeTokenListener:e=>WS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ju.registerVersion)("@firebase/app-check","0.5.6")}();class QS{constructor(){return(0,gr.vb)("app-check")}}"undefined"!=typeof window&&window;var CL=k(127);const ZN=new h.OlP("angularfire2.auth.use-emulator"),YN=new h.OlP("angularfire2.auth.settings"),QN=new h.OlP("angularfire2.auth.tenant-id"),JN=new h.OlP("angularfire2.auth.langugage-code"),XN=new h.OlP("angularfire2.auth.use-device-language"),eO=new h.OlP("angularfire.auth.persistence"),tO=(n,e,t,r,i,u,c,p)=>(0,Ts.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),c)for(const[b,S]of Object.entries(c))y.settings[b]=S;return p&&y.setPersistence(p),y},[t,r,i,u,c,p]);let nO=(()=>{class n{constructor(t,r,i,u,c,p,y,b,S,M,F,B){const G=new ir.x,te=yt(void 0).pipe((0,GD.Q)(c.outsideAngular),kn(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,820)))),(0,Rt.U)(()=>(0,Ts.on)(t,u,r)),(0,Rt.U)(we=>tO(we,u,p,b,S,M,y,F)),CN({bufferSize:1,refCount:!1}));if(fr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=yt(null);else{te.pipe(Xs()).subscribe();const Ze=te.pipe(kn(et=>et.getRedirectResult().then(_t=>_t,()=>null)),gr.iC,CN({bufferSize:1,refCount:!1})),Ye=te.pipe(kn(et=>new Lr.y(_t=>({unsubscribe:u.runOutsideAngular(()=>et.onAuthStateChanged(Ct=>_t.next(Ct),Ct=>_t.error(Ct),()=>_t.complete()))})))),je=te.pipe(kn(et=>new Lr.y(_t=>({unsubscribe:u.runOutsideAngular(()=>et.onIdTokenChanged(Ct=>_t.next(Ct),Ct=>_t.error(Ct),()=>_t.complete()))}))));this.authState=Ze.pipe(IN(Ye),(0,kS.R)(c.outsideAngular),(0,GD.Q)(c.insideAngular)),this.user=Ze.pipe(IN(je),(0,kS.R)(c.outsideAngular),(0,GD.Q)(c.insideAngular)),this.idToken=this.user.pipe(kn(et=>et?(0,Nn.D)(et.getIdToken()):yt(null))),this.idTokenResult=this.user.pipe(kn(et=>et?(0,Nn.D)(et.getIdTokenResult()):yt(null))),this.credential=(0,J_.T)(Ze,G,this.authState.pipe(Ji(et=>!et))).pipe((0,Rt.U)(et=>(null==et?void 0:et.user)?et:null),(0,kS.R)(c.outsideAngular),(0,GD.Q)(c.insideAngular))}return(0,Ts.pX)(this,te,u,{spy:{apply:(we,Ze,Ye)=>{(we.startsWith("signIn")||we.startsWith("createUser"))&&Ye.then(je=>G.next(je))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ts.Dh),h.LFG(Ts.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(gr.HU),h.LFG(ZN,8),h.LFG(YN,8),h.LFG(QN,8),h.LFG(JN,8),h.LFG(XN,8),h.LFG(eO,8),h.LFG(QS,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function rO(n,e){return function TL(n,e=zE.z){return new Lr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function XS(n,e){return rO(n,e).pipe((0,Rt.U)(t=>({payload:t,type:"query"})))}function XD(n,e){return XS(n,e).pipe(Bi(void 0),_v(),(0,Rt.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const y=i.find(S=>S.doc.ref.isEqual(c.ref)),b=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),u}))}function iO(n,e,t){return XD(n,t).pipe(Sr((r,i)=>function SL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function ML(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return eM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return eM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return eM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function WE(n,e=di.y){return n=null!=n?n:KE,(0,Vr.e)((t,r)=>{let i,u=!0;t.subscribe((0,Un.x)(r,c=>{const p=e(c);(u||!n(i,p))&&(u=!1,i=p,r.next(c))}))})}(),(0,Rt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function eM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function sO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class oO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=XD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Rt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Bi(void 0),_v(),Ji(([r,i])=>i.length>0||!r),(0,Rt.U)(([r,i])=>i),gr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=sO(e);return iO(this.query,t,this.afs.schedulers.outsideAngular).pipe(gr.iC)}valueChanges(e={}){return XS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),gr.iC)}get(e){return(0,Nn.D)(this.query.get(e)).pipe(gr.iC)}add(e){return this.ref.add(e)}doc(e){return new aO(this.ref.doc(e),this.afs)}}class aO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=cO(r,t);return new oO(i,u,this.afs)}snapshotChanges(){return function AL(n,e){return rO(n,e).pipe(Bi(void 0),_v(),(0,Rt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Rt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Nn.D)(this.ref.get(e)).pipe(gr.iC)}}class xL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?XD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ji(t=>t.length>0),gr.iC):XD(this.query,this.afs.schedulers.outsideAngular).pipe(gr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=sO(e);return iO(this.query,t,this.afs.schedulers.outsideAngular).pipe(gr.iC)}valueChanges(e={}){return XS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),gr.iC)}get(e){return(0,Nn.D)(this.query.get(e)).pipe(gr.iC)}}const uO=new h.OlP("angularfire2.enableFirestorePersistence"),lO=new h.OlP("angularfire2.firestore.persistenceSettings"),RL=new h.OlP("angularfire2.firestore.settings"),NL=new h.OlP("angularfire2.firestore.use-emulator");function cO(n,e=(t=>t)){return{query:e(n),ref:n}}let tM=(()=>{class n{constructor(t,r,i,u,c,p,y,b,S,M,F,B,G,te,we,Ze,Ye){this.schedulers=y;const je=(0,Ts.on)(t,p,r),et=S;M&&tO(je,p,F,G,te,we,B,Ze),[this.firestore,this.persistenceEnabled$]=(0,Ts.cc)(`${je.name}.firestore`,"AngularFirestore",je.name,()=>{const _t=p.runOutsideAngular(()=>je.firestore());if(u&&_t.settings(u),et&&_t.useEmulator(...et),i&&!fr(c)){const Ct=()=>{try{return(0,Nn.D)(_t.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch($t){return"undefined"!=typeof console&&console.warn($t),yt(!1)}};return[_t,p.runOutsideAngular(Ct)]}return[_t,yt(!1)]},[u,et,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=cO(i,r),p=this.schedulers.ngZone.run(()=>u);return new oO(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new xL(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new aO(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ts.Dh),h.LFG(Ts.xv,8),h.LFG(uO,8),h.LFG(RL,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(gr.HU),h.LFG(lO,8),h.LFG(NL,8),h.LFG(nO,8),h.LFG(ZN,8),h.LFG(YN,8),h.LFG(QN,8),h.LFG(JN,8),h.LFG(XN,8),h.LFG(eO,8),h.LFG(QS,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),dO=(()=>{class n{constructor(){CL.Z.registerVersion("angularfire",gr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:uO,useValue:!0},{provide:lO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[tM]}),n})();const hO=(n,e)=>{if(void 0===e)return n;const t=Object.keys(e);return n.filter(i=>((i,u,c)=>void 0===i.find(p=>u[p]!==c[p]))(t,i,e))};let ow=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("task").add(t)}getAll(t){return this._client.collection("task").valueChanges({idField:"id"}).pipe((0,Rt.U)(r=>hO(r,t)))}remove(t){this._client.doc("task/"+t).delete()}set(t){this._client.doc("task/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(tM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),OL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[ow,{provide:z_,useExisting:ow},{provide:f_,useExisting:ow},{provide:gf,useExisting:ow},{provide:p_,useExisting:ow}],imports:[[dO]]}),n})(),kL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,q_,$E.forRoot(),pv.forRoot(),ha]]}),n})(),PL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr]]}),n})(),fO=(()=>{class n{constructor(t){this._client=t}getAll(t){return this._client.collection("photo").valueChanges({idField:"id"}).pipe((0,Rt.U)(r=>hO(r,t)))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(tM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const pO=new h.OlP("GETS_ALL_PHOTO_DTO");let gO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[fO,{provide:pO,useExisting:fO}],imports:[[dO]]}),n})(),FL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,ha.forChild([{path:"",component:UI}]),qE,OL,kL,gO,Cw]]}),n})();const LL=[{path:"",loadChildren:()=>DC},{path:"add-task",loadChildren:()=>FL}];let VL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[ha.forRoot(LL)],ha]}),n})(),BL=(()=>{class n{constructor(){this.todayDate=(new Date).toDateString()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-date"]],decls:7,vars:1,consts:[[1,"d-flex","align-items-start"],[1,"d-inline-flex","bd-highlight"],[1,"d-inline-flex","p-2","bd-highlight","align-self-center"]],template:function(t,r){1&t&&(h.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h1"),h._uU(4,"TODAY"),h.qZA()(),h.TgZ(5,"div",2),h._uU(6),h.qZA()()()),2&t&&(h.xp6(6),h.hij(" ",r.todayDate," "))},encapsulation:2,changeDetection:0}),n})();function UL(n,e){if(1&n&&(h.TgZ(0,"div",3)(1,"div",4),h._UZ(2,"img",5),h.qZA()()),2&n){const t=e.$implicit;h.xp6(2),h.Q6J("src",t.imageUrl,h.LSH)}}let jL=(()=>{class n{constructor(t){this._getsAllPhotoDto=t,this.photo$=this._getsAllPhotoDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(pO))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-photo"]],decls:4,vars:3,consts:[[1,"container","mt-5"],[1,"row","d-flex","justify-content-center","pt-5"],["class","col-3",4,"ngFor","ngForOf"],[1,"col-3"],[1,"me-2"],[1,"img-fluid",3,"src"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,UL,3,1,"div",2),h.ALo(3,"async"),h.qZA()()),2&t&&(h.xp6(2),h.Q6J("ngForOf",h.lcZ(3,1,r.photo$)))},directives:[rr],pipes:[uu],encapsulation:2,changeDetection:0}),n})(),$L=(()=>{class n{constructor(){this.title="todo-app"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:19,vars:0,consts:[[1,"header"],[1,"container","px-4","text-light"],[1,"row","gx-5"],[1,"col"],[1,"p-3"],["routerLink","/home-page",1,"mb-0"],[1,"container","px-4"],[1,"col","px-3","pt-3"],[1,"p-1"],[1,"container-flex"],[1,"my-4","container"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),h._uU(6,"Awesome ToDo App"),h.qZA()()()()()(),h.TgZ(7,"div",6)(8,"div",2)(9,"div",3)(10,"div",6)(11,"div",2)(12,"div",7),h._UZ(13,"lib-date"),h.qZA()()(),h.TgZ(14,"div",8)(15,"div",9),h._UZ(16,"hr",10),h.qZA()()()()(),h._UZ(17,"router-outlet")(18,"lib-photo"))},directives:[Ed,BL,Gl,jL],styles:[""]}),n})();const mO_firebase={projectId:"todo-app-6c693",appId:"1:792930536963:web:949db58c1ee25b055e0836",storageBucket:"todo-app-6c693.appspot.com",locationId:"europe-west",apiKey:"AIzaSyBbx4rSnlOufistBLrXtV7-RQ1yb_Bm7ik",authDomain:"todo-app-6c693.firebaseapp.com",messagingSenderId:"792930536963"};let HL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr]]}),n})();const rn=!1;function yO(n){return new h.vHH(3e3,rn)}function DV(){return"undefined"!=typeof window&&void 0!==window.document}function nM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Mh(n){switch(n.length){case 0:return new jf;case 1:return n[0];default:return new gv(n)}}function _O(n,e,t,r,i={},u={}){const c=[],p=[];let y=-1,b=null;if(r.forEach(S=>{const M=S.offset,F=M==y,B=F&&b||{};Object.keys(S).forEach(G=>{let te=G,we=S[G];if("offset"!==G)switch(te=e.normalizePropertyName(te,c),we){case"!":we=i[G];break;case Uu:we=u[G];break;default:we=e.normalizeStyleValue(G,te,we,c)}B[te]=we}),F||p.push(B),b=B,y=M}),c.length)throw function hV(n){return new h.vHH(3502,rn)}();return p}function rM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&iM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&iM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&iM(t,"destroy",n)))}}function iM(n,e,t){const r=t.totalTime,u=sM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function sM(n,e,t,r,i="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!c}}function $o(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function vO(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let oM=(n,e)=>!1,wO=(n,e,t)=>[],EO=null;function aM(n){const e=n.parentNode||n.host;return e===EO?null:e}(nM()||"undefined"!=typeof Element)&&(DV()?(EO=(()=>document.documentElement)(),oM=(n,e)=>{for(;e;){if(e===n)return!0;e=aM(e)}return!1}):oM=(n,e)=>n.contains(e),wO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Lp=null,bO=!1;function DO(n){Lp||(Lp=function IV(){return"undefined"!=typeof document?document.body:null}()||{},bO=!!Lp.style&&"WebkitAppearance"in Lp.style);let e=!0;return Lp.style&&!function CV(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Lp.style,!e&&bO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Lp.style)),e}const CO=oM,IO=wO;let TO=(()=>{class n{validateStyleProperty(t){return DO(t)}matchesElement(t,r){return!1}containsElement(t,r){return CO(t,r)}getParentElement(t){return aM(t)}query(t,r,i){return IO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,c,p=[],y){return new jf(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),uM=(()=>{class n{}return n.NOOP=new TO,n})();const lM="ng-enter",tC="ng-leave",nC="ng-trigger",rC=".ng-trigger",SO="ng-animating",cM=".ng-animating";function Vp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:dM(parseFloat(e[1]),e[2])}function dM(n,e){return"s"===e?1e3*n:n}function iC(n,e,t){return n.hasOwnProperty("duration")?n:function SV(n,e,t){let i,u=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(yO()),{duration:0,delay:0,easing:""};i=dM(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(u=dM(parseFloat(y),p[4]));const b=p[5];b&&(c=b)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function GL(){return new h.vHH(3100,rn)}()),p=!0),u<0&&(e.push(function qL(){return new h.vHH(3101,rn)}()),p=!0),p&&e.splice(y,0,yO())}return{duration:i,delay:u,easing:c}}(n,e,t)}function Iy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function xh(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Iy(n,t);return t}function xO(n,e,t){return t?e+":"+t+";":""}function RO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=xO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=xO(0,RV(t),n.style[t]));n.setAttribute("style",e)}function il(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=fM(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),nM()&&RO(n))}function Bp(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=fM(t);n.style[r]=""}),nM()&&RO(n))}function aw(n){return Array.isArray(n)?1==n.length?n[0]:LE(n):n}const hM=new RegExp("{{\\s*(.+?)\\s*}}","g");function NO(n){let e=[];if("string"==typeof n){let t;for(;t=hM.exec(n);)e.push(t[1]);hM.lastIndex=0}return e}function sC(n,e,t){const r=n.toString(),i=r.replace(hM,(u,c)=>{let p=e[c];return e.hasOwnProperty(c)||(t.push(function WL(n){return new h.vHH(3003,rn)}()),p=""),p.toString()});return i==r?n:i}function oC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const xV=/-+([a-z0-9])/g;function fM(n){return n.replace(xV,(...e)=>e[1].toUpperCase())}function RV(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ho(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function KL(n){return new h.vHH(3004,rn)}()}}function OO(n,e){return window.getComputedStyle(n)[e]}function LV(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function VV(n,e,t){if(":"==n[0]){const y=function BV(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function uV(n){return new h.vHH(3016,rn)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function aV(n){return new h.vHH(3015,rn)}()),e;const i=r[1],u=r[2],c=r[3];e.push(kO(i,c));"<"==u[0]&&!("*"==i&&"*"==c)&&e.push(kO(c,i))}(r,t,e)):t.push(n),t}const cC=new Set(["true","1"]),dC=new Set(["false","0"]);function kO(n,e){const t=cC.has(n)||dC.has(n),r=cC.has(e)||dC.has(e);return(i,u)=>{let c="*"==n||n==i,p="*"==e||e==u;return!c&&t&&"boolean"==typeof i&&(c=i?cC.has(n):dC.has(n)),!p&&r&&"boolean"==typeof u&&(p=u?cC.has(e):dC.has(e)),c&&p}}const UV=new RegExp("s*:selfs*,?","g");function pM(n,e,t,r){return new jV(n).build(e,t,r)}class jV{constructor(e){this._driver=e}build(e,t,r){const i=new GV(t);this._resetContextStyleTimingState(i);const u=Ho(this,aw(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),u}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function YL(){return new h.vHH(3006,rn)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,b=y.name;b.toString().split(/\s*,\s*/).forEach(S=>{y.name=S,u.push(this.visitState(y,t))}),y.name=b}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,c.push(y)}else t.errors.push(function QL(){return new h.vHH(3007,rn)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=i||{};r.styles.forEach(p=>{if(hC(p)){const y=p;Object.keys(y).forEach(b=>{NO(y[b]).forEach(S=>{c.hasOwnProperty(S)||u.add(S)})})}}),u.size&&(oC(u.values()),t.errors.push(function JL(n,e){return new h.vHH(3008,rn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ho(this,aw(e.animation),t);return{type:1,matchers:LV(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Up(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ho(this,r,t)),options:Up(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(c=>{t.currentTime=r;const p=Ho(this,c,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:u,options:Up(e.options)}}visitAnimate(e,t){const r=function zV(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return gM(iC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=gM(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=iC(t,e);return gM(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:Wn({});if(5==u.type)i=this.visitKeyframes(u,t);else{let c=e.styles,p=!1;if(!c){p=!0;const b={};r.easing&&(b.easing=r.easing),c=Wn(b)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(c,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Uu?r.push(c):t.errors.push(function XL(n){return new h.vHH(3002,rn)}()):r.push(c)}):r.push(e.styles);let i=!1,u=null;return r.forEach(c=>{if(hC(c)){const p=c,y=p.easing;if(y&&(u=y,delete p.easing),!i)for(let b in p)if(p[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete c[p],void t.unsupportedCSSPropertiesFound.add(p);const y=t.collectedStyles[t.currentQuerySelector],b=y[p];let S=!0;b&&(u!=i&&u>=b.startTime&&i<=b.endTime&&(t.errors.push(function eV(n,e,t,r,i){return new h.vHH(3010,rn)}()),S=!1),u=b.startTime),S&&(y[p]={startTime:u,endTime:i}),t.options&&function MV(n,e,t){const r=e.params||{},i=NO(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function zL(n){return new h.vHH(3001,rn)}())})}(c[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function tV(){return new h.vHH(3011,rn)}()),r;let u=0;const c=[];let p=!1,y=!1,b=0;const S=e.steps.map(Ze=>{const Ye=this._makeStyleAst(Ze,t);let je=null!=Ye.offset?Ye.offset:function qV(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(hC(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(hC(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Ye.styles),et=0;return null!=je&&(u++,et=Ye.offset=je),y=y||et<0||et>1,p=p||et<b,b=et,c.push(et),Ye});y&&t.errors.push(function nV(){return new h.vHH(3012,rn)}()),p&&t.errors.push(function rV(){return new h.vHH(3200,rn)}());const M=e.steps.length;let F=0;u>0&&u<M?t.errors.push(function iV(){return new h.vHH(3202,rn)}()):0==u&&(F=1/(M-1));const B=M-1,G=t.currentTime,te=t.currentAnimateTimings,we=te.duration;return S.forEach((Ze,Ye)=>{const je=F>0?Ye==B?1:F*Ye:c[Ye],et=je*we;t.currentTime=G+te.delay+et,te.duration=et,this._validateStyleAst(Ze,t),Ze.offset=je,r.styles.push(Ze)}),r}visitReference(e,t){return{type:8,animation:Ho(this,aw(e.animation),t),options:Up(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Up(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Up(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function $V(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(UV,"")),n=n.replace(/@\*/g,rC).replace(/@\w+/g,t=>rC+"-"+t.substr(1)).replace(/:animating/g,cM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,$o(t.collectedStyles,t.currentQuerySelector,{});const p=Ho(this,aw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:Up(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function sV(){return new h.vHH(3013,rn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:iC(e.timings,t.errors,!0);return{type:12,animation:Ho(this,aw(e.animation),t),timings:r,options:null}}}class GV{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hC(n){return!Array.isArray(n)&&"object"==typeof n}function Up(n){return n?(n=Iy(n)).params&&(n.params=function HV(n){return n?Iy(n):null}(n.params)):n={},n}function gM(n,e,t){return{duration:n,delay:e,easing:t}}function mM(n,e,t,r,i,u,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:c,subTimeline:p}}class fC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ZV=new RegExp(":enter","g"),QV=new RegExp(":leave","g");function yM(n,e,t,r,i,u={},c={},p,y,b=[]){return(new JV).buildKeyframes(n,e,t,r,i,u,c,p,y,b)}class JV{buildKeyframes(e,t,r,i,u,c,p,y,b,S=[]){b=b||new fC;const M=new _M(e,t,b,i,u,S,[]);M.options=y,M.currentTimeline.setStyles([c],null,M.errors,y),Ho(this,r,M);const F=M.timelines.filter(B=>B.containsAnimation());if(Object.keys(p).length){let B;for(let G=F.length-1;G>=0;G--){const te=F[G];if(te.element===t){B=te;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([p],null,M.errors,y)}return F.length?F.map(B=>B.buildKeyframes()):[mM(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?Vp(r.duration):null,p=null!=r.delay?Vp(r.delay):null;return 0!==c&&e.forEach(y=>{const b=t.appendInstructionToTimeline(y,c,p);u=Math.max(u,b.duration+b.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Ho(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=pC);const c=Vp(u.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Ho(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Vp(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);u&&p.delayNextStep(u),Ho(this,c,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return iC(t.params?sC(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*u),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Vp(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=pC);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((b,S)=>{t.currentQueryIndex=S;const M=t.createSubContext(e.options,b);u&&M.delayNextStep(u),b===t.element&&(y=M.currentTimeline),Ho(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),p=c*(t.currentQueryTotal-1);let y=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const S=t.currentTimeline;y&&S.delayNextStep(y);const M=S.currentTime;Ho(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const pC={};class _M{constructor(e,t,r,i,u,c,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new gC(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Vp(r.duration)),null!=r.delay&&(i.delay=Vp(r.delay));const u=r.params;if(u){let c=i.params;c||(c=this.options.params={}),Object.keys(u).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=sC(u[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new _M(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=pC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new XV(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,c){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(ZV,"."+this._enterClassName)).replace(QV,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),p.push(...b)}return!u&&0==p.length&&c.push(function oV(n){return new h.vHH(3014,rn)}()),p}}class gC{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new gC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Uu,this._currentKeyframe[t]=Uu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const u=i&&i.params||{},c=function eB(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(u=>{t[u]=Uu})):xh(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(p=>{const y=sC(c[p],u,r);this._pendingStyles[p]=y,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:Uu),this._updateStyle(p,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const b=xh(p,!0);Object.keys(b).forEach(S=>{const M=b[S];"!"==M?e.add(S):M==Uu&&t.add(S)}),r||(b.offset=y/this.duration),i.push(b)});const u=e.size?oC(e.values()):[],c=t.size?oC(t.values()):[];if(r){const p=i[0],y=Iy(p);p.offset=0,y.offset=1,i=[p,y]}return mM(this.element,i,u,c,this.duration,this.startTime,this.easing,!1)}}class XV extends gC{constructor(e,t,r,i,u,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,p=t/c,y=xh(e[0],!1);y.offset=0,u.push(y);const b=xh(e[0],!1);b.offset=LO(p),u.push(b);const S=e.length-1;for(let M=1;M<=S;M++){let F=xh(e[M],!1);F.offset=LO((t+F.offset*r)/c),u.push(F)}r=c,t=0,i="",e=u}return mM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function LO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class vM{}class tB extends vM{normalizePropertyName(e,t){return fM(e)}normalizeStyleValue(e,t,r,i){let u="";const c=r.toString().trim();if(nB[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function ZL(n,e){return new h.vHH(3005,rn)}())}return c+u}}const nB=(()=>function rB(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function VO(n,e,t,r,i,u,c,p,y,b,S,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:p,queriedElements:y,preStyleProps:b,postStyleProps:S,totalTime:M,errors:F}}const wM={};class BO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function iB(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],u=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return u?u.buildStyles(t,r):c}build(e,t,r,i,u,c,p,y,b,S){const M=[],F=this.ast.options&&this.ast.options.params||wM,G=this.buildStyles(r,p&&p.params||wM,M),te=y&&y.params||wM,we=this.buildStyles(i,te,M),Ze=new Set,Ye=new Map,je=new Map,et="void"===i,_t={params:Object.assign(Object.assign({},F),te)},Ct=S?[]:yM(e,t,this.ast.animation,u,c,G,we,_t,b,M);let $t=0;if(Ct.forEach(ar=>{$t=Math.max(ar.duration+ar.delay,$t)}),M.length)return VO(t,this._triggerName,r,i,et,G,we,[],[],Ye,je,$t,M);Ct.forEach(ar=>{const ri=ar.element,lw=$o(Ye,ri,{});ar.preStyleProps.forEach(sl=>lw[sl]=!0);const Rh=$o(je,ri,{});ar.postStyleProps.forEach(sl=>Rh[sl]=!0),ri!==t&&Ze.add(ri)});const Jn=oC(Ze.values());return VO(t,this._triggerName,r,i,et,G,we,Ct,Jn,Ye,je,$t)}}class sB{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Iy(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!=c&&(i[u]=c)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const c=u;Object.keys(c).forEach(p=>{let y=c[p];y.length>1&&(y=sC(y,i,t));const b=this.normalizer.normalizePropertyName(p,t);y=this.normalizer.normalizeStyleValue(p,b,y,t),r[b]=y})}}),r}}class aB{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new sB(i.style,i.options&&i.options.params||{},r)}),UO(this.states,"true","1"),UO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new BO(e,i,this.states))}),this.fallbackTransition=function uB(n,e,t){return new BO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function UO(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const lB=new fC;class cB{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],u=pM(this._driver,t,r,[]);if(r.length)throw function fV(n){return new h.vHH(3503,rn)}();this._animations[e]=u}_buildPlayer(e,t,r){const i=e.element,u=_O(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations[e];let c;const p=new Map;if(u?(c=yM(this._driver,t,u,lM,tC,{},{},r,lB,i),c.forEach(S=>{const M=$o(p,S.element,{});S.postStyleProps.forEach(F=>M[F]=null)})):(i.push(function pV(){return new h.vHH(3300,rn)}()),c=[]),i.length)throw function gV(n){return new h.vHH(3504,rn)}();p.forEach((S,M)=>{Object.keys(S).forEach(F=>{S[F]=this._driver.computeStyle(M,F,Uu)})});const b=Mh(c.map(S=>{const M=p.get(S.element);return this._buildPlayer(S,{},M)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function mV(n){return new h.vHH(3301,rn)}();return t}listen(e,t,r,i){const u=sM(t,"","","");return rM(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const jO="ng-animate-queued",EM="ng-animate-disabled",gB=[],$O={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},va="__ng_removed";class bM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function wB(n){return null!=n?n:null}(r?e.value:e),r){const u=Iy(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const uw="void",DM=new bM(uw);class yB{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function yV(n,e){return new h.vHH(3302,rn)}();if(null==r||0==r.length)throw function _V(n){return new h.vHH(3303,rn)}();if(!function EB(n){return"start"==n||"done"==n}(r))throw function vV(n,e){return new h.vHH(3400,rn)}();const u=$o(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};u.push(c);const p=$o(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(wa(e,nC),wa(e,nC+"-"+t),p[t]=DM),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(c);y>=0&&u.splice(y,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function wV(n){return new h.vHH(3401,rn)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),c=new CM(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(wa(e,nC),wa(e,nC+"-"+t),this._engine.statesByElement.set(e,p={}));let y=p[t];const b=new bM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&b.absorbOptions(y.options),p[t]=b,y||(y=DM),b.value!==uw&&y.value===b.value){if(!function CB(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(y.params,b.params)){const te=[],we=u.matchStyles(y.value,y.params,te),Ze=u.matchStyles(b.value,b.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{Bp(e,we),il(e,Ze)})}return}const F=$o(this._engine.playersByElement,e,[]);F.forEach(te=>{te.namespaceId==this.id&&te.triggerName==t&&te.queued&&te.destroy()});let B=u.matchTransition(y.value,b.value,e,b.params),G=!1;if(!B){if(!i)return;B=u.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:y,toState:b,player:c,isFallbackTransition:G}),G||(wa(e,jO),c.onStart(()=>{Ty(e,jO)})),c.onDone(()=>{let te=this.players.indexOf(c);te>=0&&this.players.splice(te,1);const we=this._engine.playersByElement.get(e);if(we){let Ze=we.indexOf(c);Ze>=0&&we.splice(Ze,1)}}),this.players.push(c),F.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,rC,!0);r.forEach(i=>{if(i[va])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const p=[];if(Object.keys(u).forEach(y=>{if(c.set(y,u[y].value),this._triggers[y]){const b=this.trigger(e,y,uw,i);b&&p.push(b)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Mh(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const c=u.name;if(i.has(c))return;i.add(c);const y=this._triggers[c].fallbackTransition,b=r[c]||DM,S=new bM(uw),M=new CM(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:y,fromState:b,toState:S,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[va];(!u||u===$O)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){wa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(p=>{if(p.name==r.triggerName){const y=sM(u,r.triggerName,r.fromState.value,r.toState.value);y._data=e,rM(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class _B{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new yB(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,u=r.length-1;if(u>=0){let c=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const b=r.indexOf(y);r.splice(b+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}}else for(let p=u;p>=0;p--)if(this.driver.containsElement(r[p].hostElement,t)){r.splice(p+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let u=0;u<i.length;u++){const c=r[i[u]].namespaceId;if(c){const p=this._fetchNamespace(c);p&&t.add(p)}}}return t}trigger(e,t,r,i){if(mC(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!mC(t))return;const u=t[va];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wa(e,EM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ty(e,EM))}removeNode(e,t,r,i){if(mC(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[va]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return mC(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,rC,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,cM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Mh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[va];if(r&&r.setForRemoval){if(e[va]=$O,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(EM))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)wa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Mh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function EV(n){return new h.vHH(3402,rn)}()}_flushAnimations(e,t){const r=new fC,i=[],u=new Map,c=[],p=new Map,y=new Map,b=new Map,S=new Set;this.disabledNodes.forEach(ut=>{S.add(ut);const mt=this.driver.query(ut,".ng-animate-queued",!0);for(let At=0;At<mt.length;At++)S.add(mt[At])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=qO(F,this.collectedEnterElements),G=new Map;let te=0;B.forEach((ut,mt)=>{const At=lM+te++;G.set(mt,At),ut.forEach(hn=>wa(hn,At))});const we=[],Ze=new Set,Ye=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const mt=this.collectedLeaveElements[ut],At=mt[va];At&&At.setForRemoval&&(we.push(mt),Ze.add(mt),At.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(hn=>Ze.add(hn)):Ye.add(mt))}const je=new Map,et=qO(F,Array.from(Ze));et.forEach((ut,mt)=>{const At=tC+te++;je.set(mt,At),ut.forEach(hn=>wa(hn,At))}),e.push(()=>{B.forEach((ut,mt)=>{const At=G.get(mt);ut.forEach(hn=>Ty(hn,At))}),et.forEach((ut,mt)=>{const At=je.get(mt);ut.forEach(hn=>Ty(hn,At))}),we.forEach(ut=>{this.processLeaveNode(ut)})});const _t=[],Ct=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(t).forEach(At=>{const hn=At.player,Ri=At.element;if(_t.push(hn),this.collectedEnterElements.length){const Ns=Ri[va];if(Ns&&Ns.setForMove){if(Ns.previousTriggersValues&&Ns.previousTriggersValues.has(At.triggerName)){const jp=Ns.previousTriggersValues.get(At.triggerName),Oh=this.statesByElement.get(At.element);Oh&&Oh[At.triggerName]&&(Oh[At.triggerName].value=jp)}return void hn.destroy()}}const ol=!M||!this.driver.containsElement(M,Ri),Go=je.get(Ri),Nh=G.get(Ri),ur=this._buildInstruction(At,r,Nh,Go,ol);if(ur.errors&&ur.errors.length)return void Ct.push(ur);if(ol)return hn.onStart(()=>Bp(Ri,ur.fromStyles)),hn.onDestroy(()=>il(Ri,ur.toStyles)),void i.push(hn);if(At.isFallbackTransition)return hn.onStart(()=>Bp(Ri,ur.fromStyles)),hn.onDestroy(()=>il(Ri,ur.toStyles)),void i.push(hn);const tk=[];ur.timelines.forEach(Ns=>{Ns.stretchStartingKeyframe=!0,this.disabledNodes.has(Ns.element)||tk.push(Ns)}),ur.timelines=tk,r.append(Ri,ur.timelines),c.push({instruction:ur,player:hn,element:Ri}),ur.queriedElements.forEach(Ns=>$o(p,Ns,[]).push(hn)),ur.preStyleProps.forEach((Ns,jp)=>{const Oh=Object.keys(Ns);if(Oh.length){let $p=y.get(jp);$p||y.set(jp,$p=new Set),Oh.forEach(TM=>$p.add(TM))}}),ur.postStyleProps.forEach((Ns,jp)=>{const Oh=Object.keys(Ns);let $p=b.get(jp);$p||b.set(jp,$p=new Set),Oh.forEach(TM=>$p.add(TM))})});if(Ct.length){const ut=[];Ct.forEach(mt=>{ut.push(function bV(n,e){return new h.vHH(3505,rn)}())}),_t.forEach(mt=>mt.destroy()),this.reportError(ut)}const $t=new Map,Jn=new Map;c.forEach(ut=>{const mt=ut.element;r.has(mt)&&(Jn.set(mt,mt),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,$t))}),i.forEach(ut=>{const mt=ut.element;this._getPreviousPlayers(mt,!1,ut.namespaceId,ut.triggerName,null).forEach(hn=>{$o($t,mt,[]).push(hn),hn.destroy()})});const ar=we.filter(ut=>WO(ut,y,b)),ri=new Map;GO(ri,this.driver,Ye,b,Uu).forEach(ut=>{WO(ut,y,b)&&ar.push(ut)});const Rh=new Map;B.forEach((ut,mt)=>{GO(Rh,this.driver,new Set(ut),y,"!")}),ar.forEach(ut=>{const mt=ri.get(ut),At=Rh.get(ut);ri.set(ut,Object.assign(Object.assign({},mt),At))});const sl=[],cw=[],dw={};c.forEach(ut=>{const{element:mt,player:At,instruction:hn}=ut;if(r.has(mt)){if(S.has(mt))return At.onDestroy(()=>il(mt,hn.toStyles)),At.disabled=!0,At.overrideTotalTime(hn.totalTime),void i.push(At);let Ri=dw;if(Jn.size>1){let Go=mt;const Nh=[];for(;Go=Go.parentNode;){const ur=Jn.get(Go);if(ur){Ri=ur;break}Nh.push(Go)}Nh.forEach(ur=>Jn.set(ur,Ri))}const ol=this._buildAnimation(At.namespaceId,hn,$t,u,Rh,ri);if(At.setRealPlayer(ol),Ri===dw)sl.push(At);else{const Go=this.playersByElement.get(Ri);Go&&Go.length&&(At.parentPlayer=Mh(Go)),i.push(At)}}else Bp(mt,hn.fromStyles),At.onDestroy(()=>il(mt,hn.toStyles)),cw.push(At),S.has(mt)&&i.push(At)}),cw.forEach(ut=>{const mt=u.get(ut.element);if(mt&&mt.length){const At=Mh(mt);ut.setRealPlayer(At)}}),i.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<we.length;ut++){const mt=we[ut],At=mt[va];if(Ty(mt,tC),At&&At.hasAnimation)continue;let hn=[];if(p.size){let ol=p.get(mt);ol&&ol.length&&hn.push(...ol);let Go=this.driver.query(mt,cM,!0);for(let Nh=0;Nh<Go.length;Nh++){let ur=p.get(Go[Nh]);ur&&ur.length&&hn.push(...ur)}}const Ri=hn.filter(ol=>!ol.destroyed);Ri.length?bB(this,mt,Ri):this.processLeaveNode(mt)}return we.length=0,sl.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const mt=this.players.indexOf(ut);this.players.splice(mt,1)}),ut.play()}),sl}elementContainsData(e,t){let r=!1;const i=t[va];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const y=!u||u==uw;p.forEach(b=>{b.queued||!y&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const b=y.element,S=b!==u,M=$o(r,b,[]);this._getPreviousPlayers(b,S,c,p,t.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),M.push(B)})}Bp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,c){const p=t.triggerName,y=t.element,b=[],S=new Set,M=new Set,F=t.timelines.map(G=>{const te=G.element;S.add(te);const we=te[va];if(we&&we.removedBeforeQueried)return new jf(G.duration,G.delay);const Ze=te!==y,Ye=function DB(n){const e=[];return zO(n,e),e}((r.get(te)||gB).map($t=>$t.getRealPlayer())).filter($t=>!!$t.element&&$t.element===te),je=u.get(te),et=c.get(te),_t=_O(0,this._normalizer,0,G.keyframes,je,et),Ct=this._buildPlayer(G,_t,Ye);if(G.subTimeline&&i&&M.add(te),Ze){const $t=new CM(e,p,te);$t.setRealPlayer(Ct),b.push($t)}return Ct});b.forEach(G=>{$o(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function vB(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,G.element,G))}),S.forEach(G=>wa(G,SO));const B=Mh(F);return B.onDestroy(()=>{S.forEach(G=>Ty(G,SO)),il(y,t.toStyles)}),M.forEach(G=>{$o(i,G,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new jf(e.duration,e.delay)}}class CM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new jf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>rM(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$o(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function mC(n){return n&&1===n.nodeType}function HO(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function GO(n,e,t,r,i){const u=[];t.forEach(y=>u.push(HO(y)));const c=[];r.forEach((y,b)=>{const S={};y.forEach(M=>{const F=S[M]=e.computeStyle(b,M,i);(!F||0==F.length)&&(b[va]=mB,c.push(b))}),n.set(b,S)});let p=0;return t.forEach(y=>HO(y,u[p++])),c}function qO(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),u=new Map;function c(p){if(!p)return 1;let y=u.get(p);if(y)return y;const b=p.parentNode;return y=t.has(b)?b:i.has(b)?1:c(b),u.set(p,y),y}return e.forEach(p=>{const y=c(p);1!==y&&t.get(y).push(p)}),t}function wa(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Ty(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function bB(n,e,t){Mh(t).onDone(()=>n.processLeaveNode(e))}function zO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof gv?zO(r.players,e):e.push(r)}}function WO(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class yC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new _B(e,t,r),this._timelineEngine=new cB(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const c=e+"-"+i;let p=this._triggerCache[c];if(!p){const y=[],S=pM(this._driver,u,y,[]);if(y.length)throw function dV(n,e){return new h.vHH(3404,rn)}();p=function oB(n,e,t){return new aB(n,e,t)}(i,S,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,c]=vO(r);this._timelineEngine.command(u,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[c,p]=vO(r);return this._timelineEngine.listen(c,t,p,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let TB=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&il(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(il(this._element,this._initialStyles),this._endStyles&&(il(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Bp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bp(this._element,this._endStyles),this._endStyles=null),il(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function IM(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];AB(i)&&(e=e||{},e[i]=n[i])}return e}function AB(n){return"display"===n||"position"===n}class KO{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:OO(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class SB{validateStyleProperty(e){return DO(e)}matchesElement(e,t){return!1}containsElement(e,t){return CO(e,t)}getParentElement(e){return aM(e)}query(e,t,r){return IO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,c=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(y.easing=u);const b={},S=c.filter(F=>F instanceof KO);(function NV(n,e){return 0===n||0===e})(r,i)&&S.forEach(F=>{let B=F.currentSnapshot;Object.keys(B).forEach(G=>b[G]=B[G])}),t=function OV(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],c=[];if(r.forEach(p=>{u.hasOwnProperty(p)||c.push(p),u[p]=t[p]}),c.length)for(var i=1;i<e.length;i++){let p=e[i];c.forEach(function(y){p[y]=OO(n,y)})}}return e}(e,t=t.map(F=>xh(F,!1)),b);const M=function IB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=IM(e[0]),e.length>1&&(r=IM(e[e.length-1]))):e&&(t=IM(e)),t||r?new TB(n,t,r):null}(e,t);return new KO(e,t,y,M)}}let MB=(()=>{class n extends Bf{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?LE(t):t;return ZO(this._renderer,null,r,"register",[i]),new xB(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class xB extends class FE{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new RB(this._id,e,t||{},this._renderer)}}class RB{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ZO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function ZO(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const YO="@.disabled";let NB=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,c)=>{const p=null==c?void 0:c.parentNode(u);p&&c.removeChild(p,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(u);return S||(S=new QO("",u,this.engine),this._rendererCache.set(u,S)),S}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=S=>{Array.isArray(S)?S.forEach(y):this.engine.registerTrigger(c,p,t,S.name,S)};return r.data.animation.forEach(y),new OB(this,p,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,p]=u;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(yC),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class QO{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==YO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class OB extends QO{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==YO?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function kB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),c="";return"@"!=u.charAt(0)&&([u,c]=function PB(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let FB=(()=>{class n extends yC{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie),h.LFG(uM),h.LFG(vM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const JO=new h.OlP("AnimationModuleType"),XO=[{provide:Bf,useClass:MB},{provide:vM,useFactory:function LB(){return new tB}},{provide:yC,useClass:FB},{provide:h.FYo,useFactory:function VB(n,e,t){return new NB(n,e,t)},deps:[vn,yC,h.R0b]}],ek=[{provide:uM,useFactory:()=>new SB},{provide:JO,useValue:"BrowserAnimations"},...XO],BB=[{provide:uM,useClass:TO},{provide:JO,useValue:"NoopAnimations"},...XO];let UB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?BB:ek}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:ek,imports:[Qo]}),n})(),jB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[$L]}),n.\u0275inj=h.cJS({providers:[],imports:[[Qo,VL,HL,Ts.hO.initializeApp(mO_firebase),PL,gO,UB,pv.forRoot()]]}),n})();(0,h.G48)(),yl().bootstrapModule(jB).catch(n=>console.error(n))},5867:(dt,Ae,k)=>{k.d(Ae,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=k(9681);(0,h.registerVersion)("firebase","9.6.11","app")},127:(dt,Ae,k)=>{k.d(Ae,{Z:()=>h.Z});var h=k(3942);h.Z.registerVersion("firebase","9.6.11","app-compat")},820:(dt,Ae,k)=>{k.r(Ae);var h=k(5861),Z=k(3942),O=k(2090),ae=k(9681),X=k(655),pe=k(1877),ie=k(4859);const Ne=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),it=new pe.Yd("@firebase/auth");function Qe(_,...f){it.logLevel<=pe.in.ERROR&&it.error(`Auth (${ae.SDK_VERSION}): ${_}`,...f)}function Ie(_,...f){throw $e(_,...f)}function ye(_,...f){return $e(_,...f)}function ve(_,f,m){const w=Object.assign(Object.assign({},Le()),{[f]:m});return new O.LL("auth","Firebase",w).create(f,{appName:_.name})}function He(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ie(_,"argument-error"),ve(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(_,...f){if("string"!=typeof _){const m=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(m,...w)}return he.create(_,...f)}function re(_,f,...m){if(!_)throw $e(f,...m)}function Ke(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Qe(f),new Error(f)}function J(_,f){_||Ke(f)}const oe=new Map;function ne(_){J(_ instanceof Function,"Expected a class definition");let f=oe.get(_);return f?(J(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,oe.set(_,f),f)}function Fe(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function St(){return"http:"===Qt()||"https:"===Qt()}function Qt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Wt{constructor(f,m){this.shortDelay=f,this.longDelay=m,J(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function an(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(St()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xn(_,f){J(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Cn{static initialize(f,m,w){this.fetchImpl=f,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const en={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ni=new Wt(3e4,6e4);function Jt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Kt(_,f,m,w){return lr.apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(_,f,m,w,T={}){return ii(_,T,(0,h.Z)(function*(){let N={},z={};w&&("GET"===f?z=w:N={body:JSON.stringify(w)});const se=(0,O.xO)(Object.assign({key:_.config.apiKey},z)).slice(1),Ue=yield _._getAdditionalHeaders();return Ue["Content-Type"]="application/json",_.languageCode&&(Ue["X-Firebase-Locale"]=_.languageCode),Cn.fetch()(Fr(_,_.config.apiHost,m,se),Object.assign({method:f,headers:Ue,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function ii(_,f,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,h.Z)(function*(_,f,m){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},en),f);try{const T=new cs(_),N=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const z=yield N.json();if("needConfirmation"in z)throw ds(_,"account-exists-with-different-credential",z);if(N.ok&&!("errorMessage"in z))return z;{const se=N.ok?z.errorMessage:z.error.message,[Ue,rt]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw ds(_,"credential-already-in-use",z);if("EMAIL_EXISTS"===Ue)throw ds(_,"email-already-in-use",z);const wt=w[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw ve(_,wt,rt);Ie(_,wt)}}catch(T){if(T instanceof O.ZR)throw T;Ie(_,"network-request-failed")}})).apply(this,arguments)}function Pr(_,f,m,w){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,h.Z)(function*(_,f,m,w,T={}){const N=yield Kt(_,f,m,w,T);return"mfaPendingCredential"in N&&Ie(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Fr(_,f,m,w){const T=`${f}${m}?${w}`;return _.config.emulator?Xn(_.config,T):`${_.config.apiScheme}://${T}`}class cs{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(ye(this.auth,"network-request-failed")),Ni.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ds(_,f,m){const w={appName:_.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const T=ye(_,f,w);return T.customData._tokenResponse=m,T}function Hr(){return(Hr=(0,h.Z)(function*(_,f){return Kt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function er(_,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,h.Z)(function*(_,f){return Kt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function si(_,f){return co.apply(this,arguments)}function co(){return(co=(0,h.Z)(function*(_,f){return Kt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function _n(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Ea(){return(Ea=(0,h.Z)(function*(_,f=!1){const m=(0,O.m9)(_),w=yield m.getIdToken(f),T=lt(w);re(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,z=null==N?void 0:N.sign_in_provider;return{claims:T,token:w,authTime:_n(Zt(T.auth_time)),issuedAtTime:_n(Zt(T.iat)),expirationTime:_n(Zt(T.exp)),signInProvider:z||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Zt(_){return 1e3*Number(_)}function lt(_){const[f,m,w]=_.split(".");if(void 0===f||void 0===m||void 0===w)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(m);return T?JSON.parse(T):(Qe("Failed to decode base64 JWT payload"),null)}catch(T){return Qe("Caught error parsing JWT payload as JSON",T),null}}function cr(_,f){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,h.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(w){throw w instanceof O.ZR&&Gt(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function Gt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class ho{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),w)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class wr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=_n(this.lastLoginAt),this.creationTime=_n(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dr(_){return ft.apply(this,arguments)}function ft(){return(ft=(0,h.Z)(function*(_){var f;const m=_.auth,w=yield _.getIdToken(),T=yield cr(_,si(m,{idToken:w}));re(null==T?void 0:T.users.length,m,"internal-error");const N=T.users[0];_._notifyReloadListener(N);const z=(null===(f=N.providerUserInfo)||void 0===f?void 0:f.length)?Te(N.providerUserInfo):[],se=Xe(_.providerData,z),wt=!!_.isAnonymous&&!(_.email&&N.passwordHash||(null==se?void 0:se.length)),ct={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:se,metadata:new wr(N.createdAt,N.lastLoginAt),isAnonymous:wt};Object.assign(_,ct)})).apply(this,arguments)}function jt(){return(jt=(0,h.Z)(function*(_){const f=(0,O.m9)(_);yield dr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Xe(_,f){return[..._.filter(w=>!f.some(T=>T.providerId===w.providerId)),...f]}function Te(_){return _.map(f=>{var{providerId:m}=f,w=(0,X._T)(f,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function pt(){return(pt=(0,h.Z)(function*(_,f){const m=yield ii(_,{},(0,h.Z)(function*(){const w=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:N}=_.config,z=Fr(_,T,"/v1/token",`key=${N}`),se=yield _._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",Cn.fetch()(z,{method:"POST",headers:se,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ht{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){re(f.idToken,"internal-error"),re(void 0!==f.idToken,"internal-error"),re(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function bt(_){const f=lt(_);return re(f,"internal-error"),re(void 0!==f.exp,"internal-error"),re(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var w=this;return(0,h.Z)(function*(){return re(!w.accessToken||w.refreshToken,f,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var w=this;return(0,h.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:z}=yield function tt(_,f){return pt.apply(this,arguments)}(f,m);w.updateTokensAndExpiration(T,N,Number(z))})()}updateTokensAndExpiration(f,m,w){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,m){const{refreshToken:w,accessToken:T,expirationTime:N}=m,z=new Ht;return w&&(re("string"==typeof w,"internal-error",{appName:f}),z.refreshToken=w),T&&(re("string"==typeof T,"internal-error",{appName:f}),z.accessToken=T),N&&(re("number"==typeof N,"internal-error",{appName:f}),z.expirationTime=N),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ht,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function Bt(_,f){re("string"==typeof _||void 0===_,"internal-error",{appName:f})}class j{constructor(f){var{uid:m,auth:w,stsTokenManager:T}=f,N=(0,X._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ho(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new wr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,h.Z)(function*(){const w=yield cr(m,m.stsTokenManager.getToken(m.auth,f));return re(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(f){return function ks(_){return Ea.apply(this,arguments)}(this,f)}reload(){return function Er(_){return jt.apply(this,arguments)}(this)}_assign(f){this!==f&&(re(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new j(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var w=this;return(0,h.Z)(function*(){let T=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),T=!0),m&&(yield dr(w)),yield w.auth._persistUserIfCurrent(w),T&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,h.Z)(function*(){const m=yield f.getIdToken();return yield cr(f,function ht(_,f){return Hr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var w,T,N,z,se,Ue,rt,wt;const ct=null!==(w=m.displayName)&&void 0!==w?w:void 0,Sn=null!==(T=m.email)&&void 0!==T?T:void 0,is=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,Yl=null!==(z=m.photoURL)&&void 0!==z?z:void 0,Pu=null!==(se=m.tenantId)&&void 0!==se?se:void 0,Fu=null!==(Ue=m._redirectEventId)&&void 0!==Ue?Ue:void 0,hf=null!==(rt=m.createdAt)&&void 0!==rt?rt:void 0,n_=null!==(wt=m.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:da,emailVerified:_d,isAnonymous:vd,providerData:ff,stsTokenManager:wd}=m;re(da&&wd,f,"internal-error");const Gi=Ht.fromJSON(this.name,wd);re("string"==typeof da,f,"internal-error"),Bt(ct,f.name),Bt(Sn,f.name),re("boolean"==typeof _d,f,"internal-error"),re("boolean"==typeof vd,f,"internal-error"),Bt(is,f.name),Bt(Yl,f.name),Bt(Pu,f.name),Bt(Fu,f.name),Bt(hf,f.name),Bt(n_,f.name);const pf=new j({uid:da,auth:f,email:Sn,emailVerified:_d,displayName:ct,isAnonymous:vd,photoURL:Yl,phoneNumber:is,tenantId:Pu,stsTokenManager:Gi,createdAt:hf,lastLoginAt:n_});return ff&&Array.isArray(ff)&&(pf.providerData=ff.map(mg=>Object.assign({},mg))),Fu&&(pf._redirectEventId=Fu),pf}static _fromIdTokenResponse(f,m,w=!1){return(0,h.Z)(function*(){const T=new Ht;T.updateFromServerResponse(m);const N=new j({uid:m.localId,auth:f,stsTokenManager:T,isAnonymous:w});return yield dr(N),N})()}}const q=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,w){var T=this;return(0,h.Z)(function*(){T.storage[m]=w})()}_get(m){var w=this;return(0,h.Z)(function*(){const T=w.storage[m];return void 0===T?null:T})()}_remove(m){var w=this;return(0,h.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return _.type="NONE",_})();function ce(_,f,m){return`firebase:${_}:${f}:${m}`}class Y{constructor(f,m,w){this.persistence=f,this.auth=m,this.userKey=w;const{config:T,name:N}=this.auth;this.fullUserKey=ce(this.userKey,T.apiKey,N),this.fullPersistenceKey=ce("persistence",T.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?j._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,h.Z)(function*(){if(m.persistence===f)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,w="authUser"){return(0,h.Z)(function*(){if(!m.length)return new Y(ne(q),f,w);const T=(yield Promise.all(m.map(function(){var rt=(0,h.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let N=T[0]||ne(q);const z=ce(w,f.config.apiKey,f.name);let se=null;for(const rt of m)try{const wt=yield rt._get(z);if(wt){const ct=j._fromJSON(f,wt);rt!==N&&(se=ct),N=rt;break}}catch(wt){}const Ue=T.filter(rt=>rt._shouldAllowMigration);return N._shouldAllowMigration&&Ue.length?(N=Ue[0],se&&(yield N._set(z,se.toJSON())),yield Promise.all(m.map(function(){var rt=(0,h.Z)(function*(wt){if(wt!==N)try{yield wt._remove(z)}catch(ct){}});return function(wt){return rt.apply(this,arguments)}}())),new Y(N,f,w)):new Y(N,f,w)})()}}function Be(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Yt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(vt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(kt(f))return"Blackberry";if(fn(f))return"Webos";if(Xt(f))return"Safari";if((f.includes("chrome/")||br(f))&&!f.includes("edge/"))return"Chrome";if(In(f))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function vt(_=(0,O.z$)()){return/firefox\//i.test(_)}function Xt(_=(0,O.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function br(_=(0,O.z$)()){return/crios\//i.test(_)}function Yt(_=(0,O.z$)()){return/iemobile/i.test(_)}function In(_=(0,O.z$)()){return/android/i.test(_)}function kt(_=(0,O.z$)()){return/blackberry/i.test(_)}function fn(_=(0,O.z$)()){return/webos/i.test(_)}function nr(_=(0,O.z$)()){return/iphone|ipad|ipod/i.test(_)}function hs(_=(0,O.z$)()){return nr(_)||In(_)||fn(_)||kt(_)||/windows phone/i.test(_)||Yt(_)}function Da(_,f=[]){let m;switch(_){case"Browser":m=Be((0,O.z$)());break;case"Worker":m=`${Be((0,O.z$)())}-${_}`;break;default:m=_}const w=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${w}`}class oi{constructor(f,m,w){this.app=f,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lt(this),this.idTokenSubscription=new Lt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,m){var w=this;return m&&(this._popupRedirectResolver=ne(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var T,N;if(!w._deleted&&(w.persistenceManager=yield Y.create(w,f),!w._deleted)){if(null===(T=w._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(z){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(N=w.currentUser)||void 0===N?void 0:N.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m)}})()}initializeCurrentUser(f){var m=this;return(0,h.Z)(function*(){var w;let T=yield m.assertedPersistence.getCurrentUser();if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const N=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,z=null==T?void 0:T._redirectEventId,se=yield m.tryRedirectSignIn(f);(!N||N===z)&&(null==se?void 0:se.user)&&(T=se.user)}return T?T._redirectEventId?(re(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===T._redirectEventId?m.directlySetCurrentUser(T):m.reloadAndSetCurrentUserOrClear(T)):m.reloadAndSetCurrentUserOrClear(T):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var m=this;return(0,h.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(T){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,h.Z)(function*(){try{yield dr(f)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function qe(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){const w=f?(0,O.m9)(f):null;return w&&re(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){if(!m._deleted)return f&&re(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),m.queue((0,h.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(ne(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,m,w){return this.registerStateListener(this.authStateSubscription,f,m,w)}onIdTokenChanged(f,m,w){return this.registerStateListener(this.idTokenSubscription,f,m,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var w=this;return(0,h.Z)(function*(){const T=yield w.getOrInitRedirectPersistenceManager(m);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const w=f&&ne(f)||m._popupRedirectResolver;re(w,m,"argument-error"),m.redirectPersistenceManager=yield Y.create(m,[ne(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,h.Z)(function*(){var w,T;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===f?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,h.Z)(function*(){if(f===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,w,T){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),z=this._isInitialized?Promise.resolve():this._initializationPromise;return re(z,this,"internal-error"),z.then(()=>N(this.currentUser)),"function"==typeof m?f.addObserver(m,w,T):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Da(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var m;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(w["X-Firebase-Client"]=T),w})()}}function Oe(_){return(0,O.m9)(_)}class Lt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hr(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Ln(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class un{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Ke("not implemented")}_getIdTokenResponse(f){return Ke("not implemented")}_linkToIdToken(f,m){return Ke("not implemented")}_getReauthenticationResolver(f){return Ke("not implemented")}}function xn(_,f){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,h.Z)(function*(_,f){return Kt(_,"POST","/v1/accounts:resetPassword",Jt(_,f))})).apply(this,arguments)}function xt(_,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,h.Z)(function*(_,f){return Kt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function fs(_,f){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,h.Z)(function*(_,f){return Kt(_,"POST","/v1/accounts:update",Jt(_,f))})).apply(this,arguments)}function rr(){return(rr=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signInWithPassword",Jt(_,f))})).apply(this,arguments)}function ps(_,f){return gs.apply(this,arguments)}function gs(){return(gs=(0,h.Z)(function*(_,f){return Kt(_,"POST","/v1/accounts:sendOobCode",Jt(_,f))})).apply(this,arguments)}function ai(_,f){return ln.apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(_,f){return ps(_,f)})).apply(this,arguments)}function iu(_,f){return su.apply(this,arguments)}function su(){return(su=(0,h.Z)(function*(_,f){return ps(_,f)})).apply(this,arguments)}function Oi(_,f){return ui.apply(this,arguments)}function ui(){return(ui=(0,h.Z)(function*(_,f){return ps(_,f)})).apply(this,arguments)}function Fc(_,f){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,h.Z)(function*(_,f){return ps(_,f)})).apply(this,arguments)}function Gr(){return(Gr=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signInWithEmailLink",Jt(_,f))})).apply(this,arguments)}function Lc(){return(Lc=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signInWithEmailLink",Jt(_,f))})).apply(this,arguments)}class au extends un{constructor(f,m,w,T=null){super("password",w),this._email=f,this._password=m,this._tenantId=T}static _fromEmailAndPassword(f,m){return new au(f,m,"password")}static _fromEmailAndCode(f,m,w=null){return new au(f,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return function Ls(_,f){return rr.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ou(_,f){return Gr.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ie(f,"internal-error")}})()}_linkToIdToken(f,m){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return xt(f,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function kh(_,f){return Lc.apply(this,arguments)}(f,{idToken:m,email:w._email,oobCode:w._password});default:Ie(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Vn(_,f){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signInWithIdp",Jt(_,f))})).apply(this,arguments)}class ms extends un{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new ms(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ie("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:T}=m,N=(0,X._T)(m,["providerId","signInMethod"]);if(!w||!T)return null;const z=new ms(w,T);return z.idToken=N.idToken||void 0,z.accessToken=N.accessToken||void 0,z.secret=N.secret,z.nonce=N.nonce,z.pendingToken=N.pendingToken||null,z}_getIdTokenResponse(f){return Vn(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,Vn(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Vn(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,O.xO)(m)}return f}}function Gp(_,f){return uu.apply(this,arguments)}function uu(){return(uu=(0,h.Z)(function*(_,f){return Kt(_,"POST","/v1/accounts:sendVerificationCode",Jt(_,f))})).apply(this,arguments)}function Bs(){return(Bs=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signInWithPhoneNumber",Jt(_,f))})).apply(this,arguments)}function Bc(){return(Bc=(0,h.Z)(function*(_,f){const m=yield Pr(_,"POST","/v1/accounts:signInWithPhoneNumber",Jt(_,f));if(m.temporaryProof)throw ds(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const zp={USER_NOT_FOUND:"user-not-found"};function Uc(){return(Uc=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signInWithPhoneNumber",Jt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),zp)})).apply(this,arguments)}class zo extends un{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new zo({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new zo({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function al(_,f){return Bs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function qp(_,f){return Bc.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Wp(_,f){return Uc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:w,verificationCode:T}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:w,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:w,phoneNumber:T,temporaryProof:N}=f;return w||m||T||N?new zo({verificationId:m,verificationCode:w,phoneNumber:T,temporaryProof:N}):null}}class po{constructor(f){var m,w,T,N,z,se;const Ue=(0,O.zd)((0,O.pd)(f)),rt=null!==(m=Ue.apiKey)&&void 0!==m?m:null,wt=null!==(w=Ue.oobCode)&&void 0!==w?w:null,ct=function Ay(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ue.mode)&&void 0!==T?T:null);re(rt&&wt&&ct,"argument-error"),this.apiKey=rt,this.operation=ct,this.code=wt,this.continueUrl=null!==(N=Ue.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(z=Ue.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(se=Ue.tenantId)&&void 0!==se?se:null}static parseLink(f){const m=function lu(_){const f=(0,O.zd)((0,O.pd)(_)).link,m=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,w=(0,O.zd)((0,O.pd)(_)).deep_link_id;return(w?(0,O.zd)((0,O.pd)(w)).link:null)||w||m||f||_}(f);try{return new po(m)}catch(w){return null}}}let ul=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,w){return au._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const T=po.parseLink(w);return re(T,"argument-error"),au._fromEmailAndCode(m,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Us{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class qr extends Us{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Wo extends qr{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return re("providerId"in m&&"signInMethod"in m,"argument-error"),ms._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return re(f.idToken||f.accessToken,"argument-error"),ms._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Wo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Wo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:T,pendingToken:N,nonce:z,providerId:se}=f;if(!w&&!T&&!m&&!N||!se)return null;try{return new Wo(se)._credential({idToken:m,accessToken:w,nonce:z,pendingToken:N})}catch(Ue){return null}}}let go=(()=>{class _ extends qr{constructor(){super("facebook.com")}static credential(m){return ms._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(w){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ia=(()=>{class _ extends qr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return ms._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:T}=m;if(!w&&!T)return null;try{return _.credential(w,T)}catch(N){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),jc=(()=>{class _ extends qr{constructor(){super("github.com")}static credential(m){return ms._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(w){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Dr extends un{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Vn(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,Vn(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Vn(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:T,pendingToken:N}=m;return w&&T&&N&&w===T?new Dr(w,N):null}static _create(f,m){return new Dr(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class li extends Us{constructor(f){re(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return li.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return li.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Dr.fromJSON(f);return re(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:w}=f;if(!m||!w)return null;try{return Dr._create(w,m)}catch(T){return null}}}let cu=(()=>{class _ extends qr{constructor(){super("twitter.com")}static credential(m,w){return ms._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:T}=m;if(!w||!T)return null;try{return _.credential(w,T)}catch(N){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function du(_,f){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signUp",Jt(_,f))})).apply(this,arguments)}class fr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,w,T=!1){return(0,h.Z)(function*(){const N=yield j._fromIdTokenResponse(f,w,T),z=Fh(w);return new fr({user:N,providerId:z,_tokenResponse:w,operationType:m})})()}static _forOperation(f,m,w){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const T=Fh(w);return new fr({user:f,providerId:T,_tokenResponse:w,operationType:m})})()}}function Fh(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function $c(){return($c=(0,h.Z)(function*(_){var f;const m=Oe(_);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new fr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield du(m,{returnSecureToken:!0}),T=yield fr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class fu extends O.ZR{constructor(f,m,w,T){var N;super(m.code,m.message),this.operationType=w,this.user=T,Object.setPrototypeOf(this,fu.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,m,w,T){return new fu(f,m,w,T)}}function pu(_,f,m,w){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?fu._fromErrorAndOperation(_,N,f,w):N})}function ys(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function ll(){return(ll=(0,h.Z)(function*(_,f){const m=(0,O.m9)(_);yield $s(!0,m,f);const{providerUserInfo:w}=yield er(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),T=ys(w||[]);return m.providerData=m.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function mn(_,f){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,h.Z)(function*(_,f,m=!1){const w=yield cr(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return fr._forOperation(_,"link",w)})).apply(this,arguments)}function $s(_,f,m){return cn.apply(this,arguments)}function cn(){return(cn=(0,h.Z)(function*(_,f,m){yield dr(f);const T=!1===_?"provider-already-linked":"no-such-provider";re(ys(f.providerData).has(m)===_,f.auth,T)})).apply(this,arguments)}function Hc(_,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,h.Z)(function*(_,f,m=!1){const{auth:w}=_,T="reauthenticate";try{const N=yield cr(_,pu(w,T,f,_),m);re(N.idToken,w,"internal-error");const z=lt(N.idToken);re(z,w,"internal-error");const{sub:se}=z;return re(_.uid===se,w,"user-mismatch"),fr._forOperation(_,T,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&Ie(w,"user-mismatch"),N}})).apply(this,arguments)}function yo(_,f){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(_,f,m=!1){const w="signIn",T=yield pu(_,w,f),N=yield fr._fromIdTokenResponse(_,w,T);return m||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Rn(_,f){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,h.Z)(function*(_,f){return yo(Oe(_),f)})).apply(this,arguments)}function ki(_,f){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,h.Z)(function*(_,f){const m=(0,O.m9)(_);return yield $s(!1,m,f.providerId),mn(m,f)})).apply(this,arguments)}function Hs(_,f){return _s.apply(this,arguments)}function _s(){return(_s=(0,h.Z)(function*(_,f){return Hc((0,O.m9)(_),f)})).apply(this,arguments)}function gu(_,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signInWithCustomToken",Jt(_,f))})).apply(this,arguments)}function qs(){return(qs=(0,h.Z)(function*(_,f){const m=Oe(_),w=yield gu(m,{token:f,returnSecureToken:!0}),T=yield fr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class gt{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?mu._fromServerResponse(f,m):Ie(f,"internal-error")}}class mu extends gt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new mu(m)}}function Sa(_,f,m){var w;re((null===(w=m.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),re(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(re(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(re(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function _u(){return(_u=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_),T={requestType:"PASSWORD_RESET",email:f};m&&Sa(w,T,m),yield iu(w,T)})).apply(this,arguments)}function cl(){return(cl=(0,h.Z)(function*(_,f,m){yield xn((0,O.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function De(){return(De=(0,h.Z)(function*(_,f){yield fs((0,O.m9)(_),{oobCode:f})})).apply(this,arguments)}function Ut(_,f){return hl.apply(this,arguments)}function hl(){return(hl=(0,h.Z)(function*(_,f){const m=(0,O.m9)(_),w=yield xn(m,{oobCode:f}),T=w.requestType;switch(re(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(w.mfaInfo,m,"internal-error");default:re(w.email,m,"internal-error")}let N=null;return w.mfaInfo&&(N=gt._fromServerResponse(Oe(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function Zo(){return(Zo=(0,h.Z)(function*(_,f){const{data:m}=yield Ut((0,O.m9)(_),f);return m.email})).apply(this,arguments)}function Wr(){return(Wr=(0,h.Z)(function*(_,f,m){const w=Oe(_),T=yield du(w,{returnSecureToken:!0,email:f,password:m}),N=yield fr._fromIdTokenResponse(w,"signIn",T);return yield w._updateCurrentUser(N.user),N})).apply(this,arguments)}function Gc(){return(Gc=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_),T={requestType:"EMAIL_SIGNIN",email:f};re(m.handleCodeInApp,w,"argument-error"),m&&Sa(w,T,m),yield Oi(w,T)})).apply(this,arguments)}function zs(){return(zs=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_),T=ul.credentialWithLink(f,m||Fe());return re(T._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Rn(w,T)})).apply(this,arguments)}function pr(_,f){return ci.apply(this,arguments)}function ci(){return(ci=(0,h.Z)(function*(_,f){return Kt(_,"POST","/v1/accounts:createAuthUri",Jt(_,f))})).apply(this,arguments)}function Ws(){return(Ws=(0,h.Z)(function*(_,f){const w={identifier:f,continueUri:St()?Fe():"http://localhost"},{signinMethods:T}=yield pr((0,O.m9)(_),w);return T||[]})).apply(this,arguments)}function ml(){return(ml=(0,h.Z)(function*(_,f){const m=(0,O.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Sa(m.auth,T,f);const{email:N}=yield ai(m.auth,T);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function Du(){return(Du=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&Sa(w.auth,N,m);const{email:z}=yield Fc(w.auth,N);z!==_.email&&(yield _.reload())})).apply(this,arguments)}function yl(_,f){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,h.Z)(function*(_,f){return Kt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function _l(){return(_l=(0,h.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const w=(0,O.m9)(_),N={idToken:yield w.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},z=yield cr(w,yl(w.auth,N));w.displayName=z.displayName||null,w.photoURL=z.photoUrl||null;const se=w.providerData.find(({providerId:Ue})=>"password"===Ue);se&&(se.displayName=w.displayName,se.photoURL=w.photoURL),yield w._updateTokensIfNecessary(z)})).apply(this,arguments)}function wl(_,f,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(_,f,m){const{auth:w}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),m&&(N.password=m);const z=yield cr(_,xt(w,N));yield _._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class vo{constructor(f,m,w={}){this.isNewUser=f,this.providerId=m,this.profile=w}}class Wc extends vo{constructor(f,m,w,T){super(f,m,w),this.username=T}}class Kc extends vo{constructor(f,m){super(f,"facebook.com",m)}}class wo extends Wc{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Ks extends vo{constructor(f,m){super(f,"google.com",m)}}class El extends Wc{constructor(f,m,w){super(f,"twitter.com",m,w)}}function Ar(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function zc(_){var f,m;if(!_)return null;const{providerId:w}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&(null==_?void 0:_.idToken)){const z=null===(m=null===(f=lt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(z)return new vo(N,"anonymous"!==z&&"custom"!==z?z:null)}if(!w)return null;switch(w){case"facebook.com":return new Kc(N,T);case"github.com":return new wo(N,T);case"google.com":return new Ks(N,T);case"twitter.com":return new El(N,T,_.screenName||null);case"custom":case"anonymous":return new vo(N,null);default:return new vo(N,w,T)}}(m)}class vs{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new vs("enroll",f)}static _fromMfaPendingCredential(f){return new vs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,w;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return vs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(w=f.multiFactorSession)||void 0===w?void 0:w.idToken)return vs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class xa{constructor(f,m,w){this.session=f,this.hints=m,this.signInResolver=w}static _fromError(f,m){const w=Oe(f),T=m.customData._serverResponse,N=(T.mfaInfo||[]).map(se=>gt._fromServerResponse(w,se));re(T.mfaPendingCredential,w,"internal-error");const z=vs._fromMfaPendingCredential(T.mfaPendingCredential);return new xa(z,N,function(){var se=(0,h.Z)(function*(Ue){const rt=yield Ue._process(w,z);delete T.mfaInfo,delete T.mfaPendingCredential;const wt=Object.assign(Object.assign({},T),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(m.operationType){case"signIn":const ct=yield fr._fromIdTokenResponse(w,m.operationType,wt);return yield w._updateCurrentUser(ct.user),ct;case"reauthenticate":return re(m.user,w,"internal-error"),fr._forOperation(m.user,m.operationType,wt);default:Ie(w,"internal-error")}});return function(Ue){return se.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,h.Z)(function*(){return m.signInResolver(f)})()}}function Bn(_,f){return Kt(_,"POST","/v2/accounts/mfaEnrollment:start",Jt(_,f))}class ws{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>gt._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new ws(f)}getSession(){var f=this;return(0,h.Z)(function*(){return vs._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var w=this;return(0,h.Z)(function*(){const T=f,N=yield w.getSession(),z=yield cr(w.user,T._process(w.user.auth,N,m));return yield w.user._updateTokensIfNecessary(z),w.user.reload()})()}unenroll(f){var m=this;return(0,h.Z)(function*(){const w="string"==typeof f?f:f.uid,T=yield m.user.getIdToken(),N=yield cr(m.user,function Zp(_,f){return Kt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(_,f))}(m.user.auth,{idToken:T,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:z})=>z!==w),yield m.user._updateTokensIfNecessary(N);try{yield m.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const Jo=new WeakMap,Cl="__sak";class Eo{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Cl,"1"),this.storage.removeItem(Cl),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const On=(()=>{class _ extends Eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Jc(){const _=(0,O.z$)();return Xt(_)||nr(_)}()&&function Gn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=hs(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const T=this.storage.getItem(w),N=this.localCache[w];T!==N&&m(w,N,T)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((se,Ue,rt)=>{this.notifyListeners(se,rt)});const T=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(T);if(m.newValue!==se)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!w)return}const N=()=>{const se=this.storage.getItem(T);!w&&this.localCache[T]===se||this.notifyListeners(T,se)},z=this.storage.getItem(T);!function ba(){return(0,O.w1)()&&10===document.documentMode}()||z===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,w){this.localCache[m]=w;const T=this.listeners[m];if(T)for(const N of Array.from(T))N(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var T=()=>super._set,N=this;return(0,h.Z)(function*(){yield T().call(N,m,w),N.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,T=this;return(0,h.Z)(function*(){const N=yield w().call(T,m);return T.localCache[m]=JSON.stringify(N),N})()}_remove(m){var w=()=>super._remove,T=this;return(0,h.Z)(function*(){yield w().call(T,m),delete T.localCache[m]})()}}return _.type="LOCAL",_})(),ir=(()=>{class _ extends Eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return _.type="SESSION",_})();let Lr=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(N=>N.isListeningto(m));if(w)return w;const T=new _(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,h.Z)(function*(){const T=m,{eventId:N,eventType:z,data:se}=T.data,Ue=w.handlersMap[z];if(!(null==Ue?void 0:Ue.size))return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:z});const rt=Array.from(Ue).map(function(){var ct=(0,h.Z)(function*(Sn){return Sn(T.origin,se)});return function(Sn){return ct.apply(this,arguments)}}()),wt=yield function Kr(_){return Promise.all(_.map(function(){var f=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return f.apply(this,arguments)}}()))}(rt);T.ports[0].postMessage({status:"done",eventId:N,eventType:z,response:wt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Xo(_="",f=10){let m="";for(let w=0;w<f;w++)m+=Math.floor(10*Math.random());return _+m}class Xc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,w=50){var T=this;return(0,h.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let z,se;return new Promise((Ue,rt)=>{const wt=Xo("",20);N.port1.start();const ct=setTimeout(()=>{rt(new Error("unsupported_event"))},w);se={messageChannel:N,onMessage(Sn){const is=Sn;if(is.data.eventId===wt)switch(is.data.status){case"ack":clearTimeout(ct),z=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Ue(is.data.response);break;default:clearTimeout(ct),clearTimeout(z),rt(new Error("invalid_response"))}}},T.handlers.add(se),N.port1.addEventListener("message",se.onMessage),T.target.postMessage({eventType:f,eventId:wt,data:m},[N.port2])}).finally(()=>{se&&T.removeMessageHandler(se)})})()}}function gn(){return window}function Fi(){return void 0!==gn().WorkerGlobalScope&&"function"==typeof gn().importScripts}function di(){return(di=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Il="firebaseLocalStorageDb",bo="firebaseLocalStorage",Un="fbase_key";class Es{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ea(_,f){return _.transaction([bo],f?"readwrite":"readonly").objectStore(bo)}function Ys(){const _=indexedDB.open(Il,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(bo,{keyPath:Un})}catch(T){m(T)}}),_.addEventListener("success",(0,h.Z)(function*(){const w=_.result;w.objectStoreNames.contains(bo)?f(w):(w.close(),yield function hi(){const _=indexedDB.deleteDatabase(Il);return new Es(_).toPromise()}(),f(yield Ys()))}))})}function fi(_,f,m){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,h.Z)(function*(_,f,m){const w=ea(_,!0).put({[Un]:f,value:m});return new Es(w).toPromise()})).apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(_,f){const m=ea(_,!1).get(f),w=yield new Es(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Qi(_,f){const m=ea(_,!0).delete(f);return new Es(m).toPromise()}const Li=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Ys()),m.db})()}_withRetries(m){var w=this;return(0,h.Z)(function*(){let T=0;for(;;)try{const N=yield w._openDb();return yield m(N)}catch(N){if(T++>3)throw N;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return Fi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=Lr._getInstance(function ed(){return Fi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(T,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(T,N){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var w,T;if(m.activeServiceWorker=yield function Iu(){return di.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Xc(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(w=N[0])||void 0===w?void 0:w.fulfilled)&&(null===(T=N[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Rt(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ys();return yield fi(m,Cl,"1"),yield Qi(m,Cl),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(N=>fi(N,m,w)),T.localCache[m]=w,T.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,h.Z)(function*(){const T=yield w._withRetries(N=>function Al(_,f){return Qs.apply(this,arguments)}(N,m));return w.localCache[m]=T,T})()}_remove(m){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(T=>Qi(T,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const w=yield m._withRetries(z=>{const se=ea(z,!1).getAll();return new Es(se).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:z,value:se}of w)N.add(z),JSON.stringify(m.localCache[z])!==JSON.stringify(se)&&(m.notifyListeners(z,se),T.push(z));for(const z of Object.keys(m.localCache))m.localCache[z]&&!N.has(z)&&(m.notifyListeners(z,null),T.push(z));return T})()}notifyListeners(m,w){this.localCache[m]=w;const T=this.listeners[m];if(T)for(const N of Array.from(T))N(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function ta(_,f){return Kt(_,"POST","/v2/accounts/mfaSignIn:start",Jt(_,f))}function Vi(){return(Vi=(0,h.Z)(function*(_){return(yield Kt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function kn(_){return new Promise((f,m)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=f,w.onerror=T=>{const N=ye("internal-error");N.customData=T,m(N)},w.type="text/javascript",w.charset="UTF-8",function nd(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(w)})}function Co(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Sr=1e12;class Ji{constructor(f){this.auth=f,this.counter=Sr,this._widgets=new Map}render(f,m){const w=this.counter;return this._widgets.set(w,new Xi(f,this.auth.name,m||{})),this.counter++,w}reset(f){var m;const w=f||Sr;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Sr))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,h.Z)(function*(){var w;return null===(w=m._widgets.get(f||Sr))||void 0===w||w.execute(),""})()}}class Xi{constructor(f,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;re(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wn(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Js=Co("rcb"),rd=new Wt(3e4,6e4);class Qp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!gn().grecaptcha}load(f,m=""){return re(function Jp(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(gn().grecaptcha):new Promise((w,T)=>{const N=gn().setTimeout(()=>{T(ye(f,"network-request-failed"))},rd.get());gn()[Js]=()=>{gn().clearTimeout(N),delete gn()[Js];const se=gn().grecaptcha;if(!se)return void T(ye(f,"internal-error"));const Ue=se.render;se.render=(rt,wt)=>{const ct=Ue(rt,wt);return this.counter++,ct},this.hostLanguage=m,w(se)},kn(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Js,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),T(ye(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!gn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xp{load(f){return(0,h.Z)(function*(){return new Ji(f)})()}clearedOneInstance(){}}const Xs="recaptcha",Zr={theme:"light",type:"image"};class eg{constructor(f,m=Object.assign({},Zr),w){this.parameters=m,this.type=Xs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Oe(w),this.isInvisible="invisible"===this.parameters.size,re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;re(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xp:new Qp,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(m)||new Promise(N=>{const z=se=>{!se||(f.tokenChangeListeners.delete(z),N(se))};f.tokenChangeListeners.add(z),f.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof f)f(m);else if("string"==typeof f){const w=gn()[f];"function"==typeof w&&w(m)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){re(St()&&!Fi(),f.auth,"internal-error"),yield function eo(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Vr(_){return Vi.apply(this,arguments)}(f.auth);re(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bs{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=zo._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function bn(){return(bn=(0,h.Z)(function*(_,f,m){const w=Oe(_),T=yield Mr(w,f,(0,O.m9)(m));return new bs(T,N=>Rn(w,N))})).apply(this,arguments)}function ia(){return(ia=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_);yield $s(!1,w,"phone");const T=yield Mr(w.auth,f,(0,O.m9)(m));return new bs(T,N=>ki(w,N))})).apply(this,arguments)}function xl(){return(xl=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_),T=yield Mr(w.auth,f,(0,O.m9)(m));return new bs(T,N=>Hs(w,N))})).apply(this,arguments)}function Mr(_,f,m){return pi.apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(_,f,m){var w;const T=yield m.verify();try{let N;if(re("string"==typeof T,_,"argument-error"),re(m.type===Xs,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const z=N.session;if("phoneNumber"in N)return re("enroll"===z.type,_,"internal-error"),(yield Bn(_,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{re("signin"===z.type,_,"internal-error");const se=(null===(w=N.multiFactorHint)||void 0===w?void 0:w.uid)||N.multiFactorUid;return re(se,_,"missing-multi-factor-info"),(yield ta(_,{mfaPendingCredential:z.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield Gp(_,{phoneNumber:N.phoneNumber,recaptchaToken:T});return z}}finally{m._reset()}})).apply(this,arguments)}function Ds(){return(Ds=(0,h.Z)(function*(_,f){yield mn((0,O.m9)(_),f)})).apply(this,arguments)}let Ui=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Oe(m)}verifyPhoneNumber(m,w){return Mr(this.auth,m,(0,O.m9)(w))}static credential(m,w){return zo._fromVerification(m,w)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:T}=m;return w&&T?zo._fromTokenResponse(w,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function es(_,f){return f?ne(f):(re(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ra extends un{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Vn(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Vn(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Vn(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Nl(_){return yo(_.auth,new Ra(_),_.bypassAuthState)}function Ol(_){const{auth:f,user:m}=_;return re(m,f,"internal-error"),Hc(m,new Ra(_),_.bypassAuthState)}function Vt(_){return kl.apply(this,arguments)}function kl(){return(kl=(0,h.Z)(function*(_){const{auth:f,user:m}=_;return re(m,f,"internal-error"),mn(m,new Ra(_),_.bypassAuthState)})).apply(this,arguments)}class qn{constructor(f,m,w,T,N=!1){this.auth=f,this.resolver=w,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,h.Z)(function*(w,T){f.pendingPromise={resolve:w,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(w,T){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:T,postBody:N,tenantId:z,error:se,type:Ue}=f;if(se)return void m.reject(se);const rt={auth:m.auth,requestUri:w,sessionId:T,tenantId:z||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ue)(rt))}catch(wt){m.reject(wt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Nl;case"linkViaPopup":case"linkViaRedirect":return Vt;case"reauthViaPopup":case"reauthViaRedirect":return Ol;default:Ie(this.auth,"internal-error")}}resolve(f){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pl=new Wt(2e3,1e4);function id(){return(id=(0,h.Z)(function*(_,f,m){const w=Oe(_);He(_,f,Us);const T=es(w,m);return new ns(w,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Au(){return(Au=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_);He(w.auth,f,Us);const T=es(w.auth,m);return new ns(w.auth,"reauthViaPopup",f,T,w).executeNotNull()})).apply(this,arguments)}function Su(){return(Su=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_);He(w.auth,f,Us);const T=es(w.auth,m);return new ns(w.auth,"linkViaPopup",f,T,w).executeNotNull()})).apply(this,arguments)}let ns=(()=>{class _ extends qn{constructor(m,w,T,N,z){super(m,w,N,z),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const w=yield m.execute();return re(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,h.Z)(function*(){J(1===m.filter.length,"Popup operations only handle one event");const w=Xo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(ye(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,T;this.pollId=(null===(T=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Pl.get())};m()}}return _.currentPopupAction=null,_})();const rs=new Map;class zn extends qn{constructor(f,m,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,h.Z)(function*(){let w=rs.get(m.auth._key());if(!w){try{const N=(yield function gi(_,f){return Fl.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;w=()=>Promise.resolve(N)}catch(T){w=()=>Promise.reject(T)}rs.set(m.auth._key(),w)}return m.bypassAuthState||rs.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(w,f);if("unknown"!==f.type){if(f.eventId){const T=yield w.auth._redirectUserForId(f.eventId);if(T)return w.user=T,m().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Fl(){return(Fl=(0,h.Z)(function*(_,f){const m=I(f),w=C(_);if(!(yield w._isAvailable()))return!1;const T="true"===(yield w._get(m));return yield w._remove(m),T})).apply(this,arguments)}function To(_,f){return sa.apply(this,arguments)}function sa(){return(sa=(0,h.Z)(function*(_,f){return C(_)._set(I(f),"true")})).apply(this,arguments)}function C(_){return ne(_._redirectPersistence)}function I(_){return ce("pendingRedirect",_.config.apiKey,_.name)}function W(){return(W=(0,h.Z)(function*(_,f,m){const w=Oe(_);He(_,f,Us);const T=es(w,m);return yield To(T,w),T._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function xe(){return(xe=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_);He(w.auth,f,Us);const T=es(w.auth,m);yield To(T,w.auth);const N=yield Ao(w);return T._openRedirect(w.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Pt(){return(Pt=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_);He(w.auth,f,Us);const T=es(w.auth,m);yield $s(!1,w,f.providerId),yield To(T,w.auth);const N=yield Ao(w);return T._openRedirect(w.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function jn(){return(jn=(0,h.Z)(function*(_,f){return yield Oe(_)._initializationPromise,An(_,f,!1)})).apply(this,arguments)}function An(_,f){return oa.apply(this,arguments)}function oa(){return(oa=(0,h.Z)(function*(_,f,m=!1){const w=Oe(_),T=es(w,f),z=yield new zn(w,T,m).execute();return z&&!m&&(delete z.user._redirectEventId,yield w._persistUserIfCurrent(z.user),yield w._setRedirectUser(null,f)),z})).apply(this,arguments)}function Ao(_){return Br.apply(this,arguments)}function Br(){return(Br=(0,h.Z)(function*(_){const f=Xo(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class ji{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(m=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ll(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return od(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var w;if(f.error&&!od(f)){const T=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(ye(this.auth,T))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const w=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(So(f))}saveEventToCache(f){this.cachedEventUids.add(So(f)),this.lastProcessedEventTime=Date.now()}}function So(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function od({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Vl(_){return Na.apply(this,arguments)}function Na(){return(Na=(0,h.Z)(function*(_,f={}){return Kt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const ng=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xy=/^https?/;function Cs(){return(Cs=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Vl(_);for(const m of f)try{if(Bl(m))return}catch(w){}Ie(_,"unauthorized-domain")})).apply(this,arguments)}function Bl(_){const f=Fe(),{protocol:m,hostname:w}=new URL(f);if(_.startsWith("chrome-extension://")){const z=new URL(_);return""===z.hostname&&""===w?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&z.hostname===w}if(!xy.test(m))return!1;if(ng.test(_))return w===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(w)}const Ny=new Wt(3e4,6e4);function Oy(){const _=gn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let ad=null;function ky(_){return ad=ad||function rg(_){return new Promise((f,m)=>{var w,T,N;function z(){Oy(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Oy(),m(ye(_,"network-request-failed"))},timeout:Ny.get()})}if(null===(T=null===(w=gn().gapi)||void 0===w?void 0:w.iframes)||void 0===T?void 0:T.Iframe)f(gapi.iframes.getContext());else{if(!(null===(N=gn().gapi)||void 0===N?void 0:N.load)){const se=Co("iframefcb");return gn()[se]=()=>{gapi.load?z():m(ye(_,"network-request-failed"))},kn(`https://apis.google.com/js/api.js?onload=${se}`).catch(Ue=>m(Ue))}z()}}).catch(f=>{throw ad=null,f})}(_),ad}const Bh=new Wt(5e3,15e3),xo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ud=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oa(_){const f=_.config;re(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?Xn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:_.name,v:ae.SDK_VERSION},T=ud.get(_.config.apiHost);T&&(w.eid=T);const N=_._getFrameworks();return N.length&&(w.fw=N.join(",")),`${m}?${(0,O.xO)(w).slice(1)}`}function aa(){return aa=(0,h.Z)(function*(_){const f=yield ky(_),m=gn().gapi;return re(m,_,"internal-error"),f.open({where:document.body,url:Oa(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xo,dontclear:!0},w=>new Promise(function(){var T=(0,h.Z)(function*(N,z){yield w.restyle({setHideOnLeave:!1});const se=ye(_,"network-request-failed"),Ue=gn().setTimeout(()=>{z(se)},Bh.get());function rt(){gn().clearTimeout(Ue),N(w)}w.ping(rt).then(rt,()=>{z(se)})});return function(N,z){return T.apply(this,arguments)}}()))}),aa.apply(this,arguments)}const Fy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Hh(_,f,m,w,T,N){re(_.config.authDomain,_,"auth-domain-config-required"),re(_.config.apiKey,_,"invalid-api-key");const z={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:w,v:ae.SDK_VERSION,eventId:T};if(f instanceof Us){f.setDefaultLanguage(_.languageCode),z.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ue,rt]of Object.entries(N||{}))z[Ue]=rt}if(f instanceof qr){const Ue=f.getScopes().filter(rt=>""!==rt);Ue.length>0&&(z.scopes=Ue.join(","))}_.tenantId&&(z.tid=_.tenantId);const se=z;for(const Ue of Object.keys(se))void 0===se[Ue]&&delete se[Ue];return`${function Vy({config:_}){return _.emulator?Xn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,O.xO)(se).slice(1)}`}const no="webStorageSupport";class Gh extends class ig{constructor(f){this.factorId=f}_process(f,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,w);case"signin":return this._finalizeSignIn(f,m.credential);default:return Ke("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Gh(f)}_finalizeEnroll(f,m,w){return function Yc(_,f){return Kt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(_,f))}(f,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function na(_,f){return Kt(_,"POST","/v2/accounts/mfaSignIn:finalize",Jt(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let By=(()=>{class _{constructor(){}static assertion(m){return Gh._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var Uy="@firebase/auth",qh="0.19.12";class sg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(w=>{var T;f((null===(T=w)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ro(){return window}function Nu(){return(Nu=(0,h.Z)(function*(_,f,m){var w;const{BuildInfo:T}=ro();J(f.sessionId,"AuthEvent did not contain a session ID");const N=yield ka(f.sessionId),z={};return nr()?z.ibi=T.packageName:In()?z.apn=T.packageName:Ie(_,"operation-not-supported-in-this-environment"),T.displayName&&(z.appDisplayName=T.displayName),z.sessionId=N,Hh(_,m,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,z)})).apply(this,arguments)}function $i(){return($i=(0,h.Z)(function*(_){const{BuildInfo:f}=ro(),m={};nr()?m.iosBundleId=f.packageName:In()?m.androidPackageName=f.packageName:Ie(_,"operation-not-supported-in-this-environment"),yield Vl(_,m)})).apply(this,arguments)}function fd(){return(fd=(0,h.Z)(function*(_,f,m){const{cordova:w}=ro();let T=()=>{};try{yield new Promise((N,z)=>{let se=null;function Ue(){var ct;N();const Sn=null===(ct=w.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof Sn&&Sn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function rt(){se||(se=window.setTimeout(()=>{z(ye(_,"redirect-cancelled-by-user"))},2e3))}function wt(){"visible"===(null==document?void 0:document.visibilityState)&&rt()}f.addPassiveListener(Ue),document.addEventListener("resume",rt,!1),In()&&document.addEventListener("visibilitychange",wt,!1),T=()=>{f.removePassiveListener(Ue),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",wt,!1),se&&window.clearTimeout(se)}})}finally{T()}})).apply(this,arguments)}function ka(_){return ag.apply(this,arguments)}function ag(){return(ag=(0,h.Z)(function*(_){const f=Ou(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ou(_){if(J(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let w=0;w<_.length;w++)m[w]=_.charCodeAt(w);return m}!function $y(_){(0,ae._registerComponent)(new ie.wA("auth",(f,{options:m})=>{const w=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:N,authDomain:z}=w.options;return((se,Ue)=>{re(N&&!N.includes(":"),"invalid-api-key",{appName:se.name}),re(!(null==z?void 0:z.includes(":")),"argument-error",{appName:se.name});const rt={apiKey:N,authDomain:z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Da(_)},wt=new oi(se,Ue,rt);return function ge(_,f){const m=(null==f?void 0:f.persistence)||[],w=(Array.isArray(m)?m:[m]).map(ne);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(w,null==f?void 0:f.popupRedirectResolver)}(wt,m),wt})(w,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,w)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ie.wA("auth-internal",f=>{const m=Oe(f.getProvider("auth").getImmediate());return new sg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Uy,qh,function jy(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ae.registerVersion)(Uy,qh,"esm2017")}("Browser");class Zh extends ji{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function $l(_){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(_){const f=yield Gl()._get(Qh(_));return f&&(yield Gl()._remove(Qh(_))),f})).apply(this,arguments)}function Hl(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*f.length);_.push(f.charAt(w))}return _.join("")}function Gl(){return ne(On)}function Qh(_){return ce("authEvent",_.config.apiKey,_.name)}function gd(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...m]=_.split("?");return(0,O.zd)(m.join("?"))}function tf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function md(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function lg(_=(0,O.z$)()){return!("file:"!==md()&&"ionic:"!==md()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function xr(){try{const _=self.localStorage,f=Xo();if(_)return _.setItem(f,"1"),_.removeItem(f),!function ca(_=(0,O.z$)()){return function Wy(){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ky(_=(0,O.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,O.hl)()}catch(_){return Ro()&&(0,O.hl)()}return!1}function Ro(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wl(){return(function zy(){return"http:"===md()||"https:"===md()}()||(0,O.ru)()||lg())&&!function yd(){return(0,O.b$)()||(0,O.UG)()}()&&xr()&&!Ro()}function nf(){return lg()&&"undefined"!=typeof document}function Pa(){return(Pa=(0,h.Z)(function*(){return!!nf()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Hi={LOCAL:"local",NONE:"none",SESSION:"session"},Fa=re,sf="persistence";function La(_){return of.apply(this,arguments)}function of(){return(of=(0,h.Z)(function*(_){yield _._initializationPromise;const f=Kl(),m=ce(sf,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function Kl(){var _;try{return(null===(_=function rf(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const Zy=re;class yi{constructor(){this.browserResolver=ne(class ua{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ir,this._completeRedirectFn=An}_openPopup(f,m,w,T){var N=this;return(0,h.Z)(function*(){var z;J(null===(z=N.eventManagers[f._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const se=Hh(f,m,w,Fe(),T);return function hd(_,f,m,w=500,T=600){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),z=Math.max((window.screen.availWidth-w)/2,0).toString();let se="";const Ue=Object.assign(Object.assign({},Fy),{width:w.toString(),height:T.toString(),top:N,left:z}),rt=(0,O.z$)().toLowerCase();m&&(se=br(rt)?"_blank":m),vt(rt)&&(f=f||"http://localhost",Ue.scrollbars="yes");const wt=Object.entries(Ue).reduce((Sn,[is,Yl])=>`${Sn}${is}=${Yl},`,"");if(function ru(_=(0,O.z$)()){var f;return nr(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(rt)&&"_self"!==se)return function $h(_,f){const m=document.createElement("a");m.href=_,m.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(f||"",se),new dd(null);const ct=window.open(f||"",se,wt);re(ct,_,"popup-blocked");try{ct.focus()}catch(Sn){}return new dd(ct)}(f,se,Xo())})()}_openRedirect(f,m,w,T){var N=this;return(0,h.Z)(function*(){return yield N._originValidation(f),function Vh(_){gn().location.href=_}(Hh(f,m,w,Fe(),T)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:T,promise:N}=this.eventManagers[m];return T?Promise.resolve(T):(J(N,"If manager is not set, promise should be"),N)}const w=this.initAndGetManager(f);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(f){var m=this;return(0,h.Z)(function*(){const w=yield function Py(_){return aa.apply(this,arguments)}(f),T=new ji(f);return w.register("authEvent",N=>(re(null==N?void 0:N.authEvent,f,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:T},m.iframes[f._key()]=w,T})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(no,{type:no},T=>{var N;const z=null===(N=null==T?void 0:T[0])||void 0===N?void 0:N[no];void 0!==z&&m(!!z),Ie(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ry(_){return Cs.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return hs()||Xt()||nr()}}),this.cordovaResolver=ne(class ef{constructor(){this._redirectPersistence=ir,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=An}_initialize(f){var m=this;return(0,h.Z)(function*(){const w=f._key();let T=m.eventManagers.get(w);return T||(T=new Zh(f),m.eventManagers.set(w,T),m.attachCallbackListeners(f,T)),T})()}_openPopup(f){Ie(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,w,T){var N=this;return(0,h.Z)(function*(){!function pd(_){var f,m,w,T,N,z,se,Ue,rt,wt;const ct=ro();re("function"==typeof(null===(f=null==ct?void 0:ct.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(void 0!==(null===(m=null==ct?void 0:ct.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re("function"==typeof(null===(N=null===(T=null===(w=null==ct?void 0:ct.cordova)||void 0===w?void 0:w.plugins)||void 0===T?void 0:T.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(Ue=null===(se=null===(z=null==ct?void 0:ct.cordova)||void 0===z?void 0:z.plugins)||void 0===se?void 0:se.browsertab)||void 0===Ue?void 0:Ue.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(wt=null===(rt=null==ct?void 0:ct.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===wt?void 0:wt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const z=yield N._initialize(f);yield z.initialized(),z.resetRedirect(),function Mu(){rs.clear()}(),yield N._originValidation(f);const se=function Yh(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:Hl(),postBody:null,tenantId:_.tenantId,error:ye(_,"no-auth-event")}}(f,w,T);yield function pw(_,f){return Gl()._set(Qh(_),f)}(f,se);const Ue=yield function zh(_,f,m){return Nu.apply(this,arguments)}(f,se,m),rt=yield function jl(_){const{cordova:f}=ro();return new Promise(m=>{f.plugins.browsertab.isAvailable(w=>{let T=null;w?f.plugins.browsertab.openUrl(_):T=f.InAppBrowser.open(_,function fo(_=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(T)})})}(Ue);return function og(_,f,m){return fd.apply(this,arguments)}(f,z,rt)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Wh(_){return $i.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:w,handleOpenURL:T,BuildInfo:N}=ro(),z=setTimeout((0,h.Z)(function*(){yield $l(f),m.onEvent(tf())}),500),se=function(){var wt=(0,h.Z)(function*(ct){clearTimeout(z);const Sn=yield $l(f);let is=null;Sn&&(null==ct?void 0:ct.url)&&(is=function Gy(_,f){var m,w;const T=function ql(_){const f=gd(_),m=f.link?decodeURIComponent(f.link):void 0,w=gd(m).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return gd(T).link||T||w||m||_}(f);if(T.includes("/__/auth/callback")){const N=gd(T),z=N.firebaseError?function Jh(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(N.firebaseError)):null,se=null===(w=null===(m=null==z?void 0:z.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Ue=se?ye(se):null;return Ue?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:T,postBody:null}}return null}(Sn,ct.url)),m.onEvent(is||tf())});return function(Sn){return wt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,se);const Ue=T,rt=`${N.packageName.toLowerCase()}://`;ro().handleOpenURL=function(){var wt=(0,h.Z)(function*(ct){if(ct.toLowerCase().startsWith(rt)&&se({url:ct}),"function"==typeof Ue)try{Ue(ct)}catch(Sn){console.error(Sn)}});return function(ct){return wt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ir,this._completeRedirectFn=An}_initialize(f){var m=this;return(0,h.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,w,T){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,m,w,T)})()}_openRedirect(f,m,w,T){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,m,w,T)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return nf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const m=yield function Ur(){return Pa.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function hg(_){return _.unwrap()}function Va(_){return fg(_)}function fg(_){const{_tokenResponse:f}=_ instanceof O.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Ui.credentialFromResult(_);const m=f.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=Ia;break;case"facebook.com":w=go;break;case"github.com":w=jc;break;case"twitter.com":w=cu;break;default:const{oauthIdToken:T,oauthAccessToken:N,oauthTokenSecret:z,pendingToken:se,nonce:Ue}=f;return N||z||T||se?se?m.startsWith("saml.")?Dr._create(m,se):ms._fromParams({providerId:m,signInMethod:m,pendingToken:se,idToken:T,accessToken:N}):new Wo(m).credential({idToken:T,accessToken:N,rawNonce:Ue}):null}return _ instanceof O.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function Rr(_,f){return f.catch(m=>{throw m instanceof O.ZR&&function Qy(_,f){var m;const w=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Jy(_,function Cu(_,f){var m;const w=(0,O.m9)(_),T=f;return re(f.customData.operationType,w,"argument-error"),re(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),xa._fromError(w,T)}(_,f));else if(w){const T=fg(f),N=f;T&&(N.credential=T,N.tenantId=w.tenantId||void 0,N.email=w.email||void 0,N.phoneNumber=w.phoneNumber||void 0)}}(_,m),m}).then(m=>{const T=m.user;return{operationType:m.operationType,credential:Va(m),additionalUserInfo:Ar(m),user:No.getOrCreate(T)}})}function af(_,f){return uf.apply(this,arguments)}function uf(){return(uf=(0,h.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:w=>Rr(_,m.confirm(w))}})).apply(this,arguments)}class Jy{constructor(f,m){this.resolver=m,this.auth=function Yy(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Rr(hg(this.auth),this.resolver.resolveSignIn(f))}}class No{constructor(f){this._delegate=f,this.multiFactor=function Qc(_){const f=(0,O.m9)(_);return Jo.has(f)||Jo.set(f,ws._fromUser(f)),Jo.get(f)}(f)}static getOrCreate(f){return No.USER_MAP.has(f)||No.USER_MAP.set(f,new No(f)),No.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,h.Z)(function*(){return Rr(m.auth,ki(m._delegate,f))})()}linkWithPhoneNumber(f,m){var w=this;return(0,h.Z)(function*(){return af(w.auth,function Ml(_,f,m){return ia.apply(this,arguments)}(w._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,h.Z)(function*(){return Rr(m.auth,function ts(_,f,m){return Su.apply(this,arguments)}(m._delegate,f,yi))})()}linkWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield La(Oe(m.auth)),function nt(_,f,m){return function It(_,f,m){return Pt.apply(this,arguments)}(_,f,m)}(m._delegate,f,yi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,h.Z)(function*(){return Rr(m.auth,Hs(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return af(this.auth,function tg(_,f,m){return xl.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Rr(this.auth,function Io(_,f,m){return Au.apply(this,arguments)}(this._delegate,f,yi))}reauthenticateWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield La(Oe(m.auth)),function ee(_,f,m){return function Me(_,f,m){return xe.apply(this,arguments)}(_,f,m)}(m._delegate,f,yi)})()}sendEmailVerification(f){return function Pi(_,f){return ml.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,h.Z)(function*(){return yield function Ta(_,f){return ll.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function vl(_,f){return wl((0,O.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function qc(_,f){return wl((0,O.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Rl(_,f){return Ds.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Qo(_,f){return _l.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function bu(_,f,m){return Du.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}No.USER_MAP=new WeakMap;const Zl=re;let lf=(()=>{class _{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=m.options;Zl(T,"invalid-api-key",{appName:m.name}),Zl(T,"invalid-api-key",{appName:m.name});const N="undefined"!=typeof window?yi:void 0;this._delegate=w.initialize({options:{persistence:Xy(T,m.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?No.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function pn(_,f,m){const w=Oe(_);re(w._canInitEmulator,w,"emulator-config-failed"),re(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const T=!!(null==m?void 0:m.disableWarnings),N=hr(f),{host:z,port:se}=function Ps(_){const f=hr(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(w);if(T){const N=T[1];return{host:N,port:Ln(w.substr(N.length+1))}}{const[N,z]=w.split(":");return{host:N,port:Ln(z)}}}(f);w.config.emulator={url:`${N}//${z}${null===se?"":`:${se}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:z,port:se,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Zi(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,w)}applyActionCode(m){return function dl(_,f){return De.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ut(this._delegate,m)}confirmPasswordReset(m,w){return function vu(_,f,m){return cl.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var T=this;return(0,h.Z)(function*(){return Rr(T._delegate,function Yo(_,f,m){return Wr.apply(this,arguments)}(T._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Eu(_,f){return Ws.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function gl(_,f){const m=po.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,h.Z)(function*(){Zl(Wl(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Mt(_,f){return jn.apply(this,arguments)}(m._delegate,yi);return w?Rr(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function ug(_,f){Oe(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,w,T){const{next:N,error:z,complete:se}=cf(m,w,T);return this._delegate.onAuthStateChanged(N,z,se)}onIdTokenChanged(m,w,T){const{next:N,error:z,complete:se}=cf(m,w,T);return this._delegate.onIdTokenChanged(N,z,se)}sendSignInLinkToEmail(m,w){return function pl(_,f,m){return Gc.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function yu(_,f,m){return _u.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,h.Z)(function*(){let T;switch(function cg(_,f){Fa(Object.values(Hi).includes(f),_,"invalid-persistence-type"),(0,O.b$)()?Fa(f!==Hi.SESSION,_,"unsupported-persistence-type"):(0,O.UG)()?Fa(f===Hi.NONE,_,"unsupported-persistence-type"):Ro()?Fa(f===Hi.NONE||f===Hi.LOCAL&&(0,O.hl)(),_,"unsupported-persistence-type"):Fa(f===Hi.NONE||xr(),_,"unsupported-persistence-type")}(w._delegate,m),m){case Hi.SESSION:T=ir;break;case Hi.LOCAL:T=(yield ne(Li)._isAvailable())?Li:On;break;case Hi.NONE:T=q;break;default:return Ie("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Rr(this._delegate,function hu(_){return $c.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Rr(this._delegate,Rn(this._delegate,m))}signInWithCustomToken(m){return Rr(this._delegate,function Gs(_,f){return qs.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Rr(this._delegate,function fl(_,f,m){return Rn((0,O.m9)(_),ul.credential(f,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Rr(this._delegate,function wu(_,f,m){return zs.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return af(this._delegate,function Tu(_,f,m){return bn.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,h.Z)(function*(){return Zl(Wl(),w._delegate,"operation-not-supported-in-this-environment"),Rr(w._delegate,function to(_,f,m){return id.apply(this,arguments)}(w._delegate,m,yi))})()}signInWithRedirect(m){var w=this;return(0,h.Z)(function*(){return Zl(Wl(),w._delegate,"operation-not-supported-in-this-environment"),yield La(w._delegate),function R(_,f,m){return function L(_,f,m){return W.apply(this,arguments)}(_,f,m)}(w._delegate,m,yi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function vn(_,f){return Zo.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Hi,_})();function cf(_,f,m){let w=_;"function"!=typeof _&&({next:w,error:f,complete:m}=_);const T=w;return{next:z=>T(z&&No.getOrCreate(z)),error:f,complete:m}}function Xy(_,f){const m=function dg(_,f){const m=Kl();if(!m)return[];const w=ce(sf,_,f);switch(m.getItem(w)){case Hi.NONE:return[q];case Hi.LOCAL:return[Li,ir];case Hi.SESSION:return[ir];default:return[]}}(_,f);if("undefined"!=typeof self&&!m.includes(Li)&&m.push(Li),"undefined"!=typeof window)for(const w of[On,ir])m.includes(w)||m.push(w);return m.includes(q)||m.push(q),m}class df{constructor(){this.providerId="phone",this._delegate=new Ui(hg(Z.Z.auth()))}static credential(f,m){return Ui.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}df.PHONE_SIGN_IN_METHOD=Ui.PHONE_SIGN_IN_METHOD,df.PROVIDER_ID=Ui.PROVIDER_ID;const e_=re;class t_{constructor(f,m,w=Z.Z.app()){var T;e_(null===(T=w.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new eg(f,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function gg(_){_.INTERNAL.registerComponent(new ie.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new lf(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ul,FacebookAuthProvider:go,GithubAuthProvider:jc,GoogleAuthProvider:Ia,OAuthProvider:Wo,SAMLAuthProvider:li,PhoneAuthProvider:df,PhoneMultiFactorGenerator:By,RecaptchaVerifier:t_,TwitterAuthProvider:cu,Auth:lf,AuthCredential:un,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.12")}(Z.Z)},8306:(dt,Ae,k)=>{k.d(Ae,{y:()=>$});var h=k(2961),Z=k(727),O=k(8822),ae=k(4671);var ie=k(2416),de=k(576),le=k(2806);let $=(()=>{class Se{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const he=new Se;return he.source=this,he.operator=Le,he}subscribe(Le,he,Ee){const it=function We(Se){return Se&&Se instanceof h.Lv||function Q(Se){return Se&&(0,de.m)(Se.next)&&(0,de.m)(Se.error)&&(0,de.m)(Se.complete)}(Se)&&(0,Z.Nn)(Se)}(Le)?Le:new h.Hp(Le,he,Ee);return(0,le.x)(()=>{const{operator:Qe,source:Ie}=this;it.add(Qe?Qe.call(it,Ie):Ie?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(Le){try{return this._subscribe(Le)}catch(he){Le.error(he)}}forEach(Le,he){return new(he=H(he))((Ee,it)=>{const Qe=new h.Hp({next:Ie=>{try{Le(Ie)}catch(ye){it(ye),Qe.unsubscribe()}},error:it,complete:Ee});this.subscribe(Qe)})}_subscribe(Le){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe(Le)}[O.L](){return this}pipe(...Le){return function pe(Se){return 0===Se.length?ae.y:1===Se.length?Se[0]:function(Le){return Se.reduce((he,Ee)=>Ee(he),Le)}}(Le)(this)}toPromise(Le){return new(Le=H(Le))((he,Ee)=>{let it;this.subscribe(Qe=>it=Qe,Qe=>Ee(Qe),()=>he(it))})}}return Se.create=Ne=>new Se(Ne),Se})();function H(Se){var Ne;return null!==(Ne=null!=Se?Se:ie.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(dt,Ae,k)=>{k.d(Ae,{x:()=>ie});var h=k(8306),Z=k(727);const ae=(0,k(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=k(8737),pe=k(2806);let ie=(()=>{class le extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Q=new de(this,this);return Q.operator=H,Q}_throwIfClosed(){if(this.closed)throw new ae}next(H){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(H)}})}error(H){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Q}=this;for(;Q.length;)Q.shift().error(H)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Q,isStopped:We,observers:Se}=this;return Q||We?Z.Lc:(this.currentObservers=null,Se.push(H),new Z.w0(()=>{this.currentObservers=null,(0,X.P)(Se,H)}))}_checkFinalizedStatuses(H){const{hasError:Q,thrownError:We,isStopped:Se}=this;Q?H.error(We):Se&&H.complete()}asObservable(){const H=new h.y;return H.source=this,H}}return le.create=($,H)=>new de($,H),le})();class de extends ie{constructor($,H){super(),this.destination=$,this.source=H}next($){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Q||Q.call(H,$)}error($){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Q||Q.call(H,$)}complete(){var $,H;null===(H=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===H||H.call($)}_subscribe($){var H,Q;return null!==(Q=null===(H=this.source)||void 0===H?void 0:H.subscribe($))&&void 0!==Q?Q:Z.Lc}}},2961:(dt,Ae,k)=>{k.d(Ae,{Hp:()=>Le,Lv:()=>Q});var h=k(576),Z=k(727),O=k(2416),ae=k(7849);function X(){}const pe=le("C",void 0,void 0);function le(Ie,ye,ve){return{kind:Ie,value:ye,error:ve}}var $=k(3410),H=k(2806);class Q extends Z.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,Z.Nn)(ye)&&ye.add(this)):this.destination=Qe}static create(ye,ve,He){return new Le(ye,ve,He)}next(ye){this.isStopped?it(function de(Ie){return le("N",Ie,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?it(function ie(Ie){return le("E",void 0,Ie)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?it(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Se(Ie,ye){return We.call(Ie,ye)}class Ne{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:ve}=this;if(ve.next)try{ve.next(ye)}catch(He){he(He)}}error(ye){const{partialObserver:ve}=this;if(ve.error)try{ve.error(ye)}catch(He){he(He)}else he(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(ve){he(ve)}}}class Le extends Q{constructor(ye,ve,He){let $e;if(super(),(0,h.m)(ye)||!ye)$e={next:null!=ye?ye:void 0,error:null!=ve?ve:void 0,complete:null!=He?He:void 0};else{let re;this&&O.v.useDeprecatedNextContext?(re=Object.create(ye),re.unsubscribe=()=>this.unsubscribe(),$e={next:ye.next&&Se(ye.next,re),error:ye.error&&Se(ye.error,re),complete:ye.complete&&Se(ye.complete,re)}):$e=ye}this.destination=new Ne($e)}}function he(Ie){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ie):(0,ae.h)(Ie)}function it(Ie,ye){const{onStoppedNotification:ve}=O.v;ve&&$.z.setTimeout(()=>ve(Ie,ye))}const Qe={closed:!0,next:X,error:function Ee(Ie){throw Ie},complete:X}},727:(dt,Ae,k)=>{k.d(Ae,{Lc:()=>pe,w0:()=>X,Nn:()=>ie});var h=k(576);const O=(0,k(3888).d)(le=>function(H){le(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Q,We)=>`${We+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ae=k(8737);class X{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Se of H)Se.remove(this);else H.remove(this);const{initialTeardown:Q}=this;if((0,h.m)(Q))try{Q()}catch(Se){$=Se instanceof O?Se.errors:[Se]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Se of We)try{de(Se)}catch(Ne){$=null!=$?$:[],Ne instanceof O?$=[...$,...Ne.errors]:$.push(Ne)}}if($)throw new O($)}}add($){var H;if($&&$!==this)if(this.closed)de($);else{if($ instanceof X){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push($)}}_hasParent($){const{_parentage:H}=this;return H===$||Array.isArray(H)&&H.includes($)}_addParent($){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push($),H):H?[H,$]:$}_removeParent($){const{_parentage:H}=this;H===$?this._parentage=null:Array.isArray(H)&&(0,ae.P)(H,$)}remove($){const{_finalizers:H}=this;H&&(0,ae.P)(H,$),$ instanceof X&&$._removeParent(this)}}X.EMPTY=(()=>{const le=new X;return le.closed=!0,le})();const pe=X.EMPTY;function ie(le){return le instanceof X||le&&"closed"in le&&(0,h.m)(le.remove)&&(0,h.m)(le.add)&&(0,h.m)(le.unsubscribe)}function de(le){(0,h.m)(le)?le():le.unsubscribe()}},2416:(dt,Ae,k)=>{k.d(Ae,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,Ae,k)=>{k.d(Ae,{E:()=>Z});const Z=new(k(8306).y)(X=>X.complete())},8996:(dt,Ae,k)=>{k.d(Ae,{D:()=>ye});var h=k(8421),Z=k(5363),O=k(9468),pe=k(8306),de=k(2202),le=k(576),$=k(9672);function Q(ve,He){if(!ve)throw new Error("Iterable cannot be null");return new pe.y($e=>{(0,$.f)($e,He,()=>{const re=ve[Symbol.asyncIterator]();(0,$.f)($e,He,()=>{re.next().then(Ke=>{Ke.done?$e.complete():$e.next(Ke.value)})},0,!0)})})}var We=k(3670),Se=k(8239),Ne=k(1144),Le=k(6495),he=k(2206),Ee=k(4532),it=k(3260);function ye(ve,He){return He?function Ie(ve,He){if(null!=ve){if((0,We.c)(ve))return function ae(ve,He){return(0,h.Xf)(ve).pipe((0,O.R)(He),(0,Z.Q)(He))}(ve,He);if((0,Ne.z)(ve))return function ie(ve,He){return new pe.y($e=>{let re=0;return He.schedule(function(){re===ve.length?$e.complete():($e.next(ve[re++]),$e.closed||this.schedule())})})}(ve,He);if((0,Se.t)(ve))return function X(ve,He){return(0,h.Xf)(ve).pipe((0,O.R)(He),(0,Z.Q)(He))}(ve,He);if((0,he.D)(ve))return Q(ve,He);if((0,Le.T)(ve))return function H(ve,He){return new pe.y($e=>{let re;return(0,$.f)($e,He,()=>{re=ve[de.h](),(0,$.f)($e,He,()=>{let Ke,J;try{({value:Ke,done:J}=re.next())}catch(oe){return void $e.error(oe)}J?$e.complete():$e.next(Ke)},0,!0)}),()=>(0,le.m)(null==re?void 0:re.return)&&re.return()})}(ve,He);if((0,it.L)(ve))return function Qe(ve,He){return Q((0,it.Q)(ve),He)}(ve,He)}throw(0,Ee.z)(ve)}(ve,He):(0,h.Xf)(ve)}},8421:(dt,Ae,k)=>{k.d(Ae,{Xf:()=>We});var h=k(655),Z=k(1144),O=k(8239),ae=k(8306),X=k(3670),pe=k(2206),ie=k(4532),de=k(6495),le=k(3260),$=k(576),H=k(7849),Q=k(8822);function We(Ie){if(Ie instanceof ae.y)return Ie;if(null!=Ie){if((0,X.c)(Ie))return function Se(Ie){return new ae.y(ye=>{const ve=Ie[Q.L]();if((0,$.m)(ve.subscribe))return ve.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,Z.z)(Ie))return function Ne(Ie){return new ae.y(ye=>{for(let ve=0;ve<Ie.length&&!ye.closed;ve++)ye.next(Ie[ve]);ye.complete()})}(Ie);if((0,O.t)(Ie))return function Le(Ie){return new ae.y(ye=>{Ie.then(ve=>{ye.closed||(ye.next(ve),ye.complete())},ve=>ye.error(ve)).then(null,H.h)})}(Ie);if((0,pe.D)(Ie))return Ee(Ie);if((0,de.T)(Ie))return function he(Ie){return new ae.y(ye=>{for(const ve of Ie)if(ye.next(ve),ye.closed)return;ye.complete()})}(Ie);if((0,le.L)(Ie))return function it(Ie){return Ee((0,le.Q)(Ie))}(Ie)}throw(0,ie.z)(Ie)}function Ee(Ie){return new ae.y(ye=>{(function Qe(Ie,ye){var ve,He,$e,re;return(0,h.mG)(this,void 0,void 0,function*(){try{for(ve=(0,h.KL)(Ie);!(He=yield ve.next()).done;)if(ye.next(He.value),ye.closed)return}catch(Ke){$e={error:Ke}}finally{try{He&&!He.done&&(re=ve.return)&&(yield re.call(ve))}finally{if($e)throw $e.error}}ye.complete()})})(Ie,ye).catch(ve=>ye.error(ve))})}},6451:(dt,Ae,k)=>{k.d(Ae,{T:()=>pe});var h=k(8189),Z=k(8421),O=k(515),ae=k(7669),X=k(8996);function pe(...ie){const de=(0,ae.yG)(ie),le=(0,ae._6)(ie,1/0),$=ie;return $.length?1===$.length?(0,Z.Xf)($[0]):(0,h.J)(le)((0,X.D)($,de)):O.E}},5403:(dt,Ae,k)=>{k.d(Ae,{x:()=>Z});var h=k(2961);function Z(ae,X,pe,ie,de){return new O(ae,X,pe,ie,de)}class O extends h.Lv{constructor(X,pe,ie,de,le,$){super(X),this.onFinalize=le,this.shouldUnsubscribe=$,this._next=pe?function(H){try{pe(H)}catch(Q){X.error(Q)}}:super._next,this._error=de?function(H){try{de(H)}catch(Q){X.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(H){X.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(dt,Ae,k)=>{k.d(Ae,{U:()=>O});var h=k(4482),Z=k(5403);function O(ae,X){return(0,h.e)((pe,ie)=>{let de=0;pe.subscribe((0,Z.x)(ie,le=>{ie.next(ae.call(X,le,de++))}))})}},8189:(dt,Ae,k)=>{k.d(Ae,{J:()=>O});var h=k(5577),Z=k(4671);function O(ae=1/0){return(0,h.z)(Z.y,ae)}},5577:(dt,Ae,k)=>{k.d(Ae,{z:()=>de});var h=k(4004),Z=k(8421),O=k(4482),ae=k(9672),X=k(5403),ie=k(576);function de(le,$,H=1/0){return(0,ie.m)($)?de((Q,We)=>(0,h.U)((Se,Ne)=>$(Q,Se,We,Ne))((0,Z.Xf)(le(Q,We))),H):("number"==typeof $&&(H=$),(0,O.e)((Q,We)=>function pe(le,$,H,Q,We,Se,Ne,Le){const he=[];let Ee=0,it=0,Qe=!1;const Ie=()=>{Qe&&!he.length&&!Ee&&$.complete()},ye=He=>Ee<Q?ve(He):he.push(He),ve=He=>{Se&&$.next(He),Ee++;let $e=!1;(0,Z.Xf)(H(He,it++)).subscribe((0,X.x)($,re=>{null==We||We(re),Se?ye(re):$.next(re)},()=>{$e=!0},void 0,()=>{if($e)try{for(Ee--;he.length&&Ee<Q;){const re=he.shift();Ne?(0,ae.f)($,Ne,()=>ve(re)):ve(re)}Ie()}catch(re){$.error(re)}}))};return le.subscribe((0,X.x)($,ye,()=>{Qe=!0,Ie()})),()=>{null==Le||Le()}}(Q,We,le,H)))}},5363:(dt,Ae,k)=>{k.d(Ae,{Q:()=>ae});var h=k(9672),Z=k(4482),O=k(5403);function ae(X,pe=0){return(0,Z.e)((ie,de)=>{ie.subscribe((0,O.x)(de,le=>(0,h.f)(de,X,()=>de.next(le),pe),()=>(0,h.f)(de,X,()=>de.complete(),pe),le=>(0,h.f)(de,X,()=>de.error(le),pe)))})}},3099:(dt,Ae,k)=>{k.d(Ae,{B:()=>pe});var h=k(8996),Z=k(5698),O=k(7579),ae=k(2961),X=k(4482);function pe(de={}){const{connector:le=(()=>new O.x),resetOnError:$=!0,resetOnComplete:H=!0,resetOnRefCountZero:Q=!0}=de;return We=>{let Se=null,Ne=null,Le=null,he=0,Ee=!1,it=!1;const Qe=()=>{null==Ne||Ne.unsubscribe(),Ne=null},Ie=()=>{Qe(),Se=Le=null,Ee=it=!1},ye=()=>{const ve=Se;Ie(),null==ve||ve.unsubscribe()};return(0,X.e)((ve,He)=>{he++,!it&&!Ee&&Qe();const $e=Le=null!=Le?Le:le();He.add(()=>{he--,0===he&&!it&&!Ee&&(Ne=ie(ye,Q))}),$e.subscribe(He),Se||(Se=new ae.Hp({next:re=>$e.next(re),error:re=>{it=!0,Qe(),Ne=ie(Ie,$,re),$e.error(re)},complete:()=>{Ee=!0,Qe(),Ne=ie(Ie,H),$e.complete()}}),(0,h.D)(ve).subscribe(Se))})(We)}}function ie(de,le,...$){return!0===le?(de(),null):!1===le?null:le(...$).pipe((0,Z.q)(1)).subscribe(()=>de())}},9468:(dt,Ae,k)=>{k.d(Ae,{R:()=>Z});var h=k(4482);function Z(O,ae=0){return(0,h.e)((X,pe)=>{pe.add(O.schedule(()=>X.subscribe(pe),ae))})}},5698:(dt,Ae,k)=>{k.d(Ae,{q:()=>ae});var h=k(515),Z=k(4482),O=k(5403);function ae(X){return X<=0?()=>h.E:(0,Z.e)((pe,ie)=>{let de=0;pe.subscribe((0,O.x)(ie,le=>{++de<=X&&(ie.next(le),X<=de&&ie.complete())}))})}},8505:(dt,Ae,k)=>{k.d(Ae,{b:()=>X});var h=k(576),Z=k(4482),O=k(5403),ae=k(4671);function X(pe,ie,de){const le=(0,h.m)(pe)||ie||de?{next:pe,error:ie,complete:de}:pe;return le?(0,Z.e)(($,H)=>{var Q;null===(Q=le.subscribe)||void 0===Q||Q.call(le);let We=!0;$.subscribe((0,O.x)(H,Se=>{var Ne;null===(Ne=le.next)||void 0===Ne||Ne.call(le,Se),H.next(Se)},()=>{var Se;We=!1,null===(Se=le.complete)||void 0===Se||Se.call(le),H.complete()},Se=>{var Ne;We=!1,null===(Ne=le.error)||void 0===Ne||Ne.call(le,Se),H.error(Se)},()=>{var Se,Ne;We&&(null===(Se=le.unsubscribe)||void 0===Se||Se.call(le)),null===(Ne=le.finalize)||void 0===Ne||Ne.call(le)}))}):ae.y}},4408:(dt,Ae,k)=>{k.d(Ae,{o:()=>X});var h=k(727);class Z extends h.w0{constructor(ie,de){super()}schedule(ie,de=0){return this}}const O={setInterval(pe,ie,...de){const{delegate:le}=O;return(null==le?void 0:le.setInterval)?le.setInterval(pe,ie,...de):setInterval(pe,ie,...de)},clearInterval(pe){const{delegate:ie}=O;return((null==ie?void 0:ie.clearInterval)||clearInterval)(pe)},delegate:void 0};var ae=k(8737);class X extends Z{constructor(ie,de){super(ie,de),this.scheduler=ie,this.work=de,this.pending=!1}schedule(ie,de=0){if(this.closed)return this;this.state=ie;const le=this.id,$=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId($,le,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId($,this.id,de),this}requestAsyncId(ie,de,le=0){return O.setInterval(ie.flush.bind(ie,this),le)}recycleAsyncId(ie,de,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return de;O.clearInterval(de)}execute(ie,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ie,de);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,de){let $,le=!1;try{this.work(ie)}catch(H){le=!0,$=H||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ie,scheduler:de}=this,{actions:le}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(le,this),null!=ie&&(this.id=this.recycleAsyncId(de,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(dt,Ae,k)=>{k.d(Ae,{v:()=>O});var h=k(6063);class Z{constructor(X,pe=Z.now){this.schedulerActionCtor=X,this.now=pe}schedule(X,pe=0,ie){return new this.schedulerActionCtor(this,X).schedule(ie,pe)}}Z.now=h.l.now;class O extends Z{constructor(X,pe=Z.now){super(X,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:pe}=this;if(this._active)return void pe.push(X);let ie;this._active=!0;do{if(ie=X.execute(X.state,X.delay))break}while(X=pe.shift());if(this._active=!1,ie){for(;X=pe.shift();)X.unsubscribe();throw ie}}}},4986:(dt,Ae,k)=>{k.d(Ae,{z:()=>O});var h=k(4408);const O=new(k(7565).v)(h.o)},6063:(dt,Ae,k)=>{k.d(Ae,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(dt,Ae,k)=>{k.d(Ae,{z:()=>h});const h={setTimeout(Z,O,...ae){const{delegate:X}=h;return(null==X?void 0:X.setTimeout)?X.setTimeout(Z,O,...ae):setTimeout(Z,O,...ae)},clearTimeout(Z){const{delegate:O}=h;return((null==O?void 0:O.clearTimeout)||clearTimeout)(Z)},delegate:void 0}},2202:(dt,Ae,k)=>{k.d(Ae,{h:()=>Z});const Z=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,Ae,k)=>{k.d(Ae,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(dt,Ae,k)=>{k.d(Ae,{_6:()=>pe,jO:()=>ae,yG:()=>X});var h=k(576);function O(ie){return ie[ie.length-1]}function ae(ie){return(0,h.m)(O(ie))?ie.pop():void 0}function X(ie){return function Z(ie){return ie&&(0,h.m)(ie.schedule)}(O(ie))?ie.pop():void 0}function pe(ie,de){return"number"==typeof O(ie)?ie.pop():de}},8737:(dt,Ae,k)=>{function h(Z,O){if(Z){const ae=Z.indexOf(O);0<=ae&&Z.splice(ae,1)}}k.d(Ae,{P:()=>h})},3888:(dt,Ae,k)=>{function h(Z){const ae=Z(X=>{Error.call(X),X.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}k.d(Ae,{d:()=>h})},2806:(dt,Ae,k)=>{k.d(Ae,{O:()=>ae,x:()=>O});var h=k(2416);let Z=null;function O(X){if(h.v.useDeprecatedSynchronousErrorHandling){const pe=!Z;if(pe&&(Z={errorThrown:!1,error:null}),X(),pe){const{errorThrown:ie,error:de}=Z;if(Z=null,ie)throw de}}else X()}function ae(X){h.v.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=X)}},9672:(dt,Ae,k)=>{function h(Z,O,ae,X=0,pe=!1){const ie=O.schedule(function(){ae(),pe?Z.add(this.schedule(null,X)):this.unsubscribe()},X);if(Z.add(ie),!pe)return ie}k.d(Ae,{f:()=>h})},4671:(dt,Ae,k)=>{function h(Z){return Z}k.d(Ae,{y:()=>h})},1144:(dt,Ae,k)=>{k.d(Ae,{z:()=>h});const h=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},2206:(dt,Ae,k)=>{k.d(Ae,{D:()=>Z});var h=k(576);function Z(O){return Symbol.asyncIterator&&(0,h.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(dt,Ae,k)=>{function h(Z){return"function"==typeof Z}k.d(Ae,{m:()=>h})},3670:(dt,Ae,k)=>{k.d(Ae,{c:()=>O});var h=k(8822),Z=k(576);function O(ae){return(0,Z.m)(ae[h.L])}},6495:(dt,Ae,k)=>{k.d(Ae,{T:()=>O});var h=k(2202),Z=k(576);function O(ae){return(0,Z.m)(null==ae?void 0:ae[h.h])}},8239:(dt,Ae,k)=>{k.d(Ae,{t:()=>Z});var h=k(576);function Z(O){return(0,h.m)(null==O?void 0:O.then)}},3260:(dt,Ae,k)=>{k.d(Ae,{L:()=>ae,Q:()=>O});var h=k(655),Z=k(576);function O(X){return(0,h.FC)(this,arguments,function*(){const ie=X.getReader();try{for(;;){const{value:de,done:le}=yield(0,h.qq)(ie.read());if(le)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(de)}}finally{ie.releaseLock()}})}function ae(X){return(0,Z.m)(null==X?void 0:X.getReader)}},4482:(dt,Ae,k)=>{k.d(Ae,{A:()=>Z,e:()=>O});var h=k(576);function Z(ae){return(0,h.m)(null==ae?void 0:ae.lift)}function O(ae){return X=>{if(Z(X))return X.lift(function(pe){try{return ae(pe,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(dt,Ae,k)=>{k.d(Ae,{h:()=>O});var h=k(2416),Z=k(3410);function O(ae){Z.z.setTimeout(()=>{const{onUnhandledError:X}=h.v;if(!X)throw ae;X(ae)})}},4532:(dt,Ae,k)=>{function h(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ae,{z:()=>h})},655:(dt,Ae,k)=>{function ae(J,oe){var ne={};for(var be in J)Object.prototype.hasOwnProperty.call(J,be)&&oe.indexOf(be)<0&&(ne[be]=J[be]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var ge=0;for(be=Object.getOwnPropertySymbols(J);ge<be.length;ge++)oe.indexOf(be[ge])<0&&Object.prototype.propertyIsEnumerable.call(J,be[ge])&&(ne[be[ge]]=J[be[ge]])}return ne}function de(J,oe,ne,be){return new(ne||(ne=Promise))(function(Fe,St){function Qt(Wt){try{qe(be.next(Wt))}catch(Xn){St(Xn)}}function an(Wt){try{qe(be.throw(Wt))}catch(Xn){St(Xn)}}function qe(Wt){Wt.done?Fe(Wt.value):function ge(Fe){return Fe instanceof ne?Fe:new ne(function(St){St(Fe)})}(Wt.value).then(Qt,an)}qe((be=be.apply(J,oe||[])).next())})}function he(J){return this instanceof he?(this.v=J,this):new he(J)}function Ee(J,oe,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,be=ne.apply(J,oe||[]),Fe=[];return ge={},St("next"),St("throw"),St("return"),ge[Symbol.asyncIterator]=function(){return this},ge;function St(Cn){be[Cn]&&(ge[Cn]=function(en){return new Promise(function(Ni,Jt){Fe.push([Cn,en,Ni,Jt])>1||Qt(Cn,en)})})}function Qt(Cn,en){try{!function an(Cn){Cn.value instanceof he?Promise.resolve(Cn.value.v).then(qe,Wt):Xn(Fe[0][2],Cn)}(be[Cn](en))}catch(Ni){Xn(Fe[0][3],Ni)}}function qe(Cn){Qt("next",Cn)}function Wt(Cn){Qt("throw",Cn)}function Xn(Cn,en){Cn(en),Fe.shift(),Fe.length&&Qt(Fe[0][0],Fe[0][1])}}function Qe(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,oe=J[Symbol.asyncIterator];return oe?oe.call(J):(J=function Q(J){var oe="function"==typeof Symbol&&Symbol.iterator,ne=oe&&J[oe],be=0;if(ne)return ne.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&be>=J.length&&(J=void 0),{value:J&&J[be++],done:!J}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ne={},be("next"),be("throw"),be("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function be(Fe){ne[Fe]=J[Fe]&&function(St){return new Promise(function(Qt,an){!function ge(Fe,St,Qt,an){Promise.resolve(an).then(function(qe){Fe({value:qe,done:Qt})},St)}(Qt,an,(St=J[Fe](St)).done,St.value)})}}}k.d(Ae,{FC:()=>Ee,KL:()=>Qe,_T:()=>ae,mG:()=>de,qq:()=>he})},5e3:(dt,Ae,k)=>{k.d(Ae,{$8M:()=>Co,$Z:()=>lv,AFp:()=>Qa,ALo:()=>u0,AaK:()=>de,CHM:()=>hl,CRH:()=>Hb,CZH:()=>Cc,CqO:()=>ME,EJc:()=>eD,EpF:()=>qd,F$t:()=>Xg,F4k:()=>zd,FYo:()=>Mn,FiY:()=>mi,G48:()=>ao,GfV:()=>ih,Gpc:()=>H,Hsn:()=>NE,JOm:()=>se,Jf7:()=>pg,LFG:()=>nt,LSH:()=>ku,Lbi:()=>b0,MAs:()=>EE,NdJ:()=>Qg,O4$:()=>Zc,OlP:()=>En,Oqu:()=>Ts,PXZ:()=>NT,Q6J:()=>cv,QGY:()=>fv,Qsj:()=>bm,R0b:()=>us,RDi:()=>ys,Rgc:()=>_c,SBq:()=>qu,Sil:()=>Ii,Suo:()=>f0,TTD:()=>go,TgZ:()=>Zg,Tol:()=>jE,VKq:()=>ep,VLi:()=>qm,W1O:()=>Za,X6Q:()=>yh,XFs:()=>ht,Xpm:()=>Bt,Y36:()=>Lf,YKP:()=>Ib,YNc:()=>wE,Yjl:()=>br,Yz7:()=>en,ZZ4:()=>Mc,_Bn:()=>wb,_UZ:()=>hv,_Vd:()=>ya,_c5:()=>or,_uU:()=>KE,aQg:()=>Yn,c2e:()=>Xb,cJS:()=>Jt,cg1:()=>Sv,dDg:()=>iD,deG:()=>Qp,dqk:()=>Gt,eFA:()=>aD,ekj:()=>tm,g9A:()=>Zu,h0i:()=>gc,hGG:()=>ty,hij:()=>vv,iGM:()=>$b,ifc:()=>Zt,ip1:()=>jo,kL8:()=>uc,kcU:()=>Sy,lG2:()=>Xt,lcZ:()=>ip,n5z:()=>nd,oAB:()=>Y,oxw:()=>CI,q4F:()=>Eb,qLn:()=>Rr,qOj:()=>xf,qZA:()=>Yg,sBO:()=>x0,sIi:()=>Bg,s_b:()=>op,soG:()=>Ic,tBr:()=>Br,tb:()=>gh,tp0:()=>So,uIk:()=>Y_,vHH:()=>Ne,vpe:()=>oo,wAp:()=>Et,xp6:()=>m_,z2F:()=>Ju,zSh:()=>H_,zs3:()=>ja});var h=k(7579),Z=k(727),O=k(8306),ae=k(6451),X=k(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function ie(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function le(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=pe({__forward_ref__:pe});function H(s){return s.__forward_ref__=H,s.toString=function(){return de(this())},s}function Q(s){return We(s)?s():s}function We(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===H}class Ne extends Error{constructor(o,a){super(function Le(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function he(s){return"string"==typeof s?s:null==s?"":String(s)}function Ee(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():he(s)}function ye(s,o){const a=o?` in ${o}`:"";throw new Ne(-201,`No provider for ${Ee(s)} found${a}`)}function an(s,o){null==s&&function qe(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function en(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Jt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Kt(s){return lr(s,Wi)||lr(s,cs)}function lr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Pr(s){return s&&(s.hasOwnProperty(Fr)||s.hasOwnProperty(ds))?s[Fr]:null}const Wi=pe({\u0275prov:pe}),Fr=pe({\u0275inj:pe}),cs=pe({ngInjectableDef:pe}),ds=pe({ngInjectorDef:pe});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Hr;function Hn(s){const o=Hr;return Hr=s,o}function si(s,o,a){const l=Kt(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ht.Optional?null:void 0!==o?o:void ye(de(s),"Injector")}function _n(s){return{toString:s}.toString()}var tr=(()=>((tr=tr||{})[tr.OnPush=0]="OnPush",tr[tr.Default=1]="Default",tr))(),Zt=(()=>{return(s=Zt||(Zt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Zt;var s})();const lt="undefined"!=typeof globalThis&&globalThis,bt="undefined"!=typeof window&&window,cr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=lt||"undefined"!=typeof global&&global||bt||cr,dr={},ft=[],Er=pe({\u0275cmp:pe}),jt=pe({\u0275dir:pe}),Xe=pe({\u0275pipe:pe}),Te=pe({\u0275mod:pe}),tt=pe({\u0275fac:pe}),pt=pe({__NG_ELEMENT_ID__:pe});let Ht=0;function Bt(s){return _n(()=>{const a={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===tr.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ft,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Zt.Emulated,id:"c",styles:s.styles||ft,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,g=s.features,v=s.pipes;return l.id+=Ht++,l.inputs=vt(s.inputs,a),l.outputs=vt(s.outputs),g&&g.forEach(E=>E(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(V):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(q):null,l})}function V(s){return Yt(s)||function In(s){return s[jt]||null}(s)}function q(s){return function kt(s){return s[Xe]||null}(s)}const ce={};function Y(s){return _n(()=>{const o={type:s.type,bootstrap:s.bootstrap||ft,declarations:s.declarations||ft,imports:s.imports||ft,exports:s.exports||ft,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ce[s.id]=s.type),o})}function vt(s,o){if(null==s)return dr;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=l,o&&(o[d]=g)}return a}const Xt=Bt;function br(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Yt(s){return s[Er]||null}function fn(s,o){const a=s[Te]||null;if(!a&&!0===o)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return a}function Oi(s){return Array.isArray(s)&&"object"==typeof s[1]}function ui(s){return Array.isArray(s)&&!0===s[1]}function Fc(s){return 0!=(8&s.flags)}function Vs(s){return 2==(2&s.flags)}function ou(s){return 1==(1&s.flags)}function Gr(s){return null!==s.template}function kh(s){return 0!=(512&s[2])}function qr(s,o){return s.hasOwnProperty(tt)?s[tt]:null}class Wo{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function go(){return Ia}function Ia(s){return s.type.prototype.ngOnChanges&&(s.setInput=Kp),jc}function jc(){const s=js(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===dr)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Kp(s,o,a,l){const d=js(s)||function li(s,o){return s[Dr]=o}(s,{previous:dr,current:null}),g=d.current||(d.current={}),v=d.previous,E=this.declaredInputs[a],D=v[E];g[E]=new Wo(D&&D.currentValue,o,v===dr),s[l]=o}go.ngInherit=!0;const Dr="__ngSimpleChanges__";function js(s){return s[Dr]||null}let pu;function ys(s){pu=s}function mn(s){return!!s.listen}const Ko={createRenderer:(s,o)=>function Ta(){return void 0!==pu?pu:"undefined"!=typeof document?document:void 0}()};function cn(s){for(;Array.isArray(s);)s=s[0];return s}function yo(s,o){return cn(o[s])}function Ir(s,o){return cn(o[s.index])}function Aa(s,o){return s.data[o]}function ki(s,o){return s[o]}function Tr(s,o){const a=o[s];return Oi(a)?a:a[0]}function Hs(s){return 4==(4&s[2])}function _s(s){return 128==(128&s[2])}function zr(s,o){return null==o?null:s[o]}function Gs(s){s[18]=0}function qs(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const gt={lFrame:vo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function vu(){return gt.bindingsEnabled}function De(){return gt.lFrame.lView}function Ut(){return gt.lFrame.tView}function hl(s){return gt.lFrame.contextLView=s,s[8]}function vn(){let s=Zo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Zo(){return gt.lFrame.currentTNode}function Wr(s,o){const a=gt.lFrame;a.currentTNode=s,a.isParent=o}function fl(){return gt.lFrame.isParent}function pl(){gt.lFrame.isParent=!1}function wu(){return gt.isInCheckNoChangesMode}function zs(s){gt.isInCheckNoChangesMode=s}function pr(){const s=gt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ws(){return gt.lFrame.bindingIndex++}function Pi(s){const o=gt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Du(s,o){const a=gt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Ma(o)}function Ma(s){gt.lFrame.currentDirectiveIndex=s}function _l(){return gt.lFrame.currentQueryIndex}function vl(s){gt.lFrame.currentQueryIndex=s}function qc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function wl(s,o,a){if(a&ht.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||a&ht.Host||(d=qc(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const l=gt.lFrame=zc();return l.currentTNode=o,l.lView=s,!0}function _o(s){const o=zc(),a=s[1];gt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function zc(){const s=gt.lFrame,o=null===s?null:s.child;return null===o?vo(s):o}function vo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Wc(){const s=gt.lFrame;return gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Kc=Wc;function wo(){const s=Wc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ar(){return gt.lFrame.selectedIndex}function Zs(s){gt.lFrame.selectedIndex=s}function Tn(){const s=gt.lFrame;return Aa(s.tView,s.selectedIndex)}function Zc(){gt.lFrame.currentNamespace="svg"}function Sy(){!function bl(){gt.lFrame.currentNamespace=null}()}function vs(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:x}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),D&&(s.viewHooks||(s.viewHooks=[])).push(-a,D),A&&((s.viewHooks||(s.viewHooks=[])).push(a,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,A)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(a,x)}}function xa(s,o,a){Yc(s,o,3,a)}function Cu(s,o,a,l){(3&s[2])===a&&Yc(s,o,a,l)}function Bn(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Yc(s,o,a,l){const g=null!=l?l:-1,v=o.length-1;let E=0;for(let D=void 0!==l?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=l&&E>=l)break}else o[D]<0&&(s[18]+=65536),(E<g||-1==g)&&(Zp(s,a,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Zp(s,o,a,l){const d=a[l]<0,g=a[l+1],E=s[d?-a[l]:a[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Jo{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function yt(s,o,a){const l=mn(s);let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const v=a[d++],E=a[d++],D=a[d++];l?s.setAttribute(o,E,D,v):o.setAttributeNS(v,E,D)}else{const v=g,E=a[++d];Kr(v)?l&&s.setProperty(o,v,E):l?s.setAttribute(o,v,E):o.setAttribute(v,E),d++}}return d}function ir(s){return 3===s||4===s||6===s}function Kr(s){return 64===s.charCodeAt(0)}function Lr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Xo(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function Xo(s,o,a,l,d){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===a){if(null===l)return void(null!==d&&(s[g+1]=d));if(l===s[g+1])return void(s[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,a),null!==l&&s.splice(g++,0,l),null!==d&&s.splice(g++,0,d)}function Xc(s){return-1!==s}function gn(s){return 32767&s}function Fi(s,o){let a=function Vh(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let Iu=!0;function di(s){const o=Iu;return Iu=s,o}let Tl=0;function Un(s,o){const a=ea(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Es(l.data,s),Es(o,null),Es(l.blueprint,null));const d=hi(s,o),g=s.injectorIndex;if(Xc(d)){const v=gn(d),E=Fi(d,o),D=E[1].data;for(let A=0;A<8;A++)o[g+A]=E[v+A]|D[v+A]}return o[g+8]=d,g}function Es(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ea(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function hi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){const g=d[1],v=g.type;if(l=2===v?g.declTNode:1===v?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Ys(s,o,a){!function bo(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(pt)&&(l=a[pt]),null==l&&(l=a[pt]=Tl++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function Yi(s,o,a){if(a&ht.Optional)return s;ye(o,"NodeInjector")}function Al(s,o,a,l){if(a&ht.Optional&&void 0===l&&(l=null),0==(a&(ht.Self|ht.Host))){const d=s[9],g=Hn(void 0);try{return d?d.get(o,l,a&ht.Optional):si(o,l,a&ht.Optional)}finally{Hn(g)}}return Yi(l,o,a)}function Qs(s,o,a,l=ht.Default,d){if(null!==s){const g=function ta(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(pt)?s[pt]:void 0;return"number"==typeof o?o>=0?255&o:Sl:o}(a);if("function"==typeof g){if(!wl(o,s,l))return l&ht.Host?Yi(d,a,l):Al(o,a,l,d);try{const v=g(l);if(null!=v||l&ht.Optional)return v;ye(a)}finally{Kc()}}else if("number"==typeof g){let v=null,E=ea(s,o),D=-1,A=l&ht.Host?o[16][6]:null;for((-1===E||l&ht.SkipSelf)&&(D=-1===E?hi(s,o):o[E+8],-1!==D&&Vr(l,!1)?(v=o[1],E=gn(D),o=Fi(D,o)):E=-1);-1!==E;){const x=o[1];if(na(g,E,x.data)){const P=td(E,o,a,v,l,A);if(P!==Qi)return P}D=o[E+8],-1!==D&&Vr(l,o[1].data[E+8]===A)&&na(g,E,o)?(v=x,E=gn(D),o=Fi(D,o)):E=-1}}}return Al(o,a,l,d)}const Qi={};function Sl(){return new Vi(vn(),De())}function td(s,o,a,l,d,g){const v=o[1],E=v.data[s+8],x=Do(E,v,a,null==l?Vs(E)&&Iu:l!=v&&0!=(3&E.type),d&ht.Host&&g===E);return null!==x?Li(o,v,x,E):Qi}function Do(s,o,a,l,d){const g=s.providerIndexes,v=o.data,E=1048575&g,D=s.directiveStart,x=g>>20,U=d?E+x:s.directiveEnd;for(let K=l?E:E+x;K<U;K++){const me=v[K];if(K<D&&a===me||K>=D&&me.type===a)return K}if(d){const K=v[D];if(K&&Gr(K)&&K.type===a)return D}return null}function Li(s,o,a,l){let d=s[a];const g=o.data;if(function Qc(s){return s instanceof Jo}(d)){const v=d;v.resolving&&function it(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${s}${a}`)}(Ee(g[a]));const E=di(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Hn(v.injectImpl):null;wl(s,l,ht.Default);try{d=s[a]=v.factory(void 0,g,s,l),o.firstCreatePass&&a>=l.directiveStart&&function Dl(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const v=Ia(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==D&&Hn(D),di(E),v.resolving=!1,Kc()}}return d}function na(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Vr(s,o){return!(s&ht.Self||s&ht.Host&&o)}class Vi{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Qs(this._tNode,this._lView,o,l,a)}}function nd(s){return _n(()=>{const o=s.prototype.constructor,a=o[tt]||kn(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const g=d[tt]||kn(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function kn(s){return We(s)?()=>{const o=kn(Q(s));return o&&o()}:qr(s)}function Co(s){return function fi(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const g=a[d];if(ir(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(vn(),s)}const ra="__parameters__";function wn(s,o,a){return _n(()=>{const l=function Xi(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const v=new d(...g);return E.annotation=v,E;function E(D,A,x){const P=D.hasOwnProperty(ra)?D[ra]:Object.defineProperty(D,ra,{value:[]})[ra];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(v),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class En{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=en({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Qp=new En("AnalyzeForEntryComponents");function Mr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),Mr(l,o)):o!==s&&o.push(l)}return o}function pi(s,o){s.forEach(a=>Array.isArray(a)?pi(a,o):o(a))}function Rl(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Ds(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ui(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}function qn(s,o,a){let l=to(s,o);return l>=0?s[1|l]=a:(l=~l,function Nl(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function Pl(s,o){const a=to(s,o);if(a>=0)return s[1|a]}function to(s,o){return function Io(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const g=l+(d-l>>1),v=s[g<<a];if(o===v)return g<<a;v>o?d=g:l=g+1}return~(d<<a)}(s,o,1)}const To={},sa="__NG_DI_FLAG__",Mu="ngTempTokenPath",I=/\n/gm,L="__source",W=pe({provide:String,useValue:pe});let ee;function Me(s){const o=ee;return ee=s,o}function xe(s,o=ht.Default){if(void 0===ee)throw new Ne(203,"");return null===ee?si(s,void 0,o):ee.get(s,o&ht.Optional?null:void 0,o)}function nt(s,o=ht.Default){return(function er(){return Hr}()||xe)(Q(s),o)}const Pt=nt;function Mt(s){const o=[];for(let a=0;a<s.length;a++){const l=Q(s[a]);if(Array.isArray(l)){if(0===l.length)throw new Ne(900,"");let d,g=ht.Default;for(let v=0;v<l.length;v++){const E=l[v],D=An(E);"number"==typeof D?-1===D?d=E.token:g|=D:d=E}o.push(nt(d,g))}else o.push(nt(l))}return o}function jn(s,o){return s[sa]=o,s.prototype[sa]=o,s}function An(s){return s[sa]}const Br=jn(wn("Inject",s=>({token:s})),-1),mi=jn(wn("Optional"),8),So=jn(wn("SkipSelf"),4);class hd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function no(s){return s instanceof hd?s.changingThisBreaksApplicationSecurity:s}const ro=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var sn=(()=>((sn=sn||{})[sn.NONE=0]="NONE",sn[sn.HTML=1]="HTML",sn[sn.STYLE=2]="STYLE",sn[sn.SCRIPT=3]="SCRIPT",sn[sn.URL=4]="URL",sn[sn.RESOURCE_URL=5]="RESOURCE_URL",sn))();function ku(s){const o=function ca(){const s=De();return s&&s[12]}();return o?o.sanitize(sn.URL,s)||"":function ua(s,o){const a=function Ru(s){return s instanceof hd&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?no(s):function Nu(s){return(s=String(s)).match(ro)||s.match(zh)?s:"unsafe:"+s}(he(s))}const nf="__ngContext__";function Ur(s,o){s[nf]=o}function rf(s){const o=function Pa(s){return s[nf]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Va(s){return s.ngOriginalError}function fg(s,...o){s.error(...o)}class Rr{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),l=function Qy(s){return s&&s.ngErrorLogger||fg}(o);l(this._console,"ERROR",o),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Va(o);for(;a&&Va(a);)a=Va(a);return a||null}}const t_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function pg(s){return s.ownerDocument.defaultView}function m(s){return s instanceof Function?s():s}var se=(()=>((se=se||{})[se.Important=1]="Important",se[se.DashCase=2]="DashCase",se))();function rt(s,o){return undefined(s,o)}function Sn(s){const o=s[3];return ui(o)?o[3]:o}function Pu(s){return hf(s[13])}function Fu(s){return hf(s[4])}function hf(s){for(;null!==s&&!ui(s);)s=s[4];return s}function da(s,o,a,l,d){if(null!=l){let g,v=!1;ui(l)?g=l:Oi(l)&&(v=!0,l=l[0]);const E=cn(l);0===s&&null!==a?null==d?a_(o,a,E):Is(o,a,E,d||null,!0):1===s&&null!==a?Is(o,a,E,d||null,!0):2===s?function d_(s,o,a){const l=ha(s,o);l&&function wC(s,o,a,l){mn(s)?s.removeChild(o,a,l):o.removeChild(a)}(s,l,o,a)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function Cw(s,o,a,l,d){const g=a[7];g!==cn(a)&&da(o,s,l,g,d);for(let E=10;E<a.length;E++){const D=a[E];vg(D[1],D,s,o,l,g)}}(o,s,g,a,d)}}function wd(s,o,a){if(mn(s))return s.createElement(o,a);{const l=null!==a?function fu(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?s.createElement(o):s.createElementNS(l,o)}}function gw(s,o){const a=s[9],l=a.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,qs(d,-1)),a.splice(l,1)}function i_(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const d=l[17];null!==d&&d!==s&&gw(d,l),o>0&&(s[a-1][4]=l[4]);const g=Ds(s,10+o);!function Gi(s,o){vg(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function s_(s,o){if(!(256&o[2])){const a=o[11];mn(a)&&a.destroyNode&&vg(s,o,a,3,null,null),function Ed(s){let o=s[13];if(!o)return o_(s[1],s);for(;o;){let a=null;if(Oi(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)Oi(o)&&o_(o[1],o),o=o[3];null===o&&(o=s),Oi(o)&&o_(o[1],o),a=o&&o[4]}o=a}}(o)}}function o_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function yw(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof Jo)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=d[g[v]],D=g[v+1];try{D.call(E)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function mw(s,o){const a=s.cleanup,l=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],E="function"==typeof v?v(o):cn(o[v]),D=l[d=a[g+2]],A=a[g+3];"boolean"==typeof A?E.removeEventListener(a[g],D,A):A>=0?l[d=A]():l[d=-A].unsubscribe(),g+=2}else{const v=l[d=a[g+1]];a[g].call(v)}if(null!==l){for(let g=d+1;g<l.length;g++)l[g]();o[7]=null}}(s,o),1===o[1].type&&mn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ui(o[3])){a!==o[3]&&gw(a,o);const l=o[19];null!==l&&l.detachView(s)}}}function yg(s,o,a){return function vC(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===Zt.None||d===Zt.Emulated)return null}return Ir(l,a)}(s,o.parent,a)}function Is(s,o,a,l,d){mn(s)?s.insertBefore(o,a,l,d):o.insertBefore(a,l,d)}function a_(s,o,a){mn(s)?s.appendChild(o,a):o.appendChild(a)}function _w(s,o,a,l,d){null!==l?Is(s,o,a,l,d):a_(s,o,a)}function ha(s,o){return mn(s)?s.parentNode(o):o.parentNode}function vw(s,o,a){return u_(s,o,a)}let u_=function ww(s,o,a){return 40&s.type?Ir(s,a):null};function _g(s,o,a,l){const d=yg(s,l,o),g=o[11],E=vw(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)_w(g,d,a[D],E,!1);else _w(g,d,a,E,!1)}function Dd(s,o){if(null!==o){const a=o.type;if(3&a)return Ir(o,s);if(4&a)return c_(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Dd(s,l);{const d=s[o.index];return ui(d)?c_(-1,d):cn(d)}}if(32&a)return rt(o,s)()||cn(s[o.index]);{const l=bw(s,o);return null!==l?Array.isArray(l)?l[0]:Dd(Sn(s[16]),l):Dd(s,o.next)}}return null}function bw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function c_(s,o){const a=10+s+1;if(a<o.length){const l=o[a],d=l[1].firstChild;if(null!==d)return Dd(l,d)}return o[7]}function h_(s,o,a,l,d,g,v){for(;null!=a;){const E=l[a.index],D=a.type;if(v&&0===o&&(E&&Ur(cn(E),l),a.flags|=4),64!=(64&a.flags))if(8&D)h_(s,o,a.child,l,d,g,!1),da(o,s,d,E,g);else if(32&D){const A=rt(a,l);let x;for(;x=A();)da(o,s,d,x,g);da(o,s,d,E,g)}else 16&D?Dw(s,o,l,a,d,g):da(o,s,d,E,g);a=v?a.projectionNext:a.next}}function vg(s,o,a,l,d,g){h_(a,l,s.firstChild,o,d,g,!1)}function Dw(s,o,a,l,d,g){const v=a[16],D=v[6].projection[l.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)da(o,s,d,D[A],g);else h_(s,o,D,v[3],d,g,!0)}function f_(s,o,a){mn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function gf(s,o,a){mn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function p_(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||s.charCodeAt(d+g)<=32)return d}a=d+1}}const g_="ng-template";function Ql(s,o,a){let l=0;for(;l<s.length;){let d=s[l++];if(a&&"class"===d){if(d=s[l],-1!==p_(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Oo(s){return 4===s.type&&s.value!==g_}function CC(s,o,a){return o===(4!==s.type||a?s.value:g_)}function Iw(s,o,a){let l=4;const d=s.attrs||[],g=function Lu(s){for(let o=0;o<s.length;o++)if(ir(s[o]))return o;return s.length}(d);let v=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!v)if(4&l){if(l=2|1&l,""!==D&&!CC(s,D,a)||""===D&&1===o.length){if(ko(l))return!1;v=!0}}else{const A=8&l?D:o[++E];if(8&l&&null!==s.attrs){if(!Ql(s.attrs,A,a)){if(ko(l))return!1;v=!0}continue}const P=IC(8&l?"class":D,d,Oo(s),a);if(-1===P){if(ko(l))return!1;v=!0;continue}if(""!==A){let U;U=P>g?"":d[P+1].toLowerCase();const K=8&l?U:null;if(K&&-1!==p_(K,A,0)||2&l&&A!==U){if(ko(l))return!1;v=!0}}}}else{if(!v&&!ko(l)&&!ko(D))return!1;if(v&&ko(D))continue;v=!1,l=D|1&l}}return ko(l)||v}function ko(s){return 0==(1&s)}function IC(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let g=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function Aw(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function Tw(s,o,a=!1){for(let l=0;l<o.length;l++)if(Iw(s,o[l],a))return!0;return!1}function _i(s,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(s.length===l.length){for(let d=0;d<s.length;d++)if(s[d]!==l[d])continue e;return!0}}return!1}function Ba(s,o){return s?":not("+o.trim()+")":o}function TC(s){let o=s[0],a=1,l=2,d="",g=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&l){const E=s[++a];d+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!ko(v)&&(o+=Ba(g,d),d=""),l=v,g=g||!ko(l);a++}return""!==d&&(o+=Ba(g,d)),o}const Nt={};function m_(s){y_(Ut(),De(),Ar()+s,wu())}function y_(s,o,a,l){if(!l)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&xa(o,g,a)}else{const g=s.preOrderHooks;null!==g&&Cu(o,g,0,a)}Zs(a)}function mf(s,o){return s<<17|o<<2}function io(s){return s>>17&32767}function bg(s){return 2|s}function fa(s){return(131068&s)>>2}function Dg(s,o){return-131069&s|o<<2}function E_(s){return 1|s}function Vw(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if(-1!==g){const v=s.data[g];vl(d),v.contentQueries(2,o[g],g)}}}function Td(s,o,a,l,d,g,v,E,D,A){const x=o.blueprint.slice();return x[0]=d,x[2]=140|l,Gs(x),x[3]=x[15]=s,x[8]=a,x[10]=v||s&&s[10],x[11]=E||s&&s[11],x[12]=D||s&&s[12]||null,x[9]=A||s&&s[9]||null,x[6]=g,x[16]=2==o.type?s[16]:x,x}function Ad(s,o,a,l,d){let g=s.data[o];if(null===g)g=function Uw(s,o,a,l,d){const g=Zo(),v=fl(),D=s.data[o]=function x_(s,o,a,l,d,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(s,o,a,l,d),function ml(){return gt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=d;const v=function Yo(){const s=gt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Wr(g,!0),g}function Sd(s,o,a,l){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function Md(s,o,a){_o(o);try{const l=s.viewQuery;null!==l&&j_(1,l,a);const d=s.template;null!==d&&jw(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Vw(s,o),s.staticViewQueries&&j_(2,s.viewQuery,a);const g=s.components;null!==g&&function RC(s,o){for(let a=0;a<o.length;a++)Yw(s,o[a])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,wo()}}function wf(s,o,a,l){const d=o[2];if(256==(256&d))return;_o(o);const g=wu();try{Gs(o),function Eu(s){return gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&jw(s,o,a,2,l);const v=3==(3&d);if(!g)if(v){const A=s.preOrderCheckHooks;null!==A&&xa(o,A,null)}else{const A=s.preOrderHooks;null!==A&&Cu(o,A,0,null),Bn(o,0)}if(function PM(s){for(let o=Pu(s);null!==o;o=Fu(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const d=a[l],g=d[3];0==(1024&d[2])&&qs(g,1),d[2]|=1024}}}(o),function BC(s){for(let o=Pu(s);null!==o;o=Fu(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1];_s(l)&&wf(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&Vw(s,o),!g)if(v){const A=s.contentCheckHooks;null!==A&&xa(o,A)}else{const A=s.contentHooks;null!==A&&Cu(o,A,1),Bn(o,1)}!function xC(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Zs(~d);else{const g=d,v=a[++l],E=a[++l];Du(v,g),E(2,o[g])}}}finally{Zs(-1)}}(s,o);const E=s.components;null!==E&&function Bw(s,o){for(let a=0;a<o.length;a++)Zw(s,o[a])}(o,E);const D=s.viewQuery;if(null!==D&&j_(2,D,l),!g)if(v){const A=s.viewCheckHooks;null!==A&&xa(o,A)}else{const A=s.viewHooks;null!==A&&Cu(o,A,2),Bn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,qs(o[3],-1))}finally{wo()}}function S_(s,o,a,l){const d=o[10],g=!wu(),v=Hs(o);try{g&&!v&&d.begin&&d.begin(),v&&Md(s,o,l),wf(s,o,a,l)}finally{g&&!v&&d.end&&d.end()}}function jw(s,o,a,l,d){const g=Ar(),v=2&l;try{Zs(-1),v&&o.length>20&&y_(s,o,20,wu()),a(l,d)}finally{Zs(g)}}function Ef(s,o,a){!vu()||(function FC(s,o,a,l){const d=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||Un(a,o),Ur(l,o);const v=a.initialInputs;for(let E=d;E<g;E++){const D=s.data[E],A=Gr(D);A&&Ww(o,a,D);const x=Li(o,s,E,a);Ur(x,o),null!==v&&Kw(0,E-d,x,D,0,v),A&&(Tr(a.index,o)[8]=x)}}(s,o,a,Ir(a,o)),128==(128&a.flags)&&function Tf(s,o,a){const l=a.directiveStart,d=a.directiveEnd,v=a.index,E=function yl(){return gt.lFrame.currentDirectiveIndex}();try{Zs(v);for(let D=l;D<d;D++){const A=s.data[D],x=o[D];Ma(D),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&xg(A,x)}}finally{Zs(-1),Ma(E)}}(s,o,a))}function bf(s,o,a=Ir){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],E=-1===v?a(o,s):s[v];s[d++]=E}}}function NC(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=xd(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function xd(s,o,a,l,d,g,v,E,D,A){const x=20+l,P=x+d,U=function Df(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Nt);return a}(x,P),K="function"==typeof A?A():A;return U[1]={type:s,blueprint:U,template:a,queries:null,viewQuery:E,declTNode:o,data:U.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:K,incompleteFirstPass:!1}}function $w(s,o,a,l){const d=Xw(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&Og(s).push(l,d.length-1))}function R_(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,d):a[l]=[o,d]}return a}function Nd(s,o,a,l){let d=!1;if(vu()){const g=function qw(s,o,a){const l=s.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];Tw(a,v.selectors,!1)&&(d||(d=[]),Ys(Un(a,o),s,v.type),Gr(v)?(LC(s,a),d.unshift(v)):d.push(v))}return d}(s,o,a),v=null===l?null:{"":-1};if(null!==g){d=!0,VC(a,s.data.length,g.length);for(let x=0;x<g.length;x++){const P=g[x];P.providersResolver&&P.providersResolver(P)}let E=!1,D=!1,A=Sd(s,o,g.length,null);for(let x=0;x<g.length;x++){const P=g[x];a.mergedAttrs=Lr(a.mergedAttrs,P.hostAttrs),zw(s,a,o,A,P),OM(A,P,v),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const U=P.type.prototype;!E&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),E=!0),!D&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),D=!0),A++}!function N_(s,o){const l=o.directiveEnd,d=s.data,g=o.attrs,v=[];let E=null,D=null;for(let A=o.directiveStart;A<l;A++){const x=d[A],P=x.inputs,U=null===g||Oo(o)?null:F_(P,g);v.push(U),E=R_(P,A,E),D=R_(x.outputs,A,D)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=D}(s,a)}v&&function NM(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new Ne(-301,!1);l.push(o[d],g)}}}(a,l,v)}return a.mergedAttrs=Lr(a.mergedAttrs,a.attrs),d}function Od(s,o,a,l,d,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const D=~o.index;(function PC(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=D&&E.push(D),E.push(l,d,v)}}function xg(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function LC(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function OM(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Gr(o)&&(a[""]=s)}}function VC(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function zw(s,o,a,l,d){s.data[l]=d;const g=d.factory||(d.factory=qr(d.type)),v=new Jo(g,Gr(d),null);s.blueprint[l]=v,a[l]=v,Od(s,o,0,l,Sd(s,a,d.hostVars,Nt),d)}function Ww(s,o,a){const l=Ir(o,s),d=NC(a),g=s[10],v=Af(s,Td(s,d,null,a.onPush?64:16,l,o,g,g.createRenderer(l,a),null,null));s[o.index]=v}function pa(s,o,a,l,d,g){const v=Ir(s,o);!function Rg(s,o,a,l,d,g,v){if(null==g)mn(s)?s.removeAttribute(o,d,a):o.removeAttribute(d);else{const E=null==v?he(g):v(g,l||"",d);mn(s)?s.setAttribute(o,d,E,a):a?o.setAttributeNS(a,d,E):o.setAttribute(d,E)}}(o[11],v,g,s.value,a,l,d)}function Kw(s,o,a,l,d,g){const v=g[o];if(null!==v){const E=l.setInput;for(let D=0;D<v.length;){const A=v[D++],x=v[D++],P=v[D++];null!==E?l.setInput(a,P,A,x):a[x]=P}}}function F_(s,o){let a=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return a}function L_(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function Zw(s,o){const a=Tr(o,s);if(_s(a)){const l=a[1];80&a[2]?wf(l,a,l.template,a[8]):a[5]>0&&V_(a)}}function V_(s){for(let l=Pu(s);null!==l;l=Fu(l))for(let d=10;d<l.length;d++){const g=l[d];if(1024&g[2]){const v=g[1];wf(v,g,v.template,g[8])}else g[5]>0&&V_(g)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=Tr(a[l],s);_s(d)&&d[5]>0&&V_(d)}}function Yw(s,o){const a=Tr(o,s),l=a[1];(function UC(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),Md(l,a,a[8])}function Af(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Sf(s){for(;s;){s[2]|=64;const o=Sn(s);if(kh(s)&&!o)return s;s=o}return null}function B_(s,o,a){const l=o[10];l.begin&&l.begin();try{wf(s,o,s.template,a)}catch(d){throw $_(o,d),d}finally{l.end&&l.end()}}function kd(s){!function Ng(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],l=rf(a),d=l[1];S_(d,l,d.template,a)}}(s[8])}function j_(s,o,a){vl(0),o(s,a)}const Jw=(()=>Promise.resolve(null))();function Xw(s){return s[7]||(s[7]=[])}function Og(s){return s.cleanup||(s.cleanup=[])}function $_(s,o){const a=s[9],l=a?a.get(Rr,null):null;l&&l.handleError(o)}function tE(s,o,a,l,d){for(let g=0;g<a.length;){const v=a[g++],E=a[g++],D=o[v],A=s.data[v];null!==A.setInput?A.setInput(D,d,l,E):D[E]=d}}function Fo(s,o,a){const l=yo(o,s);!function vd(s,o,a){mn(s)?s.setValue(o,a):o.textContent=a}(s[11],l,a)}function kg(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?d=le(d,E):2==g&&(l=le(l,E+": "+o[++v]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}const rE=new En("INJECTOR",-1);class Pg{get(o,a=To){if(a===To){const l=new Error(`NullInjectorError: No provider for ${de(o)}!`);throw l.name="NullInjectorError",l}return a}}const H_=new En("Set Injector scope."),Pd={},GC={};let Fg;function Bu(){return void 0===Fg&&(Fg=new Pg),Fg}function iE(s,o=null,a=null,l){const d=G_(s,o,a,l);return d._resolveInjectorDefTypes(),d}function G_(s,o=null,a=null,l){return new qC(s,a,o||Bu(),l)}class qC{constructor(o,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&pi(a,E=>this.processProvider(E,o,a)),pi([o],E=>this.processInjectorType(E,[],g)),this.records.set(rE,Xl(void 0,this));const v=this.records.get(H_);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof o?null:de(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=To,l=ht.Default){this.assertNotDestroyed();const d=Me(this),g=Hn(void 0);try{if(!(l&ht.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function uE(s){return"function"==typeof s||"object"==typeof s&&s instanceof En}(o)&&Kt(o);E=D&&this.injectableDefInScope(D)?Xl(Lg(o),Pd):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&ht.Self?Bu():this.parent).get(o,a=l&ht.Optional&&a===To?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Mu]=v[Mu]||[]).unshift(de(o)),d)throw v;return function oa(s,o,a,l){const d=s[Mu];throw o[L]&&d.unshift(o[L]),s.message=function Ao(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=de(o);if(Array.isArray(o))d=o.map(de).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):de(E)))}d=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(I,"\n  ")}`}("\n"+s.message,d,a,l),s.ngTokenPath=d,s[Mu]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Hn(g),Me(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,d)=>o.push(de(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(o,a,l){if(!(o=Q(o)))return!1;let d=Pr(o);const g=null==d&&o.ngModule||void 0,v=void 0===g?o:g,E=-1!==l.indexOf(v);if(void 0!==g&&(d=Pr(g)),null==d)return!1;if(null!=d.imports&&!E){let x;l.push(v);try{pi(d.imports,P=>{this.processInjectorType(P,a,l)&&(void 0===x&&(x=[]),x.push(P))})}finally{}if(void 0!==x)for(let P=0;P<x.length;P++){const{ngModule:U,providers:K}=x[P];pi(K,me=>this.processProvider(me,U,K||ft))}}this.injectorDefTypes.add(v);const D=qr(v)||(()=>new v);this.records.set(v,Xl(D,Pd));const A=d.providers;if(null!=A&&!E){const x=o;pi(A,P=>this.processProvider(P,x,A))}return void 0!==g&&void 0!==o.providers}processProvider(o,a,l){let d=ec(o=Q(o))?o:Q(o&&o.provide);const g=function WC(s,o,a){return sE(s)?Xl(void 0,s.useValue):Xl(Mf(s),Pd)}(o);if(ec(o)||!0!==o.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=Xl(void 0,Pd,!0),v.factory=()=>Mt(v.multi),this.records.set(d,v)),d=o,v.multi.push(o)}this.records.set(d,g)}hydrate(o,a){return a.value===Pd&&(a.value=GC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function YC(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Lg(s){const o=Kt(s),a=null!==o?o.factory:qr(s);if(null!==a)return a;if(s instanceof En)throw new Ne(204,!1);if(s instanceof Function)return function zC(s){const o=s.length;if(o>0)throw Ui(o,"?"),new Ne(204,!1);const a=function ii(s){const o=s&&(s[Wi]||s[cs]);if(o){const a=function Os(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Ne(204,!1)}function Mf(s,o,a){let l;if(ec(s)){const d=Q(s);return qr(d)||Lg(d)}if(sE(s))l=()=>Q(s.useValue);else if(function KC(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Mt(s.deps||[]));else if(function oE(s){return!(!s||!s.useExisting)}(s))l=()=>nt(Q(s.useExisting));else{const d=Q(s&&(s.useClass||s.provide));if(!function aE(s){return!!s.deps}(s))return qr(d)||Lg(d);l=()=>new d(...Mt(s.deps))}return l}function Xl(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function sE(s){return null!==s&&"object"==typeof s&&W in s}function ec(s){return"function"==typeof s}let ja=(()=>{class s{static create(a,l){var d;if(Array.isArray(a))return iE({name:""},l,a,"");{const g=null!==(d=a.name)&&void 0!==d?d:"";return iE({name:g},a.parent,a.providers,g)}}}return s.THROW_IF_NOT_FOUND=To,s.NULL=new Pg,s.\u0275prov=en({token:s,providedIn:"any",factory:()=>nt(rE)}),s.__NG_ELEMENT_ID__=-1,s})();function qM(s,o){vs(rf(s)[1],vn())}function xf(s){let o=function os(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if(Gr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ne(903,"");d=o.\u0275dir}if(d){if(a){l.push(d);const v=s;v.inputs=Lo(s.inputs),v.declaredInputs=Lo(s.declaredInputs),v.outputs=Lo(s.outputs);const E=d.hostBindings;E&&Rf(s,E);const D=d.viewQuery,A=d.contentQueries;if(D&&hE(s,D),A&&sI(s,A),ie(s.inputs,d.inputs),ie(s.declaredInputs,d.declaredInputs),ie(s.outputs,d.outputs),Gr(d)&&d.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===xf&&(a=!1)}}o=Object.getPrototypeOf(o)}!function zM(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Lr(d.hostAttrs,a=Lr(a,d.hostAttrs))}}(l)}function Lo(s){return s===dr?{}:s===ft?[]:s}function hE(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function sI(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,g)=>{o(l,d,g),a(l,d,g)}:o}function Rf(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}let Vg=null;function tc(){if(!Vg){const s=Gt.Symbol;if(s&&s.iterator)Vg=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Vg=l)}}}return Vg}function Bg(s){return!!Ug(s)&&(Array.isArray(s)||!(s instanceof Map)&&tc()in s)}function Ug(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function wi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Y_(s,o,a,l){const d=De();return wi(d,Ws(),o)&&(Ut(),pa(Tn(),d,s,o,a,l)),Y_}function wE(s,o,a,l,d,g,v,E){const D=De(),A=Ut(),x=s+20,P=A.firstCreatePass?function vE(s,o,a,l,d,g,v,E,D){const A=o.consts,x=Ad(o,s,4,v||null,zr(A,E));Nd(o,a,x,zr(A,D)),vs(o,x);const P=x.tViews=xd(2,x,l,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,x),P.queries=o.queries.embeddedTView(x)),x}(x,A,D,o,a,l,d,g,v):A.data[x];Wr(P,!1);const U=D[11].createComment("");_g(A,D,U,P),Ur(U,D),Af(D,D[x]=L_(U,D,U,P)),ou(P)&&Ef(A,D,P),null!=v&&bf(D,P,E)}function EE(s){return ki(function gl(){return gt.lFrame.contextLView}(),20+s)}function Lf(s,o=ht.Default){const a=De();return null===a?nt(s,o):Qs(vn(),a,Q(s),o)}function lv(){throw new Error("invalid")}function cv(s,o,a){const l=De();return wi(l,Ws(),o)&&function vi(s,o,a,l,d,g,v,E){const D=Ir(o,a);let x,A=o.inputs;!E&&null!=A&&(x=A[l])?(tE(s,a,x,l,d),Vs(o)&&function Gw(s,o){const a=Tr(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(l=function Hw(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=v?v(d,o.value||"",l):d,mn(g)?g.setProperty(D,l,d):Kr(l)||(D.setProperty?D.setProperty(l,d):D[l]=d))}(Ut(),Tn(),l,s,o,l[11],a,!1),cv}function dv(s,o,a,l,d){const v=d?"class":"style";tE(s,a,o.inputs[v],v,l)}function Zg(s,o,a,l){const d=De(),g=Ut(),v=20+s,E=d[11],D=d[v]=wd(E,o,function My(){return gt.lFrame.currentNamespace}()),A=g.firstCreatePass?function wI(s,o,a,l,d,g,v){const E=o.consts,A=Ad(o,s,2,d,zr(E,g));return Nd(o,a,A,zr(E,v)),null!==A.attrs&&kg(A,A.attrs,!1),null!==A.mergedAttrs&&kg(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,g,d,0,o,a,l):g.data[v];Wr(A,!0);const x=A.mergedAttrs;null!==x&&yt(E,D,x);const P=A.classes;null!==P&&gf(E,D,P);const U=A.styles;return null!==U&&f_(E,D,U),64!=(64&A.flags)&&_g(g,d,D,A),0===function Sa(){return gt.lFrame.elementDepthCount}()&&Ur(D,d),function yu(){gt.lFrame.elementDepthCount++}(),ou(A)&&(Ef(g,d,A),function M_(s,o,a){if(Fc(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,A,d)),null!==l&&bf(d,A),Zg}function Yg(){let s=vn();fl()?pl():(s=s.parent,Wr(s,!1));const o=s;!function _u(){gt.lFrame.elementDepthCount--}();const a=Ut();return a.firstCreatePass&&(vs(a,s),Fc(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Lh(s){return 0!=(16&s.flags)}(o)&&dv(a,o,De(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Yp(s){return 0!=(32&s.flags)}(o)&&dv(a,o,De(),o.stylesWithoutHost,!1),Yg}function hv(s,o,a,l){return Zg(s,o,a,l),Yg(),hv}function qd(){return De()}function fv(s){return!!s&&"function"==typeof s.then}function zd(s){return!!s&&"function"==typeof s.subscribe}const ME=zd;function Qg(s,o,a,l){const d=De(),g=Ut(),v=vn();return function Vf(s,o,a,l,d,g,v,E){const D=ou(l),x=s.firstCreatePass&&Og(s),P=o[8],U=Xw(o);let K=!0;if(3&l.type||E){const Ve=Ir(l,o),st=E?E(Ve):Ve,Ce=U.length,Je=E?zt=>E(cn(zt[l.index])):l.index;if(mn(a)){let zt=null;if(!E&&D&&(zt=function xE(s,o,a,l){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===l){const E=o[7],D=d[g+2];return E.length>D?E[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,d,l.index)),null!==zt)(zt.__ngLastListenerFn__||zt).__ngNextListenerFn__=g,zt.__ngLastListenerFn__=g,K=!1;else{g=Ei(l,o,P,g,!1);const dn=a.listen(st,d,g);U.push(g,dn),x&&x.push(d,Je,Ce,Ce+1)}}else g=Ei(l,o,P,g,!0),st.addEventListener(d,g,v),U.push(g),x&&x.push(d,Je,Ce,v)}else g=Ei(l,o,P,g,!1);const me=l.outputs;let Pe;if(K&&null!==me&&(Pe=me[d])){const Ve=Pe.length;if(Ve)for(let st=0;st<Ve;st+=2){const ni=o[Pe[st]][Pe[st+1]].subscribe(g),Ai=U.length;U.push(g,ni),x&&x.push(d,l.index,Ai,-(Ai+1))}}}(g,d,d[11],v,s,o,!!a,l),Qg}function RE(s,o,a,l){try{return!1!==a(l)}catch(d){return $_(s,d),!1}}function Ei(s,o,a,l,d){return function g(v){if(v===Function)return l;const E=2&s.flags?Tr(s.index,o):o;0==(32&o[2])&&Sf(E);let D=RE(o,0,l,v),A=g.__ngNextListenerFn__;for(;A;)D=RE(o,0,A,v)&&D,A=A.__ngNextListenerFn__;return d&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function CI(s=1){return function Ks(s){return(gt.lFrame.contextLView=function El(s,o){for(;s>0;)o=o[15],s--;return o}(s,gt.lFrame.contextLView))[8]}(s)}function Jg(s,o){let a=null;const l=function wg(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const g=o[d];if("*"!==g){if(null===l?Tw(s,g,!0):_i(l,g))return d}else a=d}return a}function Xg(s){const o=De()[16][6];if(!o.projection){const l=o.projection=Ui(s?s.length:1,null),d=l.slice();let g=o.child;for(;null!==g;){const v=s?Jg(g,s):0;null!==v&&(d[v]?d[v].projectionNext=g:l[v]=g,d[v]=g),g=g.next}}}function NE(s,o=0,a){const l=De(),d=Ut(),g=Ad(d,20+s,16,null,a||null);null===g.projection&&(g.projection=o),pl(),64!=(64&g.flags)&&function bC(s,o,a){Dw(o[11],0,o,a,yg(s,a,o),vw(a.parent||o[6],a,o))}(d,l,g)}function MI(s,o,a,l,d){const g=s[a+1],v=null===o;let E=l?io(g):fa(g),D=!1;for(;0!==E&&(!1===D||v);){const x=s[E+1];LE(s[E],o)&&(D=!0,s[E+1]=l?E_(x):bg(x)),E=l?io(x):fa(x)}D&&(s[a+1]=l?bg(g):E_(g))}function LE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&to(s,o)>=0}const Wn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xI(s){return s.substring(Wn.key,Wn.keyEnd)}function RI(s,o){const a=Wn.textEnd;return a===o?-1:(o=Wn.keyEnd=function VE(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Wn.key=o,a),Uf(s,o,a))}function Uf(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function tm(s,o){return function Bo(s,o,a,l){const d=De(),g=Ut(),v=Pi(2);g.firstUpdatePass&&HE(g,s,v,l),o!==Nt&&wi(d,v,o)&&qE(g,g.data[Ar()],d,d[11],s,d[v+1]=function _v(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=de(no(s)))),s}(o,a),l,v)}(s,o,null,!0),tm}function jE(s){!function Uo(s,o,a,l){const d=Ut(),g=Pi(2);d.firstUpdatePass&&HE(d,null,g,l);const v=De();if(a!==Nt&&wi(v,g,a)){const E=d.data[Ar()];if(WE(E,l)&&!$E(d,g)){let D=l?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(a=le(D,a||"")),dv(d,E,v,a,l)}else!function UI(s,o,a,l,d,g,v,E){d===Nt&&(d=ft);let D=0,A=0,x=0<d.length?d[0]:null,P=0<g.length?g[0]:null;for(;null!==x||null!==P;){const U=D<d.length?d[D+1]:void 0,K=A<g.length?g[A+1]:void 0;let Pe,me=null;x===P?(D+=2,A+=2,U!==K&&(me=P,Pe=K)):null===P||null!==x&&x<P?(D+=2,me=x):(A+=2,me=P,Pe=K),null!==me&&qE(s,o,a,l,me,Pe,v,E),x=D<d.length?d[D]:null,P=A<g.length?g[A]:null}}(d,E,v,v[11],v[g+1],v[g+1]=function BI(s,o,a){if(null==a||""===a)return ft;const l=[],d=no(a);if(Array.isArray(d))for(let g=0;g<d.length;g++)s(l,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&s(l,g,d[g]);else"string"==typeof d&&o(l,d);return l}(s,o,a),l,g)}}(qn,Vo,s,!0)}function Vo(s,o){for(let a=function ex(s){return function OI(s){Wn.key=0,Wn.keyEnd=0,Wn.value=0,Wn.valueEnd=0,Wn.textEnd=s.length}(s),RI(s,Uf(s,0,Wn.textEnd))}(o);a>=0;a=RI(o,a))qn(s,xI(o),!0)}function $E(s,o){return o>=s.expandoStartIndex}function HE(s,o,a,l){const d=s.data;if(null===d[a+1]){const g=d[Ar()],v=$E(s,a);WE(g,l)&&null===o&&!v&&(o=!1),o=function PI(s,o,a,l){const d=function Qo(s){const o=gt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=$f(a=yv(null,s,o,a,l),o.attrs,l),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(a=yv(d,s,o,a,l),null===g){let D=function FI(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==fa(l))return s[io(l)]}(s,o,l);void 0!==D&&Array.isArray(D)&&(D=yv(null,s,o,D[1],l),D=$f(D,o.attrs,l),function LI(s,o,a,l){s[io(a?o.classBindings:o.styleBindings)]=l}(s,o,l,D))}else g=function VI(s,o,a){let l;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)l=$f(l,s[g].hostAttrs,a);return $f(l,o.attrs,a)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,l),function JM(s,o,a,l,d,g){let v=g?o.classBindings:o.styleBindings,E=io(v),D=fa(v);s[l]=a;let x,A=!1;if(Array.isArray(a)){const P=a;x=P[1],(null===x||to(P,x)>0)&&(A=!0)}else x=a;if(d)if(0!==D){const U=io(s[E+1]);s[l+1]=mf(U,E),0!==U&&(s[U+1]=Dg(s[U+1],l)),s[E+1]=function Eg(s,o){return 131071&s|o<<17}(s[E+1],l)}else s[l+1]=mf(E,0),0!==E&&(s[E+1]=Dg(s[E+1],l)),E=l;else s[l+1]=mf(D,0),0===E?E=l:s[D+1]=Dg(s[D+1],l),D=l;A&&(s[l+1]=bg(s[l+1])),MI(s,x,l,!0),MI(s,x,l,!1),function SI(s,o,a,l,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&to(g,o)>=0&&(a[l+1]=E_(a[l+1]))}(o,x,s,l,g),v=mf(E,D),g?o.classBindings=v:o.styleBindings=v}(d,g,o,a,v,l)}}function yv(s,o,a,l,d){let g=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(g=o[E],l=$f(l,g.hostAttrs,d),g!==s);)E++;return null!==s&&(a.directiveStylingLast=E),l}function $f(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),qn(s,v,!!a||o[++g]))}return void 0===s?null:s}function qE(s,o,a,l,d,g,v,E){if(!(3&o.type))return;const D=s.data,A=D[E+1];gr(function w_(s){return 1==(1&s)}(A)?zE(D,o,a,d,fa(A),v):void 0)||(gr(g)||function v_(s){return 2==(2&s)}(A)&&(g=zE(D,null,a,d,E,v)),function DC(s,o,a,l,d){const g=mn(s);if(o)d?g?s.addClass(a,l):a.classList.add(l):g?s.removeClass(a,l):a.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:se.DashCase;if(null==d)g?s.removeStyle(a,l,v):a.style.removeProperty(l);else{const E="string"==typeof d&&d.endsWith("!important");E&&(d=d.slice(0,-10),v|=se.Important),g?s.setStyle(a,l,d,v):a.style.setProperty(l,d,E?"important":"")}}}(l,v,yo(Ar(),a),d,g))}function zE(s,o,a,l,d,g){const v=null===o;let E;for(;d>0;){const D=s[d],A=Array.isArray(D),x=A?D[1]:D,P=null===x;let U=a[d+1];U===Nt&&(U=P?ft:void 0);let K=P?Pl(U,l):x===l?U:void 0;if(A&&!gr(K)&&(K=Pl(D,l)),gr(K)&&(E=K,v))return E;const me=s[d+1];d=v?io(me):fa(me)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(E=Pl(D,l))}return E}function gr(s){return void 0!==s}function WE(s,o){return 0!=(s.flags&(o?16:32))}function KE(s,o=""){const a=De(),l=Ut(),d=s+20,g=l.firstCreatePass?Ad(l,d,1,o,null):l.data[d],v=a[d]=function _d(s,o){return mn(s)?s.createText(o):s.createTextNode(o)}(a[11],o);_g(l,a,v,g),Wr(g,!1)}function Ts(s){return vv("",s,""),Ts}function vv(s,o,a){const l=De(),d=function Vd(s,o,a,l){return wi(s,Ws(),a)?o+he(a)+l:Nt}(l,s,o,a);return d!==Nt&&Fo(l,Ar(),d),vv}const Ga=void 0;var eb=["en",[["a","p"],["AM","PM"],Ga],[["AM","PM"],Ga,Ga],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ga,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ga,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ga,"{1} 'at' {0}",Ga],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function XE(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let ac={};function Sv(s){const o=function WI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Mv(o);if(a)return a;const l=o.split("-")[0];if(a=Mv(l),a)return a;if("en"===l)return eb;throw new Error(`Missing locale data for the locale "${s}".`)}function uc(s){return Sv(s)[Et.PluralCase]}function Mv(s){return s in ac||(ac[s]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[s]),ac[s]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const Wd="en-US";let Rv=Wd;function _m(s,o,a,l,d){if(s=Q(s),Array.isArray(s))for(let g=0;g<s.length;g++)_m(s[g],o,a,l,d);else{const g=Ut(),v=De();let E=ec(s)?s:Q(s.provide),D=Mf(s);const A=vn(),x=1048575&A.providerIndexes,P=A.directiveStart,U=A.providerIndexes>>20;if(ec(s)||!s.multi){const K=new Jo(D,d,Lf),me=vm(E,o,d?x:x+U,P);-1===me?(Ys(Un(A,v),g,E),Jv(g,s,o.length),o.push(E),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(K),v.push(K)):(a[me]=K,v[me]=K)}else{const K=vm(E,o,x+U,P),me=vm(E,o,x,x+U),Pe=K>=0&&a[K],Ve=me>=0&&a[me];if(d&&!Ve||!d&&!Pe){Ys(Un(A,v),g,E);const st=function Xv(s,o,a,l,d){const g=new Jo(s,a,Lf);return g.multi=[],g.index=o,g.componentProviders=0,rh(g,d,l&&!a),g}(d?Yf:wm,a.length,d,l,D);!d&&Ve&&(a[me].providerFactory=st),Jv(g,s,o.length,0),o.push(E),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(st),v.push(st)}else Jv(g,s,K>-1?K:me,rh(a[d?me:K],D,!d&&l));!d&&l&&Ve&&a[me].componentProviders++}}}function Jv(s,o,a,l){const d=ec(o),g=function ZC(s){return!!s.useClass}(o);if(d||g){const D=(g?Q(o.useClass):o).prototype.ngOnDestroy;if(D){const A=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const x=A.indexOf(a);-1===x?A.push(a,[l,D]):A[x+1].push(l,D)}else A.push(a,D)}}}function rh(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function vm(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function wm(s,o,a,l){return qa(this.multi,[])}function Yf(s,o,a,l){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Li(a,a[1],this.providerFactory.index,l);g=E.slice(0,v),qa(d,g);for(let D=v;D<E.length;D++)g.push(E[D])}else g=[],qa(d,g);return g}function qa(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function wb(s,o=[]){return a=>{a.providersResolver=(l,d)=>function vb(s,o,a){const l=Ut();if(l.firstCreatePass){const d=Gr(s);_m(a,l.data,l.blueprint,d,!0),_m(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class pc{}class aT{resolveComponentFactory(o){throw function t0(s){const o=Error(`No component factory found for ${de(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let ya=(()=>{class s{}return s.NULL=new aT,s})();function za(){return Wa(vn(),De())}function Wa(s,o){return new qu(Ir(s,o))}let qu=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=za,s})();function Em(s){return s instanceof qu?s.nativeElement:s}class Mn{}let bm=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function cT(){const s=De(),a=Tr(vn().index,s);return function lT(s){return s[11]}(Oi(a)?a:s)}(),s})(),Qf=(()=>{class s{}return s.\u0275prov=en({token:s,providedIn:"root",factory:()=>null}),s})();class ih{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Eb=new ih("13.3.6"),Dm={};function Cm(s,o,a,l,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(cn(g)),ui(g))for(let E=10;E<g.length;E++){const D=g[E],A=D[1].firstChild;null!==A&&Cm(D[1],D,A,l)}const v=a.type;if(8&v)Cm(s,o,a.child,l);else if(32&v){const E=rt(a,o);let D;for(;D=E();)l.push(D)}else if(16&v){const E=bw(o,a);if(Array.isArray(E))l.push(...E);else{const D=Sn(o[16]);Cm(D[1],D,E,l,!0)}}a=d?a.projectionNext:a.next}return l}class Jf{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Cm(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ui(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(i_(o,l),Ds(a,l))}this._attachedToViewContainer=!1}s_(this._lView[1],this._lView)}onDestroy(o){$w(this._lView[1],this._lView,null,o)}markForCheck(){Sf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){B_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function $C(s,o,a){zs(!0);try{B_(s,o,a)}finally{zs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mg(s,o){vg(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=o}}class dT extends Jf{constructor(o){super(o),this._view=o}detectChanges(){kd(this._view)}checkNoChanges(){!function U_(s){zs(!0);try{kd(s)}finally{zs(!1)}}(this._view)}get context(){return null}}class bb extends ya{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Yt(o);return new Im(a,this.ngModule)}}function sh(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Im extends pc{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function SM(s){return s.map(TC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return sh(this.componentDef.inputs)}get outputs(){return sh(this.componentDef.outputs)}create(o,a,l,d){const g=(d=d||this.ngModule)?function Db(s,o){return{get:(a,l,d)=>{const g=s.get(a,Dm,d);return g!==Dm||l===Dm?g:o.get(a,l,d)}}}(o,d.injector):o,v=g.get(Mn,Ko),E=g.get(Qf,null),D=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=l?function Rd(s,o,a){if(mn(s))return s.selectRootElement(o,a===Zt.ShadowDom);let l="string"==typeof o?s.querySelector(o):o;return l.textContent="",l}(D,l,this.componentDef.encapsulation):wd(v.createRenderer(null,this.componentDef),A,function zu(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),P=this.componentDef.onPush?576:528,U=function iI(s,o){return{components:[],scheduler:s||t_,clean:Jw,playerHandler:o||null,flags:0}}(),K=xd(0,null,null,1,0,null,null,null,null,null),me=Td(null,K,U,P,null,null,v,D,E,g);let Pe,Ve;_o(me);try{const st=function nI(s,o,a,l,d,g){const v=a[1];a[20]=s;const D=Ad(v,20,2,"#host",null),A=D.mergedAttrs=o.hostAttrs;null!==A&&(kg(D,A,!0),null!==s&&(yt(d,s,A),null!==D.classes&&gf(d,s,D.classes),null!==D.styles&&f_(d,s,D.styles)));const x=l.createRenderer(s,o),P=Td(a,NC(o),null,o.onPush?64:16,a[20],D,l,x,g||null,null);return v.firstCreatePass&&(Ys(Un(D,a),v,o.type),LC(v,D),VC(D,a.length,1)),Af(a,P),a[20]=P}(x,this.componentDef,me,v,D);if(x)if(l)yt(D,x,["ng-version",Eb.full]);else{const{attrs:Ce,classes:Je}=function Sw(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++l]):8===d&&a.push(g);else{if(!ko(d))break;d=g}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ce&&yt(D,x,Ce),Je&&Je.length>0&&gf(D,x,Je.join(" "))}if(Ve=Aa(K,20),void 0!==a){const Ce=Ve.projection=[];for(let Je=0;Je<this.ngContentSelectors.length;Je++){const zt=a[Je];Ce.push(null!=zt?Array.from(zt):null)}}Pe=function rI(s,o,a,l,d){const g=a[1],v=function P_(s,o,a){const l=vn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),zw(s,l,o,Sd(s,o,1,null),a));const d=Li(o,s,l.directiveStart,l);Ur(d,o);const g=Ir(l,o);return g&&Ur(g,o),d}(g,a,o);if(l.components.push(v),s[8]=v,d&&d.forEach(D=>D(v,o)),o.contentQueries){const D=vn();o.contentQueries(1,v,D.directiveStart)}const E=vn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Zs(E.index),Od(a[1],E,0,E.directiveStart,E.directiveEnd,o),xg(o,v)),v}(st,this.componentDef,me,U,[qM]),Md(K,me,null)}finally{wo()}return new hT(this.componentType,Pe,Wa(Ve,me),me,Ve)}}class hT extends class e0{}{constructor(o,a,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new dT(d),this.componentType=o}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class gc{}class Ib{}const mc=new Map;class Ab extends gc{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new bb(this);const l=fn(o);this._bootstrapComponents=m(l.bootstrap),this._r3Injector=G_(o,a,[{provide:gc,useValue:this},{provide:ya,useValue:this.componentFactoryResolver}],de(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=ja.THROW_IF_NOT_FOUND,l=ht.Default){return o===ja||o===gc||o===rE?this:this._r3Injector.get(o,a,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class s0 extends Ib{constructor(o){super(),this.moduleType=o,null!==fn(o)&&function n0(s){const o=new Set;!function a(l){const d=fn(l,!0),g=d.id;null!==g&&(function Tm(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${de(o)} vs ${de(o.name)}`)}(g,mc.get(g),l),mc.set(g,l));const v=m(d.imports);for(const E of v)o.has(E)||(o.add(E),a(E))}(s)}(o)}create(o){return new Ab(this.moduleType,o)}}function ep(s,o,a,l){return Mb(De(),pr(),s,o,a,l)}function Mb(s,o,a,l,d,g){const v=o+a;return wi(s,v,d)?function $a(s,o,a){return s[o]=a}(s,v+1,g?l.call(g,d):l(d)):function oh(s,o){const a=s[o];return a===Nt?void 0:a}(s,v+1)}function u0(s,o){const a=Ut();let l;const d=s+20;a.firstCreatePass?(l=function Ob(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const g=l.factory||(l.factory=qr(l.type)),v=Hn(Lf);try{const E=di(!1),D=g();return di(E),function lI(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,De(),d,D),D}finally{Hn(v)}}function ip(s,o,a){const l=s+20,d=De(),g=ki(d,l);return function yc(s,o){return s[1].data[o].pure}(d,l)?Mb(d,pr(),o,g.transform,a,g):g.transform(a)}function Sm(s){return o=>{setTimeout(s,void 0,o)}}const oo=class sp extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){var d,g,v;let E=o,D=a||(()=>null),A=l;if(o&&"object"==typeof o){const P=o;E=null===(d=P.next)||void 0===d?void 0:d.bind(P),D=null===(g=P.error)||void 0===g?void 0:g.bind(P),A=null===(v=P.complete)||void 0===v?void 0:v.bind(P)}this.__isAsync&&(D=Sm(D),E&&(E=Sm(E)),A&&(A=Sm(A)));const x=super.subscribe({next:E,error:D,complete:A});return o instanceof Z.w0&&o.add(x),x}};function Mm(){return this._results[tc()]()}class xm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=tc(),l=xm.prototype;l[a]||(l[a]=Mm)}get changes(){return this._changes||(this._changes=new oo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=Mr(o);(this._changesDetected=!function xl(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],g=o[l];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let _c=(()=>{class s{}return s.__NG_ELEMENT_ID__=Fb,s})();const Rm=_c,vT=class extends Rm{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o){const a=this._declarationTContainer.tViews,l=Td(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),Md(a,l,o),new Jf(l)}};function Fb(){return Wu(vn(),De())}function Wu(s,o){return 4&s.type?new vT(o,s,Wa(s,o)):null}let op=(()=>{class s{}return s.__NG_ELEMENT_ID__=Lb,s})();function Lb(){return d0(vn(),De())}const l0=op,Nm=class extends l0{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Wa(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){const o=hi(this._hostTNode,this._hostLView);if(Xc(o)){const a=Fi(o,this._hostLView),l=gn(o);return new Vi(a[1].data[l+8],a)}return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=c0(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){const d=o.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(o,a,l,d,g){const v=o&&!function ia(s){return"function"==typeof s}(o);let E;if(v)E=a;else{const P=a||{};E=P.index,l=P.injector,d=P.projectableNodes,g=P.ngModuleRef}const D=v?o:new Im(Yt(o)),A=l||this.parentInjector;if(!g&&null==D.ngModule){const U=(v?A:this.parentInjector).get(gc,null);U&&(g=U)}const x=D.create(A,d,void 0,g);return this.insert(x.hostView,E),x}insert(o,a){const l=o._lView,d=l[1];if(function gu(s){return ui(s[3])}(l)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const P=l[3],U=new Nm(P,P[6],P[3]);U.detach(U.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function r_(s,o,a,l){const d=10+l,g=a.length;l>0&&(a[d-1][4]=o),l<g-10?(o[4]=a[d],Rl(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function bd(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(d,l,v,g);const E=c_(g,v),D=l[11],A=ha(D,v[7]);return null!==A&&function pf(s,o,a,l,d,g){l[0]=d,l[6]=o,vg(s,l,a,1,d,g)}(d,v[6],D,l,A,E),o.attachToViewContainerRef(),Rl(ah(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=c0(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=i_(this._lContainer,a);l&&(Ds(ah(this._lContainer),a),s_(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=i_(this._lContainer,a);return l&&null!=Ds(ah(this._lContainer),a)?new Jf(l):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function c0(s){return s[8]}function ah(s){return s[8]||(s[8]=[])}function d0(s,o){let a;const l=o[s.index];if(ui(l))a=l;else{let d;if(8&s.type)d=cn(l);else{const g=o[11];d=g.createComment("");const v=Ir(s,o);Is(g,ha(g,v),d,function EC(s,o){return mn(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=a=L_(l,o,d,s),Af(o,a)}return new Nm(a,s,o)}class Om{constructor(o){this.queryList=o,this.matches=null}clone(){return new Om(this.queryList)}setDirty(){this.queryList.setDirty()}}class km{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new km(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==wc(o,a).matches&&this.queries[a].setDirty()}}class h0{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class uh{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new uh(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class zi{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new zi(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,a,Bb(a,g)),this.matchTNodeWithReadOption(o,a,Do(a,o,g,!1,!1))}else l===_c?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Do(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===qu||d===op||d===_c&&4&a.type)this.addMatch(a.index,-2);else{const g=Do(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Bb(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function lh(s,o,a,l){return-1===a?function Ub(s,o){return 11&s.type?Wa(s,o):4&s.type?Wu(s,o):null}(o,s):-2===a?function ET(s,o,a){return a===qu?Wa(o,s):a===_c?Wu(o,s):a===op?d0(o,s):void 0}(s,o,l):Li(s,s[1],a,o)}function jb(s,o,a,l){const d=o[19].queries[l];if(null===d.matches){const g=s.data,v=a.matches,E=[];for(let D=0;D<v.length;D+=2){const A=v[D];E.push(A<0?null:lh(o,g[A],v[D+1],a.metadata.read))}d.matches=E}return d.matches}function ap(s,o,a,l){const d=s.queries.getByIndex(a),g=d.matches;if(null!==g){const v=jb(s,o,d,a);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)l.push(v[E/2]);else{const A=g[E+1],x=o[-D];for(let P=10;P<x.length;P++){const U=x[P];U[17]===U[3]&&ap(U[1],U,A,l)}if(null!==x[9]){const P=x[9];for(let U=0;U<P.length;U++){const K=P[U];ap(K[1],K,A,l)}}}}}return l}function $b(s){const o=De(),a=Ut(),l=_l();vl(l+1);const d=wc(a,l);if(s.dirty&&Hs(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?ap(a,o,l,[]):jb(a,o,d,l);s.reset(g,Em),s.notifyOnChanges()}return!0}return!1}function f0(s,o,a,l){const d=Ut();if(d.firstCreatePass){const g=vn();(function p0(s,o,a){null===s.queries&&(s.queries=new uh),s.queries.track(new zi(o,a))})(d,new h0(o,a,l),g.index),function ei(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}!function Gb(s,o,a){const l=new xm(4==(4&a));$w(s,o,l,l.destroy),null===o[19]&&(o[19]=new km),o[19].queries.push(new Om(l))}(d,De(),a)}function Hb(){return function Pm(s,o){return s[19].queries[o].queryList}(De(),_l())}function wc(s,o){return s.queries.getByIndex(o)}function Za(s,o){return Wu(s,o)}function lp(...s){}const jo=new En("Application Initializer");let Cc=(()=>{class s{constructor(a){this.appInits=a,this.resolve=lp,this.reject=lp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(fv(g))a.push(g);else if(ME(g)){const v=new Promise((E,D)=>{g.subscribe({complete:E,error:D})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(nt(jo,8))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Qa=new En("AppId",{providedIn:"root",factory:function E0(){return`${dp()}${dp()}${dp()}`}});function dp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zu=new En("Platform Initializer"),b0=new En("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gh=new En("appBootstrapListener");let Xb=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ic=new En("LocaleId",{providedIn:"root",factory:()=>Pt(Ic,ht.Optional|ht.SkipSelf)||function jm(){return"undefined"!=typeof $localize&&$localize.locale||Wd}()}),eD=new En("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tD{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Ii=(()=>{class s{compileModuleSync(a){return new s0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=m(fn(a).declarations).reduce((v,E)=>{const D=Yt(E);return D&&v.push(new Im(D)),v},[]);return new tD(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const $m=(()=>Promise.resolve(0))();function hp(s){"undefined"==typeof Zone?$m.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class us{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oo(!1),this.onMicrotaskEmpty=new oo(!1),this.onStable=new oo(!1),this.onError=new oo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Tc(){let s=Gt.requestAnimationFrame,o=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Ja(s){const o=()=>{!function xT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Gt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,D0(s),s.isCheckStableRunning=!0,Hm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),D0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,g,v,E)=>{try{return rD(s),a.invokeTask(d,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),C0(s)}},onInvoke:(a,l,d,g,v,E,D)=>{try{return rD(s),a.invoke(d,g,v,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),C0(s)}},onHasTask:(a,l,d,g)=>{a.hasTask(d,g),l===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,D0(s),Hm(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,d,g)=>(a.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!us.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(us.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,fp,lp,lp);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const fp={};function Hm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function D0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function rD(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function C0(s){s._nesting--,Hm(s)}class Ac{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oo,this.onMicrotaskEmpty=new oo,this.onStable=new oo,this.onError=new oo}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}let iD=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{us.assertNotInAngularZone(),hp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hp(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(nt(us))},s.\u0275prov=en({token:s,factory:s.\u0275fac}),s})(),pp=(()=>{class s{constructor(){this._applications=new Map,zm.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return zm.findTestabilityInTree(this,a,l)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class Gm{addToWindow(o){}findTestabilityInTree(o,a,l){return null}}function qm(s){zm=s}let zm=new Gm,Yu=null;const jr=new En("AllowMultipleToken"),sD=new En("PlatformOnDestroy");class NT{constructor(o,a){this.name=o,this.token=a}}function aD(s,o,a=[]){const l=`Platform: ${o}`,d=new En(l);return(g=[])=>{let v=I0();if(!v||v.injector.get(jr,!1)){const E=[...a,...g,{provide:d,useValue:!0}];s?s(E):function OT(s){if(Yu&&!Yu.get(jr,!1))throw new Ne(400,"");Yu=s;const o=s.get(T0),a=s.get(Zu,null);a&&a.forEach(l=>l())}(function Qu(s=[],o){return ja.create({name:o,providers:[{provide:H_,useValue:"platform"},{provide:sD,useValue:()=>Yu=null},...s]})}(E,l))}return function kT(s){const o=I0();if(!o)throw new Ne(401,"");return o}()}}function I0(){var s;return null!==(s=null==Yu?void 0:Yu.get(T0))&&void 0!==s?s:null}let T0=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const E=function uD(s,o){let a;return a="noop"===s?new Ac:("zone.js"===s?void 0:s)||new us({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),D=[{provide:us,useValue:E}];return E.run(()=>{const A=ja.create({providers:D,parent:this.injector,name:a.moduleType.name}),x=a.create(A),P=x.injector.get(Rr,null);if(!P)throw new Ne(402,"");return E.runOutsideAngular(()=>{const U=E.onError.subscribe({next:K=>{P.handleError(K)}});x.onDestroy(()=>{mh(this._modules,x),U.unsubscribe()})}),function Xa(s,o,a){try{const l=a();return fv(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(P,E,()=>{const U=x.injector.get(Cc);return U.runInitializers(),U.donePromise.then(()=>(function KI(s){an(s,"Expected localeId to be defined"),"string"==typeof s&&(Rv=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(Ic,Wd)||Wd),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,l=[]){const d=A0({},l);return function RT(s,o,a){const l=new s0(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const l=a.injector.get(Ju);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Ne(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(sD,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(nt(ja))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function A0(s,o){return Array.isArray(o)?o.reduce(A0,s):Object.assign(Object.assign({},s),o)}let Ju=(()=>{class s{constructor(a,l,d,g){this._zone=a,this._injector=l,this._exceptionHandler=d,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new O.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),E=new O.y(D=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{us.assertNotInAngularZone(),hp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{A.unsubscribe(),x.unsubscribe()}});this.isStable=(0,ae.T)(v,E.pipe((0,X.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Ne(405,"");let d;d=a instanceof pc?a:this._injector.get(ya).resolveComponentFactory(a),this.componentTypes.push(d.componentType);const g=function oD(s){return s.isBoundToModule}(d)?void 0:this._injector.get(gc),E=d.create(ja.NULL,[],l||d.selector,g),D=E.location.nativeElement,A=E.injector.get(iD,null),x=A&&E.injector.get(pp);return A&&x&&x.registerApplication(D,A),E.onDestroy(()=>{this.detachView(E.hostView),mh(this.components,E),x&&x.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;mh(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(gh,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(nt(us),nt(ja),nt(Rr),nt(Cc))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function mh(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Wm=!0,Km=!1;function yh(){return Km=!0,Wm}function ao(){if(Km)throw new Error("Cannot enable prod mode after platform setup.");Wm=!1}let x0=(()=>{class s{}return s.__NG_ELEMENT_ID__=R0,s})();function R0(s){return function lD(s,o,a){if(Vs(s)&&!a){const l=Tr(s.index,o);return new Jf(l,l)}return 47&s.type?new Jf(o[16],o):null}(vn(),De(),16==(16&s))}class yp{constructor(){}supports(o){return Bg(o)}create(o){return new k0(o)}}const jT=(s,o)=>o;class k0{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||jT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<vh(l,d,g)?a:l,E=vh(v,d,g),D=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const A=E-d,x=D-d;if(A!=x){for(let U=0;U<A;U++){const K=U<g.length?g[U]:g[U]=0,me=K+U;x<=me&&me<A&&(g[U]=K+1)}g[v.previousIndex]=x-A}}E!==D&&o(v,E,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Bg(o))throw new Ne(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,E)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,E),l=!0),a=a._next}else d=0,function Z_(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[tc()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,E=>{v=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,E,v,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new $T(a,l),g,d),o}_verifyReinsertion(o,a,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new P0),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new P0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class $T{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dD{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class P0{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new dD,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vh(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class el{constructor(){}supports(o){return o instanceof Map||Ug(o)}create(){return new hD}}class hD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Ug(o)))throw new Ne(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const l=new fD(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class fD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function F0(){return new Mc([new yp])}let Mc=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||F0()),deps:[[s,new So,new mi]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Ne(901,"")}}return s.\u0275prov=en({token:s,providedIn:"root",factory:F0}),s})();function gD(){return new Yn([new el])}let Yn=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||gD()),deps:[[s,new So,new mi]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new Ne(901,"")}}return s.\u0275prov=en({token:s,providedIn:"root",factory:gD}),s})();const or=aD(null,"core",[]);let ty=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(nt(Ju))},s.\u0275mod=Y({type:s}),s.\u0275inj=Jt({}),s})()},3942:(dt,Ae,k)=>{k.d(Ae,{Z:()=>Ne});var h=k(2090),Z=k(4859),O=k(9681),ae=k(1877);class X{constructor(he,Ee){this._delegate=he,this.firebase=Ee,(0,O._addComponent)(he,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(he,Ee=O._DEFAULT_ENTRY_NAME){var it;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(he);return!Qe.isInitialized()&&"EXPLICIT"===(null===(it=Qe.getComponent())||void 0===it?void 0:it.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Ee})}_removeServiceInstance(he,Ee=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(Ee)}_addComponent(he){(0,O._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,O._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function le(){const Le=function de(Le){const he={},Ee={__esModule:!0,initializeApp:function Ie($e,re={}){const Ke=O.initializeApp($e,re);if((0,h.r3)(he,Ke.name))return he[Ke.name];const J=new Le(Ke,Ee);return he[Ke.name]=J,J},app:Qe,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function ve($e){const re=$e.name,Ke=re.replace("-compat","");if(O._registerComponent($e)&&"PUBLIC"===$e.type){const J=(oe=Qe())=>{if("function"!=typeof oe[Ke])throw ie.create("invalid-app-argument",{appName:re});return oe[Ke]()};void 0!==$e.serviceProps&&(0,h.ZB)(J,$e.serviceProps),Ee[Ke]=J,Le.prototype[Ke]=function(...oe){return this._getService.bind(this,re).apply(this,$e.multipleInstances?oe:[])}}return"PUBLIC"===$e.type?Ee[Ke]:null},removeApp:function it($e){delete he[$e]},useAsService:function He($e,re){return"serverAuth"===re?null:re},modularAPIs:O}};function Qe($e){if(!(0,h.r3)(he,$e=$e||O._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:$e});return he[$e]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function ye(){return Object.keys(he).map($e=>he[$e])}}),Qe.App=Le,Ee}(X);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function he(Ee){(0,h.ZB)(Le,Ee)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Le}(),H=new ae.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=$;!function Se(Le){(0,O.registerVersion)("@firebase/app-compat","0.1.22",Le)}()},9681:(dt,Ae,k)=>{k.r(Ae),k.d(Ae,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Pr,_DEFAULT_ENTRY_NAME:()=>Qt,_addComponent:()=>Xn,_addOrOverwriteComponent:()=>Cn,_apps:()=>qe,_clearComponents:()=>Kt,_components:()=>Wt,_getProvider:()=>Ni,_registerComponent:()=>en,_removeServiceInstance:()=>Jt,deleteApp:()=>ds,getApp:()=>Fr,getApps:()=>cs,initializeApp:()=>Wi,onLog:()=>er,registerVersion:()=>Hr,setLogLevel:()=>Hn});var h=k(5861),Z=k(4859),O=k(1877),ae=k(2090);class X{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function pe(Xe){const Te=Xe.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(tt)){const pt=tt.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(tt=>tt).join(" ")}}const ie="@firebase/app",le=new O.Yd("@firebase/app"),Qt="[DEFAULT]",an={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qe=new Map,Wt=new Map;function Xn(Xe,Te){try{Xe.container.addComponent(Te)}catch(tt){le.debug(`Component ${Te.name} failed to register with FirebaseApp ${Xe.name}`,tt)}}function Cn(Xe,Te){Xe.container.addOrOverwriteComponent(Te)}function en(Xe){const Te=Xe.name;if(Wt.has(Te))return le.debug(`There were multiple attempts to register component ${Te}.`),!1;Wt.set(Te,Xe);for(const tt of qe.values())Xn(tt,Xe);return!0}function Ni(Xe,Te){const tt=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),Xe.container.getProvider(Te)}function Jt(Xe,Te,tt=Qt){Ni(Xe,Te).clearInstance(tt)}function Kt(){Wt.clear()}const ii=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Os{constructor(Te,tt,pt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}const Pr="9.6.11";function Wi(Xe,Te={}){"object"!=typeof Te&&(Te={name:Te});const tt=Object.assign({name:Qt,automaticDataCollectionEnabled:!1},Te),pt=tt.name;if("string"!=typeof pt||!pt)throw ii.create("bad-app-name",{appName:String(pt)});const Ht=qe.get(pt);if(Ht){if((0,ae.vZ)(Xe,Ht.options)&&(0,ae.vZ)(tt,Ht.config))return Ht;throw ii.create("duplicate-app",{appName:pt})}const Bt=new Z.H0(pt);for(const V of Wt.values())Bt.addComponent(V);const j=new Os(Xe,tt,Bt);return qe.set(pt,j),j}function Fr(Xe=Qt){const Te=qe.get(Xe);if(!Te)throw ii.create("no-app",{appName:Xe});return Te}function cs(){return Array.from(qe.values())}function ds(Xe){return ht.apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(Xe){const Te=Xe.name;qe.has(Te)&&(qe.delete(Te),yield Promise.all(Xe.container.getProviders().map(tt=>tt.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function Hr(Xe,Te,tt){var pt;let Ht=null!==(pt=an[Xe])&&void 0!==pt?pt:Xe;tt&&(Ht+=`-${tt}`);const Bt=Ht.match(/\s|\//),j=Te.match(/\s|\//);if(Bt||j){const V=[`Unable to register library "${Ht}" with version "${Te}":`];return Bt&&V.push(`library name "${Ht}" contains illegal characters (whitespace or "/")`),Bt&&j&&V.push("and"),j&&V.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void le.warn(V.join(" "))}en(new Z.wA(`${Ht}-version`,()=>({library:Ht,version:Te}),"VERSION"))}function er(Xe,Te){if(null!==Xe&&"function"!=typeof Xe)throw ii.create("invalid-log-argument");(0,O.Am)(Xe,Te)}function Hn(Xe){(0,O.Ub)(Xe)}const _n="firebase-heartbeat-store";let tr=null;function ks(){return tr||(tr=(0,ae.X3)("firebase-heartbeat-database",1,(Xe,Te)=>{0===Te&&Xe.createObjectStore(_n)}).catch(Xe=>{throw ii.create("storage-open",{originalErrorMessage:Xe.message})})),tr}function Zt(){return(Zt=(0,h.Z)(function*(Xe){try{return(yield ks()).transaction(_n).objectStore(_n).get(cr(Xe))}catch(Te){throw ii.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function lt(Xe,Te){return bt.apply(this,arguments)}function bt(){return(bt=(0,h.Z)(function*(Xe,Te){try{const pt=(yield ks()).transaction(_n,"readwrite");return yield pt.objectStore(_n).put(Te,cr(Xe)),pt.complete}catch(tt){throw ii.create("storage-set",{originalErrorMessage:tt.message})}})).apply(this,arguments)}function cr(Xe){return`${Xe.name}!${Xe.options.appId}`}class ho{constructor(Te){this.container=Te,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new ft(tt),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var Te=this;return(0,h.Z)(function*(){const pt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ht=wr();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Ht&&!Te._heartbeatsCache.heartbeats.some(Bt=>Bt.date===Ht))return Te._heartbeatsCache.heartbeats.push({date:Ht,agent:pt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Bt=>{const j=new Date(Bt.date).valueOf();return Date.now()-j<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,h.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const tt=wr(),{heartbeatsToSend:pt,unsentEntries:Ht}=function dr(Xe,Te=1024){const tt=[];let pt=Xe.slice();for(const Ht of Xe){const Bt=tt.find(j=>j.agent===Ht.agent);if(Bt){if(Bt.dates.push(Ht.date),Er(tt)>Te){Bt.dates.pop();break}}else if(tt.push({agent:Ht.agent,dates:[Ht.date]}),Er(tt)>Te){tt.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:pt}}(Te._heartbeatsCache.heartbeats),Bt=(0,ae.L)(JSON.stringify({version:2,heartbeats:pt}));return Te._heartbeatsCache.lastSentHeartbeatDate=tt,Ht.length>0?(Te._heartbeatsCache.heartbeats=Ht,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Bt})()}}function wr(){return(new Date).toISOString().substring(0,10)}class ft{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,h.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function Ea(Xe){return Zt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var tt=this;return(0,h.Z)(function*(){var pt;if(yield tt._canUseIndexedDBPromise){const Bt=yield tt.read();return lt(tt.app,{lastSentHeartbeatDate:null!==(pt=Te.lastSentHeartbeatDate)&&void 0!==pt?pt:Bt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var tt=this;return(0,h.Z)(function*(){var pt;if(yield tt._canUseIndexedDBPromise){const Bt=yield tt.read();return lt(tt.app,{lastSentHeartbeatDate:null!==(pt=Te.lastSentHeartbeatDate)&&void 0!==pt?pt:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...Te.heartbeats]})}})()}}function Er(Xe){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function jt(Xe){en(new Z.wA("platform-logger",Te=>new X(Te),"PRIVATE")),en(new Z.wA("heartbeat",Te=>new ho(Te),"PRIVATE")),Hr(ie,"0.7.21",Xe),Hr(ie,"0.7.21","esm2017"),Hr("fire-js","")}("")},4859:(dt,Ae,k)=>{k.d(Ae,{H0:()=>de,wA:()=>O});var h=k(5861),Z=k(2090);class O{constructor($,H,Q){this.name=$,this.instanceFactory=H,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ae="[DEFAULT]";class X{constructor($,H){this.name=$,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const H=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(H)){const Q=new Z.BH;if(this.instancesDeferred.set(H,Q),this.isInitialized(H)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:H});We&&Q.resolve(We)}catch(We){}}return this.instancesDeferred.get(H).promise}getImmediate($){var H;const Q=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),We=null!==(H=null==$?void 0:$.optional)&&void 0!==H&&H;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Se){if(We)return null;throw Se}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ie(le){return"EAGER"===le.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(H){}for(const[H,Q]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(H);try{const Se=this.getOrInitializeService({instanceIdentifier:We});Q.resolve(Se)}catch(Se){}}}}clearInstance($=ae){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,h.Z)(function*(){const H=Array.from($.instances.values());yield Promise.all([...H.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...H.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ae){return this.instances.has($)}getOptions($=ae){return this.instancesOptions.get($)||{}}initialize($={}){const{options:H={}}=$,Q=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:Q,options:H});for(const[Se,Ne]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Se)&&Ne.resolve(We);return We}onInit($,H){var Q;const We=this.normalizeInstanceIdentifier(H),Se=null!==(Q=this.onInitCallbacks.get(We))&&void 0!==Q?Q:new Set;Se.add($),this.onInitCallbacks.set(We,Se);const Ne=this.instances.get(We);return Ne&&$(Ne,We),()=>{Se.delete($)}}invokeOnInitCallbacks($,H){const Q=this.onInitCallbacks.get(H);if(Q)for(const We of Q)try{We($,H)}catch(Se){}}getOrInitializeService({instanceIdentifier:$,options:H={}}){let Q=this.instances.get($);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(le=$,le===ae?void 0:le),options:H}),this.instances.set($,Q),this.instancesOptions.set($,H),this.invokeOnInitCallbacks(Q,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Q)}catch(We){}var le;return Q||null}normalizeInstanceIdentifier($=ae){return this.component?this.component.multipleInstances?$:ae:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor($){this.name=$,this.providers=new Map}addComponent($){const H=this.getProvider($.name);if(H.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);H.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const H=new X($,this);return this.providers.set($,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(dt,Ae,k)=>{k.d(Ae,{Am:()=>le,Ub:()=>de,Yd:()=>ie,in:()=>Z});const h=[];var Z=(()=>{return($=Z||(Z={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",Z;var $})();const O={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},ae=Z.INFO,X={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},pe=($,H,...Q)=>{if(H<$.logLevel)return;const We=(new Date).toISOString(),Se=X[H];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Se](`[${We}]  ${$.name}:`,...Q)};class ie{constructor(H){this.name=H,this._logLevel=ae,this._logHandler=pe,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Z))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...H),this._logHandler(this,Z.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...H),this._logHandler(this,Z.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...H),this._logHandler(this,Z.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...H),this._logHandler(this,Z.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...H),this._logHandler(this,Z.ERROR,...H)}}function de($){h.forEach(H=>{H.setLogLevel($)})}function le($,H){for(const Q of h){let We=null;H&&H.level&&(We=O[H.level]),Q.userLogHandler=null===$?null:(Se,Ne,...Le)=>{const he=Le.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch(it){return null}}).filter(Ee=>Ee).join(" ");Ne>=(null!=We?We:Se.logLevel)&&$({level:Z[Ne].toLowerCase(),message:he,args:Le,type:Se.name})}}}},5861:(dt,Ae,k)=>{function h(O,ae,X,pe,ie,de,le){try{var $=O[de](le),H=$.value}catch(Q){return void X(Q)}$.done?ae(H):Promise.resolve(H).then(pe,ie)}function Z(O){return function(){var ae=this,X=arguments;return new Promise(function(pe,ie){var de=O.apply(ae,X);function le(H){h(de,pe,ie,le,$,"next",H)}function $(H){h(de,pe,ie,le,$,"throw",H)}le(void 0)})}}k.d(Ae,{Z:()=>Z})}},dt=>{dt(dt.s=1947)}]);